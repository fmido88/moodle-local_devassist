{"version":3,"file":"codemirror.min.js","sources":["../src/codemirror.js"],"sourcesContent":["/* eslint-disable */\nfunction getDefaultExportFromCjs (x) {\n\treturn x && x.__esModule && Object.prototype.hasOwnProperty.call(x, 'default') ? x['default'] : x;\n}\n\nvar codemirror$1 = {exports: {}};\n\nvar codemirror = codemirror$1.exports;\n\nvar hasRequiredCodemirror;\n\nfunction requireCodemirror () {\n\tif (hasRequiredCodemirror) return codemirror$1.exports;\n\thasRequiredCodemirror = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t// This is CodeMirror (https://codemirror.net/5), a code editor\n\t\t// implemented in JavaScript on top of the browser's DOM.\n\t\t//\n\t\t// You can find some technical background for some of the code below\n\t\t// at http://marijnhaverbeke.nl/blog/#cm-internals .\n\n\t\t(function (global, factory) {\n\t\t  module.exports = factory() ;\n\t\t}(codemirror, (function () {\n\t\t  // Kludges for bugs and behavior differences that can't be feature\n\t\t  // detected are enabled based on userAgent etc sniffing.\n\t\t  var userAgent = navigator.userAgent;\n\t\t  var platform = navigator.platform;\n\n\t\t  var gecko = /gecko\\/\\d/i.test(userAgent);\n\t\t  var ie_upto10 = /MSIE \\d/.test(userAgent);\n\t\t  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n\t\t  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n\t\t  var ie = ie_upto10 || ie_11up || edge;\n\t\t  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n\t\t  var webkit = !edge && /WebKit\\//.test(userAgent);\n\t\t  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n\t\t  var chrome = !edge && /Chrome\\/(\\d+)/.exec(userAgent);\n\t\t  var chrome_version = chrome && +chrome[1];\n\t\t  var presto = /Opera\\//.test(userAgent);\n\t\t  var safari = /Apple Computer/.test(navigator.vendor);\n\t\t  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n\t\t  var phantom = /PhantomJS/.test(userAgent);\n\n\t\t  var ios = safari && (/Mobile\\/\\w+/.test(userAgent) || navigator.maxTouchPoints > 2);\n\t\t  var android = /Android/.test(userAgent);\n\t\t  // This is woefully incomplete. Suggestions for alternative methods welcome.\n\t\t  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n\t\t  var mac = ios || /Mac/.test(platform);\n\t\t  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n\t\t  var windows = /win/i.test(platform);\n\n\t\t  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\t\t  if (presto_version) { presto_version = Number(presto_version[1]); }\n\t\t  if (presto_version && presto_version >= 15) { presto = false; webkit = true; }\n\t\t  // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\t\t  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n\t\t  var captureRightClick = gecko || (ie && ie_version >= 9);\n\n\t\t  function classTest(cls) { return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\") }\n\n\t\t  var rmClass = function(node, cls) {\n\t\t    var current = node.className;\n\t\t    var match = classTest(cls).exec(current);\n\t\t    if (match) {\n\t\t      var after = current.slice(match.index + match[0].length);\n\t\t      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n\t\t    }\n\t\t  };\n\n\t\t  function removeChildren(e) {\n\t\t    for (var count = e.childNodes.length; count > 0; --count)\n\t\t      { e.removeChild(e.firstChild); }\n\t\t    return e\n\t\t  }\n\n\t\t  function removeChildrenAndAdd(parent, e) {\n\t\t    return removeChildren(parent).appendChild(e)\n\t\t  }\n\n\t\t  function elt(tag, content, className, style) {\n\t\t    var e = document.createElement(tag);\n\t\t    if (className) { e.className = className; }\n\t\t    if (style) { e.style.cssText = style; }\n\t\t    if (typeof content == \"string\") { e.appendChild(document.createTextNode(content)); }\n\t\t    else if (content) { for (var i = 0; i < content.length; ++i) { e.appendChild(content[i]); } }\n\t\t    return e\n\t\t  }\n\t\t  // wrapper for elt, which removes the elt from the accessibility tree\n\t\t  function eltP(tag, content, className, style) {\n\t\t    var e = elt(tag, content, className, style);\n\t\t    e.setAttribute(\"role\", \"presentation\");\n\t\t    return e\n\t\t  }\n\n\t\t  var range;\n\t\t  if (document.createRange) { range = function(node, start, end, endNode) {\n\t\t    var r = document.createRange();\n\t\t    r.setEnd(endNode || node, end);\n\t\t    r.setStart(node, start);\n\t\t    return r\n\t\t  }; }\n\t\t  else { range = function(node, start, end) {\n\t\t    var r = document.body.createTextRange();\n\t\t    try { r.moveToElementText(node.parentNode); }\n\t\t    catch(e) { return r }\n\t\t    r.collapse(true);\n\t\t    r.moveEnd(\"character\", end);\n\t\t    r.moveStart(\"character\", start);\n\t\t    return r\n\t\t  }; }\n\n\t\t  function contains(parent, child) {\n\t\t    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n\t\t      { child = child.parentNode; }\n\t\t    if (parent.contains)\n\t\t      { return parent.contains(child) }\n\t\t    do {\n\t\t      if (child.nodeType == 11) { child = child.host; }\n\t\t      if (child == parent) { return true }\n\t\t    } while (child = child.parentNode)\n\t\t  }\n\n\t\t  function activeElt(rootNode) {\n\t\t    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n\t\t    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n\t\t    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n\t\t    var doc = rootNode.ownerDocument || rootNode;\n\t\t    var activeElement;\n\t\t    try {\n\t\t      activeElement = rootNode.activeElement;\n\t\t    } catch(e) {\n\t\t      activeElement = doc.body || null;\n\t\t    }\n\t\t    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement)\n\t\t      { activeElement = activeElement.shadowRoot.activeElement; }\n\t\t    return activeElement\n\t\t  }\n\n\t\t  function addClass(node, cls) {\n\t\t    var current = node.className;\n\t\t    if (!classTest(cls).test(current)) { node.className += (current ? \" \" : \"\") + cls; }\n\t\t  }\n\t\t  function joinClasses(a, b) {\n\t\t    var as = a.split(\" \");\n\t\t    for (var i = 0; i < as.length; i++)\n\t\t      { if (as[i] && !classTest(as[i]).test(b)) { b += \" \" + as[i]; } }\n\t\t    return b\n\t\t  }\n\n\t\t  var selectInput = function(node) { node.select(); };\n\t\t  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n\t\t    { selectInput = function(node) { node.selectionStart = 0; node.selectionEnd = node.value.length; }; }\n\t\t  else if (ie) // Suppress mysterious IE10 errors\n\t\t    { selectInput = function(node) { try { node.select(); } catch(_e) {} }; }\n\n\t\t  function doc(cm) { return cm.display.wrapper.ownerDocument }\n\n\t\t  function root(cm) {\n\t\t    return rootNode(cm.display.wrapper)\n\t\t  }\n\n\t\t  function rootNode(element) {\n\t\t    // Detect modern browsers (2017+).\n\t\t    return element.getRootNode ? element.getRootNode() : element.ownerDocument\n\t\t  }\n\n\t\t  function win(cm) { return doc(cm).defaultView }\n\n\t\t  function bind(f) {\n\t\t    var args = Array.prototype.slice.call(arguments, 1);\n\t\t    return function(){return f.apply(null, args)}\n\t\t  }\n\n\t\t  function copyObj(obj, target, overwrite) {\n\t\t    if (!target) { target = {}; }\n\t\t    for (var prop in obj)\n\t\t      { if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop)))\n\t\t        { target[prop] = obj[prop]; } }\n\t\t    return target\n\t\t  }\n\n\t\t  // Counts the column offset in a string, taking tabs into account.\n\t\t  // Used mostly to find indentation.\n\t\t  function countColumn(string, end, tabSize, startIndex, startValue) {\n\t\t    if (end == null) {\n\t\t      end = string.search(/[^\\s\\u00a0]/);\n\t\t      if (end == -1) { end = string.length; }\n\t\t    }\n\t\t    for (var i = startIndex || 0, n = startValue || 0;;) {\n\t\t      var nextTab = string.indexOf(\"\\t\", i);\n\t\t      if (nextTab < 0 || nextTab >= end)\n\t\t        { return n + (end - i) }\n\t\t      n += nextTab - i;\n\t\t      n += tabSize - (n % tabSize);\n\t\t      i = nextTab + 1;\n\t\t    }\n\t\t  }\n\n\t\t  var Delayed = function() {\n\t\t    this.id = null;\n\t\t    this.f = null;\n\t\t    this.time = 0;\n\t\t    this.handler = bind(this.onTimeout, this);\n\t\t  };\n\t\t  Delayed.prototype.onTimeout = function (self) {\n\t\t    self.id = 0;\n\t\t    if (self.time <= +new Date) {\n\t\t      self.f();\n\t\t    } else {\n\t\t      setTimeout(self.handler, self.time - +new Date);\n\t\t    }\n\t\t  };\n\t\t  Delayed.prototype.set = function (ms, f) {\n\t\t    this.f = f;\n\t\t    var time = +new Date + ms;\n\t\t    if (!this.id || time < this.time) {\n\t\t      clearTimeout(this.id);\n\t\t      this.id = setTimeout(this.handler, ms);\n\t\t      this.time = time;\n\t\t    }\n\t\t  };\n\n\t\t  function indexOf(array, elt) {\n\t\t    for (var i = 0; i < array.length; ++i)\n\t\t      { if (array[i] == elt) { return i } }\n\t\t    return -1\n\t\t  }\n\n\t\t  // Number of pixels added to scroller and sizer to hide scrollbar\n\t\t  var scrollerGap = 50;\n\n\t\t  // Returned or thrown by various protocols to signal 'I'm not\n\t\t  // handling this'.\n\t\t  var Pass = {toString: function(){return \"CodeMirror.Pass\"}};\n\n\t\t  // Reused option objects for setSelection & friends\n\t\t  var sel_dontScroll = {scroll: false}, sel_mouse = {origin: \"*mouse\"}, sel_move = {origin: \"+move\"};\n\n\t\t  // The inverse of countColumn -- find the offset that corresponds to\n\t\t  // a particular column.\n\t\t  function findColumn(string, goal, tabSize) {\n\t\t    for (var pos = 0, col = 0;;) {\n\t\t      var nextTab = string.indexOf(\"\\t\", pos);\n\t\t      if (nextTab == -1) { nextTab = string.length; }\n\t\t      var skipped = nextTab - pos;\n\t\t      if (nextTab == string.length || col + skipped >= goal)\n\t\t        { return pos + Math.min(skipped, goal - col) }\n\t\t      col += nextTab - pos;\n\t\t      col += tabSize - (col % tabSize);\n\t\t      pos = nextTab + 1;\n\t\t      if (col >= goal) { return pos }\n\t\t    }\n\t\t  }\n\n\t\t  var spaceStrs = [\"\"];\n\t\t  function spaceStr(n) {\n\t\t    while (spaceStrs.length <= n)\n\t\t      { spaceStrs.push(lst(spaceStrs) + \" \"); }\n\t\t    return spaceStrs[n]\n\t\t  }\n\n\t\t  function lst(arr) { return arr[arr.length-1] }\n\n\t\t  function map(array, f) {\n\t\t    var out = [];\n\t\t    for (var i = 0; i < array.length; i++) { out[i] = f(array[i], i); }\n\t\t    return out\n\t\t  }\n\n\t\t  function insertSorted(array, value, score) {\n\t\t    var pos = 0, priority = score(value);\n\t\t    while (pos < array.length && score(array[pos]) <= priority) { pos++; }\n\t\t    array.splice(pos, 0, value);\n\t\t  }\n\n\t\t  function nothing() {}\n\n\t\t  function createObj(base, props) {\n\t\t    var inst;\n\t\t    if (Object.create) {\n\t\t      inst = Object.create(base);\n\t\t    } else {\n\t\t      nothing.prototype = base;\n\t\t      inst = new nothing();\n\t\t    }\n\t\t    if (props) { copyObj(props, inst); }\n\t\t    return inst\n\t\t  }\n\n\t\t  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\t\t  function isWordCharBasic(ch) {\n\t\t    return /\\w/.test(ch) || ch > \"\\x80\" &&\n\t\t      (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch))\n\t\t  }\n\t\t  function isWordChar(ch, helper) {\n\t\t    if (!helper) { return isWordCharBasic(ch) }\n\t\t    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) { return true }\n\t\t    return helper.test(ch)\n\t\t  }\n\n\t\t  function isEmpty(obj) {\n\t\t    for (var n in obj) { if (obj.hasOwnProperty(n) && obj[n]) { return false } }\n\t\t    return true\n\t\t  }\n\n\t\t  // Extending unicode characters. A series of a non-extending char +\n\t\t  // any number of extending chars is treated as a single unit as far\n\t\t  // as editing and measuring is concerned. This is not fully correct,\n\t\t  // since some scripts/fonts/browsers also treat other configurations\n\t\t  // of code points as a group.\n\t\t  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\t\t  function isExtendingChar(ch) { return ch.charCodeAt(0) >= 768 && extendingChars.test(ch) }\n\n\t\t  // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\t\t  function skipExtendingChars(str, pos, dir) {\n\t\t    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) { pos += dir; }\n\t\t    return pos\n\t\t  }\n\n\t\t  // Returns the value from the range [`from`; `to`] that satisfies\n\t\t  // `pred` and is closest to `from`. Assumes that at least `to`\n\t\t  // satisfies `pred`. Supports `from` being greater than `to`.\n\t\t  function findFirst(pred, from, to) {\n\t\t    // At any point we are certain `to` satisfies `pred`, don't know\n\t\t    // whether `from` does.\n\t\t    var dir = from > to ? -1 : 1;\n\t\t    for (;;) {\n\t\t      if (from == to) { return from }\n\t\t      var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\t\t      if (mid == from) { return pred(mid) ? from : to }\n\t\t      if (pred(mid)) { to = mid; }\n\t\t      else { from = mid + dir; }\n\t\t    }\n\t\t  }\n\n\t\t  // BIDI HELPERS\n\n\t\t  function iterateBidiSections(order, from, to, f) {\n\t\t    if (!order) { return f(from, to, \"ltr\", 0) }\n\t\t    var found = false;\n\t\t    for (var i = 0; i < order.length; ++i) {\n\t\t      var part = order[i];\n\t\t      if (part.from < to && part.to > from || from == to && part.to == from) {\n\t\t        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n\t\t        found = true;\n\t\t      }\n\t\t    }\n\t\t    if (!found) { f(from, to, \"ltr\"); }\n\t\t  }\n\n\t\t  var bidiOther = null;\n\t\t  function getBidiPartAt(order, ch, sticky) {\n\t\t    var found;\n\t\t    bidiOther = null;\n\t\t    for (var i = 0; i < order.length; ++i) {\n\t\t      var cur = order[i];\n\t\t      if (cur.from < ch && cur.to > ch) { return i }\n\t\t      if (cur.to == ch) {\n\t\t        if (cur.from != cur.to && sticky == \"before\") { found = i; }\n\t\t        else { bidiOther = i; }\n\t\t      }\n\t\t      if (cur.from == ch) {\n\t\t        if (cur.from != cur.to && sticky != \"before\") { found = i; }\n\t\t        else { bidiOther = i; }\n\t\t      }\n\t\t    }\n\t\t    return found != null ? found : bidiOther\n\t\t  }\n\n\t\t  // Bidirectional ordering algorithm\n\t\t  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n\t\t  // that this (partially) implements.\n\n\t\t  // One-char codes used for character types:\n\t\t  // L (L):   Left-to-Right\n\t\t  // R (R):   Right-to-Left\n\t\t  // r (AL):  Right-to-Left Arabic\n\t\t  // 1 (EN):  European Number\n\t\t  // + (ES):  European Number Separator\n\t\t  // % (ET):  European Number Terminator\n\t\t  // n (AN):  Arabic Number\n\t\t  // , (CS):  Common Number Separator\n\t\t  // m (NSM): Non-Spacing Mark\n\t\t  // b (BN):  Boundary Neutral\n\t\t  // s (B):   Paragraph Separator\n\t\t  // t (S):   Segment Separator\n\t\t  // w (WS):  Whitespace\n\t\t  // N (ON):  Other Neutrals\n\n\t\t  // Returns null if characters are ordered as they appear\n\t\t  // (left-to-right), or an array of sections ({from, to, level}\n\t\t  // objects) in the order in which they occur visually.\n\t\t  var bidiOrdering = (function() {\n\t\t    // Character types for codepoints 0 to 0xff\n\t\t    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\";\n\t\t    // Character types for codepoints 0x600 to 0x6f9\n\t\t    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\t\t    function charType(code) {\n\t\t      if (code <= 0xf7) { return lowTypes.charAt(code) }\n\t\t      else if (0x590 <= code && code <= 0x5f4) { return \"R\" }\n\t\t      else if (0x600 <= code && code <= 0x6f9) { return arabicTypes.charAt(code - 0x600) }\n\t\t      else if (0x6ee <= code && code <= 0x8ac) { return \"r\" }\n\t\t      else if (0x2000 <= code && code <= 0x200b) { return \"w\" }\n\t\t      else if (code == 0x200c) { return \"b\" }\n\t\t      else { return \"L\" }\n\t\t    }\n\n\t\t    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n\t\t    var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;\n\n\t\t    function BidiSpan(level, from, to) {\n\t\t      this.level = level;\n\t\t      this.from = from; this.to = to;\n\t\t    }\n\n\t\t    return function(str, direction) {\n\t\t      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n\t\t      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) { return false }\n\t\t      var len = str.length, types = [];\n\t\t      for (var i = 0; i < len; ++i)\n\t\t        { types.push(charType(str.charCodeAt(i))); }\n\n\t\t      // W1. Examine each non-spacing mark (NSM) in the level run, and\n\t\t      // change the type of the NSM to the type of the previous\n\t\t      // character. If the NSM is at the start of the level run, it will\n\t\t      // get the type of sor.\n\t\t      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n\t\t        var type = types[i$1];\n\t\t        if (type == \"m\") { types[i$1] = prev; }\n\t\t        else { prev = type; }\n\t\t      }\n\n\t\t      // W2. Search backwards from each instance of a European number\n\t\t      // until the first strong type (R, L, AL, or sor) is found. If an\n\t\t      // AL is found, change the type of the European number to Arabic\n\t\t      // number.\n\t\t      // W3. Change all ALs to R.\n\t\t      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n\t\t        var type$1 = types[i$2];\n\t\t        if (type$1 == \"1\" && cur == \"r\") { types[i$2] = \"n\"; }\n\t\t        else if (isStrong.test(type$1)) { cur = type$1; if (type$1 == \"r\") { types[i$2] = \"R\"; } }\n\t\t      }\n\n\t\t      // W4. A single European separator between two European numbers\n\t\t      // changes to a European number. A single common separator between\n\t\t      // two numbers of the same type changes to that type.\n\t\t      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n\t\t        var type$2 = types[i$3];\n\t\t        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3+1] == \"1\") { types[i$3] = \"1\"; }\n\t\t        else if (type$2 == \",\" && prev$1 == types[i$3+1] &&\n\t\t                 (prev$1 == \"1\" || prev$1 == \"n\")) { types[i$3] = prev$1; }\n\t\t        prev$1 = type$2;\n\t\t      }\n\n\t\t      // W5. A sequence of European terminators adjacent to European\n\t\t      // numbers changes to all European numbers.\n\t\t      // W6. Otherwise, separators and terminators change to Other\n\t\t      // Neutral.\n\t\t      for (var i$4 = 0; i$4 < len; ++i$4) {\n\t\t        var type$3 = types[i$4];\n\t\t        if (type$3 == \",\") { types[i$4] = \"N\"; }\n\t\t        else if (type$3 == \"%\") {\n\t\t          var end = (undefined);\n\t\t          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\t\t          var replace = (i$4 && types[i$4-1] == \"!\") || (end < len && types[end] == \"1\") ? \"1\" : \"N\";\n\t\t          for (var j = i$4; j < end; ++j) { types[j] = replace; }\n\t\t          i$4 = end - 1;\n\t\t        }\n\t\t      }\n\n\t\t      // W7. Search backwards from each instance of a European number\n\t\t      // until the first strong type (R, L, or sor) is found. If an L is\n\t\t      // found, then change the type of the European number to L.\n\t\t      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n\t\t        var type$4 = types[i$5];\n\t\t        if (cur$1 == \"L\" && type$4 == \"1\") { types[i$5] = \"L\"; }\n\t\t        else if (isStrong.test(type$4)) { cur$1 = type$4; }\n\t\t      }\n\n\t\t      // N1. A sequence of neutrals takes the direction of the\n\t\t      // surrounding strong text if the text on both sides has the same\n\t\t      // direction. European and Arabic numbers act as if they were R in\n\t\t      // terms of their influence on neutrals. Start-of-level-run (sor)\n\t\t      // and end-of-level-run (eor) are used at level run boundaries.\n\t\t      // N2. Any remaining neutrals take the embedding direction.\n\t\t      for (var i$6 = 0; i$6 < len; ++i$6) {\n\t\t        if (isNeutral.test(types[i$6])) {\n\t\t          var end$1 = (undefined);\n\t\t          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\t\t          var before = (i$6 ? types[i$6-1] : outerType) == \"L\";\n\t\t          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n\t\t          var replace$1 = before == after ? (before ? \"L\" : \"R\") : outerType;\n\t\t          for (var j$1 = i$6; j$1 < end$1; ++j$1) { types[j$1] = replace$1; }\n\t\t          i$6 = end$1 - 1;\n\t\t        }\n\t\t      }\n\n\t\t      // Here we depart from the documented algorithm, in order to avoid\n\t\t      // building up an actual levels array. Since there are only three\n\t\t      // levels (0, 1, 2) in an implementation that doesn't take\n\t\t      // explicit embedding into account, we can build up the order on\n\t\t      // the fly, without following the level-based algorithm.\n\t\t      var order = [], m;\n\t\t      for (var i$7 = 0; i$7 < len;) {\n\t\t        if (countsAsLeft.test(types[i$7])) {\n\t\t          var start = i$7;\n\t\t          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\t\t          order.push(new BidiSpan(0, start, i$7));\n\t\t        } else {\n\t\t          var pos = i$7, at = order.length, isRTL = direction == \"rtl\" ? 1 : 0;\n\t\t          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\t\t          for (var j$2 = pos; j$2 < i$7;) {\n\t\t            if (countsAsNum.test(types[j$2])) {\n\t\t              if (pos < j$2) { order.splice(at, 0, new BidiSpan(1, pos, j$2)); at += isRTL; }\n\t\t              var nstart = j$2;\n\t\t              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\t\t              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n\t\t              at += isRTL;\n\t\t              pos = j$2;\n\t\t            } else { ++j$2; }\n\t\t          }\n\t\t          if (pos < i$7) { order.splice(at, 0, new BidiSpan(1, pos, i$7)); }\n\t\t        }\n\t\t      }\n\t\t      if (direction == \"ltr\") {\n\t\t        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n\t\t          order[0].from = m[0].length;\n\t\t          order.unshift(new BidiSpan(0, 0, m[0].length));\n\t\t        }\n\t\t        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n\t\t          lst(order).to -= m[0].length;\n\t\t          order.push(new BidiSpan(0, len - m[0].length, len));\n\t\t        }\n\t\t      }\n\n\t\t      return direction == \"rtl\" ? order.reverse() : order\n\t\t    }\n\t\t  })();\n\n\t\t  // Get the bidi ordering for the given line (and cache it). Returns\n\t\t  // false for lines that are fully left-to-right, and an array of\n\t\t  // BidiSpan objects otherwise.\n\t\t  function getOrder(line, direction) {\n\t\t    var order = line.order;\n\t\t    if (order == null) { order = line.order = bidiOrdering(line.text, direction); }\n\t\t    return order\n\t\t  }\n\n\t\t  // EVENT HANDLING\n\n\t\t  // Lightweight event framework. on/off also work on DOM nodes,\n\t\t  // registering native DOM handlers.\n\n\t\t  var noHandlers = [];\n\n\t\t  var on = function(emitter, type, f) {\n\t\t    if (emitter.addEventListener) {\n\t\t      emitter.addEventListener(type, f, false);\n\t\t    } else if (emitter.attachEvent) {\n\t\t      emitter.attachEvent(\"on\" + type, f);\n\t\t    } else {\n\t\t      var map = emitter._handlers || (emitter._handlers = {});\n\t\t      map[type] = (map[type] || noHandlers).concat(f);\n\t\t    }\n\t\t  };\n\n\t\t  function getHandlers(emitter, type) {\n\t\t    return emitter._handlers && emitter._handlers[type] || noHandlers\n\t\t  }\n\n\t\t  function off(emitter, type, f) {\n\t\t    if (emitter.removeEventListener) {\n\t\t      emitter.removeEventListener(type, f, false);\n\t\t    } else if (emitter.detachEvent) {\n\t\t      emitter.detachEvent(\"on\" + type, f);\n\t\t    } else {\n\t\t      var map = emitter._handlers, arr = map && map[type];\n\t\t      if (arr) {\n\t\t        var index = indexOf(arr, f);\n\t\t        if (index > -1)\n\t\t          { map[type] = arr.slice(0, index).concat(arr.slice(index + 1)); }\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  function signal(emitter, type /*, values...*/) {\n\t\t    var handlers = getHandlers(emitter, type);\n\t\t    if (!handlers.length) { return }\n\t\t    var args = Array.prototype.slice.call(arguments, 2);\n\t\t    for (var i = 0; i < handlers.length; ++i) { handlers[i].apply(null, args); }\n\t\t  }\n\n\t\t  // The DOM events that CodeMirror handles can be overridden by\n\t\t  // registering a (non-DOM) handler on the editor for the event name,\n\t\t  // and preventDefault-ing the event in that handler.\n\t\t  function signalDOMEvent(cm, e, override) {\n\t\t    if (typeof e == \"string\")\n\t\t      { e = {type: e, preventDefault: function() { this.defaultPrevented = true; }}; }\n\t\t    signal(cm, override || e.type, cm, e);\n\t\t    return e_defaultPrevented(e) || e.codemirrorIgnore\n\t\t  }\n\n\t\t  function signalCursorActivity(cm) {\n\t\t    var arr = cm._handlers && cm._handlers.cursorActivity;\n\t\t    if (!arr) { return }\n\t\t    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\t\t    for (var i = 0; i < arr.length; ++i) { if (indexOf(set, arr[i]) == -1)\n\t\t      { set.push(arr[i]); } }\n\t\t  }\n\n\t\t  function hasHandler(emitter, type) {\n\t\t    return getHandlers(emitter, type).length > 0\n\t\t  }\n\n\t\t  // Add on and off methods to a constructor's prototype, to make\n\t\t  // registering events on such objects more convenient.\n\t\t  function eventMixin(ctor) {\n\t\t    ctor.prototype.on = function(type, f) {on(this, type, f);};\n\t\t    ctor.prototype.off = function(type, f) {off(this, type, f);};\n\t\t  }\n\n\t\t  // Due to the fact that we still support jurassic IE versions, some\n\t\t  // compatibility wrappers are needed.\n\n\t\t  function e_preventDefault(e) {\n\t\t    if (e.preventDefault) { e.preventDefault(); }\n\t\t    else { e.returnValue = false; }\n\t\t  }\n\t\t  function e_stopPropagation(e) {\n\t\t    if (e.stopPropagation) { e.stopPropagation(); }\n\t\t    else { e.cancelBubble = true; }\n\t\t  }\n\t\t  function e_defaultPrevented(e) {\n\t\t    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false\n\t\t  }\n\t\t  function e_stop(e) {e_preventDefault(e); e_stopPropagation(e);}\n\n\t\t  function e_target(e) {return e.target || e.srcElement}\n\t\t  function e_button(e) {\n\t\t    var b = e.which;\n\t\t    if (b == null) {\n\t\t      if (e.button & 1) { b = 1; }\n\t\t      else if (e.button & 2) { b = 3; }\n\t\t      else if (e.button & 4) { b = 2; }\n\t\t    }\n\t\t    if (mac && e.ctrlKey && b == 1) { b = 3; }\n\t\t    return b\n\t\t  }\n\n\t\t  // Detect drag-and-drop\n\t\t  var dragAndDrop = function() {\n\t\t    // There is *some* kind of drag-and-drop support in IE6-8, but I\n\t\t    // couldn't get it to work yet.\n\t\t    if (ie && ie_version < 9) { return false }\n\t\t    var div = elt('div');\n\t\t    return \"draggable\" in div || \"dragDrop\" in div\n\t\t  }();\n\n\t\t  var zwspSupported;\n\t\t  function zeroWidthElement(measure) {\n\t\t    if (zwspSupported == null) {\n\t\t      var test = elt(\"span\", \"\\u200b\");\n\t\t      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\t\t      if (measure.firstChild.offsetHeight != 0)\n\t\t        { zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8); }\n\t\t    }\n\t\t    var node = zwspSupported ? elt(\"span\", \"\\u200b\") :\n\t\t      elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n\t\t    node.setAttribute(\"cm-text\", \"\");\n\t\t    return node\n\t\t  }\n\n\t\t  // Feature-detect IE's crummy client rect reporting for bidi text\n\t\t  var badBidiRects;\n\t\t  function hasBadBidiRects(measure) {\n\t\t    if (badBidiRects != null) { return badBidiRects }\n\t\t    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n\t\t    var r0 = range(txt, 0, 1).getBoundingClientRect();\n\t\t    var r1 = range(txt, 1, 2).getBoundingClientRect();\n\t\t    removeChildren(measure);\n\t\t    if (!r0 || r0.left == r0.right) { return false } // Safari returns null in some cases (#2780)\n\t\t    return badBidiRects = (r1.right - r0.right < 3)\n\t\t  }\n\n\t\t  // See if \"\".split is the broken IE version, if so, provide an\n\t\t  // alternative way to split lines.\n\t\t  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n\t\t    var pos = 0, result = [], l = string.length;\n\t\t    while (pos <= l) {\n\t\t      var nl = string.indexOf(\"\\n\", pos);\n\t\t      if (nl == -1) { nl = string.length; }\n\t\t      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n\t\t      var rt = line.indexOf(\"\\r\");\n\t\t      if (rt != -1) {\n\t\t        result.push(line.slice(0, rt));\n\t\t        pos += rt + 1;\n\t\t      } else {\n\t\t        result.push(line);\n\t\t        pos = nl + 1;\n\t\t      }\n\t\t    }\n\t\t    return result\n\t\t  } : function (string) { return string.split(/\\r\\n?|\\n/); };\n\n\t\t  var hasSelection = window.getSelection ? function (te) {\n\t\t    try { return te.selectionStart != te.selectionEnd }\n\t\t    catch(e) { return false }\n\t\t  } : function (te) {\n\t\t    var range;\n\t\t    try {range = te.ownerDocument.selection.createRange();}\n\t\t    catch(e) {}\n\t\t    if (!range || range.parentElement() != te) { return false }\n\t\t    return range.compareEndPoints(\"StartToEnd\", range) != 0\n\t\t  };\n\n\t\t  var hasCopyEvent = (function () {\n\t\t    var e = elt(\"div\");\n\t\t    if (\"oncopy\" in e) { return true }\n\t\t    e.setAttribute(\"oncopy\", \"return;\");\n\t\t    return typeof e.oncopy == \"function\"\n\t\t  })();\n\n\t\t  var badZoomedRects = null;\n\t\t  function hasBadZoomedRects(measure) {\n\t\t    if (badZoomedRects != null) { return badZoomedRects }\n\t\t    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n\t\t    var normal = node.getBoundingClientRect();\n\t\t    var fromRange = range(node, 0, 1).getBoundingClientRect();\n\t\t    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1\n\t\t  }\n\n\t\t  // Known modes, by name and by MIME\n\t\t  var modes = {}, mimeModes = {};\n\n\t\t  // Extra arguments are stored as the mode's dependencies, which is\n\t\t  // used by (legacy) mechanisms like loadmode.js to automatically\n\t\t  // load a mode. (Preferred mechanism is the require/define calls.)\n\t\t  function defineMode(name, mode) {\n\t\t    if (arguments.length > 2)\n\t\t      { mode.dependencies = Array.prototype.slice.call(arguments, 2); }\n\t\t    modes[name] = mode;\n\t\t  }\n\n\t\t  function defineMIME(mime, spec) {\n\t\t    mimeModes[mime] = spec;\n\t\t  }\n\n\t\t  // Given a MIME type, a {name, ...options} config object, or a name\n\t\t  // string, return a mode config object.\n\t\t  function resolveMode(spec) {\n\t\t    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n\t\t      spec = mimeModes[spec];\n\t\t    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n\t\t      var found = mimeModes[spec.name];\n\t\t      if (typeof found == \"string\") { found = {name: found}; }\n\t\t      spec = createObj(found, spec);\n\t\t      spec.name = found.name;\n\t\t    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n\t\t      return resolveMode(\"application/xml\")\n\t\t    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n\t\t      return resolveMode(\"application/json\")\n\t\t    }\n\t\t    if (typeof spec == \"string\") { return {name: spec} }\n\t\t    else { return spec || {name: \"null\"} }\n\t\t  }\n\n\t\t  // Given a mode spec (anything that resolveMode accepts), find and\n\t\t  // initialize an actual mode object.\n\t\t  function getMode(options, spec) {\n\t\t    spec = resolveMode(spec);\n\t\t    var mfactory = modes[spec.name];\n\t\t    if (!mfactory) { return getMode(options, \"text/plain\") }\n\t\t    var modeObj = mfactory(options, spec);\n\t\t    if (modeExtensions.hasOwnProperty(spec.name)) {\n\t\t      var exts = modeExtensions[spec.name];\n\t\t      for (var prop in exts) {\n\t\t        if (!exts.hasOwnProperty(prop)) { continue }\n\t\t        if (modeObj.hasOwnProperty(prop)) { modeObj[\"_\" + prop] = modeObj[prop]; }\n\t\t        modeObj[prop] = exts[prop];\n\t\t      }\n\t\t    }\n\t\t    modeObj.name = spec.name;\n\t\t    if (spec.helperType) { modeObj.helperType = spec.helperType; }\n\t\t    if (spec.modeProps) { for (var prop$1 in spec.modeProps)\n\t\t      { modeObj[prop$1] = spec.modeProps[prop$1]; } }\n\n\t\t    return modeObj\n\t\t  }\n\n\t\t  // This can be used to attach properties to mode objects from\n\t\t  // outside the actual mode definition.\n\t\t  var modeExtensions = {};\n\t\t  function extendMode(mode, properties) {\n\t\t    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : (modeExtensions[mode] = {});\n\t\t    copyObj(properties, exts);\n\t\t  }\n\n\t\t  function copyState(mode, state) {\n\t\t    if (state === true) { return state }\n\t\t    if (mode.copyState) { return mode.copyState(state) }\n\t\t    var nstate = {};\n\t\t    for (var n in state) {\n\t\t      var val = state[n];\n\t\t      if (val instanceof Array) { val = val.concat([]); }\n\t\t      nstate[n] = val;\n\t\t    }\n\t\t    return nstate\n\t\t  }\n\n\t\t  // Given a mode and a state (for that mode), find the inner mode and\n\t\t  // state at the position that the state refers to.\n\t\t  function innerMode(mode, state) {\n\t\t    var info;\n\t\t    while (mode.innerMode) {\n\t\t      info = mode.innerMode(state);\n\t\t      if (!info || info.mode == mode) { break }\n\t\t      state = info.state;\n\t\t      mode = info.mode;\n\t\t    }\n\t\t    return info || {mode: mode, state: state}\n\t\t  }\n\n\t\t  function startState(mode, a1, a2) {\n\t\t    return mode.startState ? mode.startState(a1, a2) : true\n\t\t  }\n\n\t\t  // STRING STREAM\n\n\t\t  // Fed to the mode parsers, provides helper functions to make\n\t\t  // parsers more succinct.\n\n\t\t  var StringStream = function(string, tabSize, lineOracle) {\n\t\t    this.pos = this.start = 0;\n\t\t    this.string = string;\n\t\t    this.tabSize = tabSize || 8;\n\t\t    this.lastColumnPos = this.lastColumnValue = 0;\n\t\t    this.lineStart = 0;\n\t\t    this.lineOracle = lineOracle;\n\t\t  };\n\n\t\t  StringStream.prototype.eol = function () {return this.pos >= this.string.length};\n\t\t  StringStream.prototype.sol = function () {return this.pos == this.lineStart};\n\t\t  StringStream.prototype.peek = function () {return this.string.charAt(this.pos) || undefined};\n\t\t  StringStream.prototype.next = function () {\n\t\t    if (this.pos < this.string.length)\n\t\t      { return this.string.charAt(this.pos++) }\n\t\t  };\n\t\t  StringStream.prototype.eat = function (match) {\n\t\t    var ch = this.string.charAt(this.pos);\n\t\t    var ok;\n\t\t    if (typeof match == \"string\") { ok = ch == match; }\n\t\t    else { ok = ch && (match.test ? match.test(ch) : match(ch)); }\n\t\t    if (ok) {++this.pos; return ch}\n\t\t  };\n\t\t  StringStream.prototype.eatWhile = function (match) {\n\t\t    var start = this.pos;\n\t\t    while (this.eat(match)){}\n\t\t    return this.pos > start\n\t\t  };\n\t\t  StringStream.prototype.eatSpace = function () {\n\t\t    var start = this.pos;\n\t\t    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) { ++this.pos; }\n\t\t    return this.pos > start\n\t\t  };\n\t\t  StringStream.prototype.skipToEnd = function () {this.pos = this.string.length;};\n\t\t  StringStream.prototype.skipTo = function (ch) {\n\t\t    var found = this.string.indexOf(ch, this.pos);\n\t\t    if (found > -1) {this.pos = found; return true}\n\t\t  };\n\t\t  StringStream.prototype.backUp = function (n) {this.pos -= n;};\n\t\t  StringStream.prototype.column = function () {\n\t\t    if (this.lastColumnPos < this.start) {\n\t\t      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n\t\t      this.lastColumnPos = this.start;\n\t\t    }\n\t\t    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n\t\t  };\n\t\t  StringStream.prototype.indentation = function () {\n\t\t    return countColumn(this.string, null, this.tabSize) -\n\t\t      (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0)\n\t\t  };\n\t\t  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n\t\t    if (typeof pattern == \"string\") {\n\t\t      var cased = function (str) { return caseInsensitive ? str.toLowerCase() : str; };\n\t\t      var substr = this.string.substr(this.pos, pattern.length);\n\t\t      if (cased(substr) == cased(pattern)) {\n\t\t        if (consume !== false) { this.pos += pattern.length; }\n\t\t        return true\n\t\t      }\n\t\t    } else {\n\t\t      var match = this.string.slice(this.pos).match(pattern);\n\t\t      if (match && match.index > 0) { return null }\n\t\t      if (match && consume !== false) { this.pos += match[0].length; }\n\t\t      return match\n\t\t    }\n\t\t  };\n\t\t  StringStream.prototype.current = function (){return this.string.slice(this.start, this.pos)};\n\t\t  StringStream.prototype.hideFirstChars = function (n, inner) {\n\t\t    this.lineStart += n;\n\t\t    try { return inner() }\n\t\t    finally { this.lineStart -= n; }\n\t\t  };\n\t\t  StringStream.prototype.lookAhead = function (n) {\n\t\t    var oracle = this.lineOracle;\n\t\t    return oracle && oracle.lookAhead(n)\n\t\t  };\n\t\t  StringStream.prototype.baseToken = function () {\n\t\t    var oracle = this.lineOracle;\n\t\t    return oracle && oracle.baseToken(this.pos)\n\t\t  };\n\n\t\t  // Find the line object corresponding to the given line number.\n\t\t  function getLine(doc, n) {\n\t\t    n -= doc.first;\n\t\t    if (n < 0 || n >= doc.size) { throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\") }\n\t\t    var chunk = doc;\n\t\t    while (!chunk.lines) {\n\t\t      for (var i = 0;; ++i) {\n\t\t        var child = chunk.children[i], sz = child.chunkSize();\n\t\t        if (n < sz) { chunk = child; break }\n\t\t        n -= sz;\n\t\t      }\n\t\t    }\n\t\t    return chunk.lines[n]\n\t\t  }\n\n\t\t  // Get the part of a document between two positions, as an array of\n\t\t  // strings.\n\t\t  function getBetween(doc, start, end) {\n\t\t    var out = [], n = start.line;\n\t\t    doc.iter(start.line, end.line + 1, function (line) {\n\t\t      var text = line.text;\n\t\t      if (n == end.line) { text = text.slice(0, end.ch); }\n\t\t      if (n == start.line) { text = text.slice(start.ch); }\n\t\t      out.push(text);\n\t\t      ++n;\n\t\t    });\n\t\t    return out\n\t\t  }\n\t\t  // Get the lines between from and to, as array of strings.\n\t\t  function getLines(doc, from, to) {\n\t\t    var out = [];\n\t\t    doc.iter(from, to, function (line) { out.push(line.text); }); // iter aborts when callback returns truthy value\n\t\t    return out\n\t\t  }\n\n\t\t  // Update the height of a line, propagating the height change\n\t\t  // upwards to parent nodes.\n\t\t  function updateLineHeight(line, height) {\n\t\t    var diff = height - line.height;\n\t\t    if (diff) { for (var n = line; n; n = n.parent) { n.height += diff; } }\n\t\t  }\n\n\t\t  // Given a line object, find its line number by walking up through\n\t\t  // its parent links.\n\t\t  function lineNo(line) {\n\t\t    if (line.parent == null) { return null }\n\t\t    var cur = line.parent, no = indexOf(cur.lines, line);\n\t\t    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n\t\t      for (var i = 0;; ++i) {\n\t\t        if (chunk.children[i] == cur) { break }\n\t\t        no += chunk.children[i].chunkSize();\n\t\t      }\n\t\t    }\n\t\t    return no + cur.first\n\t\t  }\n\n\t\t  // Find the line at the given vertical position, using the height\n\t\t  // information in the document tree.\n\t\t  function lineAtHeight(chunk, h) {\n\t\t    var n = chunk.first;\n\t\t    outer: do {\n\t\t      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n\t\t        var child = chunk.children[i$1], ch = child.height;\n\t\t        if (h < ch) { chunk = child; continue outer }\n\t\t        h -= ch;\n\t\t        n += child.chunkSize();\n\t\t      }\n\t\t      return n\n\t\t    } while (!chunk.lines)\n\t\t    var i = 0;\n\t\t    for (; i < chunk.lines.length; ++i) {\n\t\t      var line = chunk.lines[i], lh = line.height;\n\t\t      if (h < lh) { break }\n\t\t      h -= lh;\n\t\t    }\n\t\t    return n + i\n\t\t  }\n\n\t\t  function isLine(doc, l) {return l >= doc.first && l < doc.first + doc.size}\n\n\t\t  function lineNumberFor(options, i) {\n\t\t    return String(options.lineNumberFormatter(i + options.firstLineNumber))\n\t\t  }\n\n\t\t  // A Pos instance represents a position within the text.\n\t\t  function Pos(line, ch, sticky) {\n\t\t    if ( sticky === undefined ) sticky = null;\n\n\t\t    if (!(this instanceof Pos)) { return new Pos(line, ch, sticky) }\n\t\t    this.line = line;\n\t\t    this.ch = ch;\n\t\t    this.sticky = sticky;\n\t\t  }\n\n\t\t  // Compare two positions, return 0 if they are the same, a negative\n\t\t  // number when a is less, and a positive number otherwise.\n\t\t  function cmp(a, b) { return a.line - b.line || a.ch - b.ch }\n\n\t\t  function equalCursorPos(a, b) { return a.sticky == b.sticky && cmp(a, b) == 0 }\n\n\t\t  function copyPos(x) {return Pos(x.line, x.ch)}\n\t\t  function maxPos(a, b) { return cmp(a, b) < 0 ? b : a }\n\t\t  function minPos(a, b) { return cmp(a, b) < 0 ? a : b }\n\n\t\t  // Most of the external API clips given positions to make sure they\n\t\t  // actually exist within the document.\n\t\t  function clipLine(doc, n) {return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1))}\n\t\t  function clipPos(doc, pos) {\n\t\t    if (pos.line < doc.first) { return Pos(doc.first, 0) }\n\t\t    var last = doc.first + doc.size - 1;\n\t\t    if (pos.line > last) { return Pos(last, getLine(doc, last).text.length) }\n\t\t    return clipToLen(pos, getLine(doc, pos.line).text.length)\n\t\t  }\n\t\t  function clipToLen(pos, linelen) {\n\t\t    var ch = pos.ch;\n\t\t    if (ch == null || ch > linelen) { return Pos(pos.line, linelen) }\n\t\t    else if (ch < 0) { return Pos(pos.line, 0) }\n\t\t    else { return pos }\n\t\t  }\n\t\t  function clipPosArray(doc, array) {\n\t\t    var out = [];\n\t\t    for (var i = 0; i < array.length; i++) { out[i] = clipPos(doc, array[i]); }\n\t\t    return out\n\t\t  }\n\n\t\t  var SavedContext = function(state, lookAhead) {\n\t\t    this.state = state;\n\t\t    this.lookAhead = lookAhead;\n\t\t  };\n\n\t\t  var Context = function(doc, state, line, lookAhead) {\n\t\t    this.state = state;\n\t\t    this.doc = doc;\n\t\t    this.line = line;\n\t\t    this.maxLookAhead = lookAhead || 0;\n\t\t    this.baseTokens = null;\n\t\t    this.baseTokenPos = 1;\n\t\t  };\n\n\t\t  Context.prototype.lookAhead = function (n) {\n\t\t    var line = this.doc.getLine(this.line + n);\n\t\t    if (line != null && n > this.maxLookAhead) { this.maxLookAhead = n; }\n\t\t    return line\n\t\t  };\n\n\t\t  Context.prototype.baseToken = function (n) {\n\t\t    if (!this.baseTokens) { return null }\n\t\t    while (this.baseTokens[this.baseTokenPos] <= n)\n\t\t      { this.baseTokenPos += 2; }\n\t\t    var type = this.baseTokens[this.baseTokenPos + 1];\n\t\t    return {type: type && type.replace(/( |^)overlay .*/, \"\"),\n\t\t            size: this.baseTokens[this.baseTokenPos] - n}\n\t\t  };\n\n\t\t  Context.prototype.nextLine = function () {\n\t\t    this.line++;\n\t\t    if (this.maxLookAhead > 0) { this.maxLookAhead--; }\n\t\t  };\n\n\t\t  Context.fromSaved = function (doc, saved, line) {\n\t\t    if (saved instanceof SavedContext)\n\t\t      { return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead) }\n\t\t    else\n\t\t      { return new Context(doc, copyState(doc.mode, saved), line) }\n\t\t  };\n\n\t\t  Context.prototype.save = function (copy) {\n\t\t    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n\t\t    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state\n\t\t  };\n\n\n\t\t  // Compute a style array (an array starting with a mode generation\n\t\t  // -- for invalidation -- followed by pairs of end positions and\n\t\t  // style strings), which is used to highlight the tokens on the\n\t\t  // line.\n\t\t  function highlightLine(cm, line, context, forceToEnd) {\n\t\t    // A styles array always starts with a number identifying the\n\t\t    // mode/overlays that it is based on (for easy invalidation).\n\t\t    var st = [cm.state.modeGen], lineClasses = {};\n\t\t    // Compute the base array of styles\n\t\t    runMode(cm, line.text, cm.doc.mode, context, function (end, style) { return st.push(end, style); },\n\t\t            lineClasses, forceToEnd);\n\t\t    var state = context.state;\n\n\t\t    // Run overlays, adjust style array.\n\t\t    var loop = function ( o ) {\n\t\t      context.baseTokens = st;\n\t\t      var overlay = cm.state.overlays[o], i = 1, at = 0;\n\t\t      context.state = true;\n\t\t      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n\t\t        var start = i;\n\t\t        // Ensure there's a token end at the current position, and that i points at it\n\t\t        while (at < end) {\n\t\t          var i_end = st[i];\n\t\t          if (i_end > end)\n\t\t            { st.splice(i, 1, end, st[i+1], i_end); }\n\t\t          i += 2;\n\t\t          at = Math.min(end, i_end);\n\t\t        }\n\t\t        if (!style) { return }\n\t\t        if (overlay.opaque) {\n\t\t          st.splice(start, i - start, end, \"overlay \" + style);\n\t\t          i = start + 2;\n\t\t        } else {\n\t\t          for (; start < i; start += 2) {\n\t\t            var cur = st[start+1];\n\t\t            st[start+1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n\t\t          }\n\t\t        }\n\t\t      }, lineClasses);\n\t\t      context.state = state;\n\t\t      context.baseTokens = null;\n\t\t      context.baseTokenPos = 1;\n\t\t    };\n\n\t\t    for (var o = 0; o < cm.state.overlays.length; ++o) loop( o );\n\n\t\t    return {styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null}\n\t\t  }\n\n\t\t  function getLineStyles(cm, line, updateFrontier) {\n\t\t    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n\t\t      var context = getContextBefore(cm, lineNo(line));\n\t\t      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n\t\t      var result = highlightLine(cm, line, context);\n\t\t      if (resetState) { context.state = resetState; }\n\t\t      line.stateAfter = context.save(!resetState);\n\t\t      line.styles = result.styles;\n\t\t      if (result.classes) { line.styleClasses = result.classes; }\n\t\t      else if (line.styleClasses) { line.styleClasses = null; }\n\t\t      if (updateFrontier === cm.doc.highlightFrontier)\n\t\t        { cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier); }\n\t\t    }\n\t\t    return line.styles\n\t\t  }\n\n\t\t  function getContextBefore(cm, n, precise) {\n\t\t    var doc = cm.doc, display = cm.display;\n\t\t    if (!doc.mode.startState) { return new Context(doc, true, n) }\n\t\t    var start = findStartLine(cm, n, precise);\n\t\t    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n\t\t    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n\n\t\t    doc.iter(start, n, function (line) {\n\t\t      processLine(cm, line.text, context);\n\t\t      var pos = context.line;\n\t\t      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n\t\t      context.nextLine();\n\t\t    });\n\t\t    if (precise) { doc.modeFrontier = context.line; }\n\t\t    return context\n\t\t  }\n\n\t\t  // Lightweight form of highlight -- proceed over this line and\n\t\t  // update state, but don't save a style array. Used for lines that\n\t\t  // aren't currently visible.\n\t\t  function processLine(cm, text, context, startAt) {\n\t\t    var mode = cm.doc.mode;\n\t\t    var stream = new StringStream(text, cm.options.tabSize, context);\n\t\t    stream.start = stream.pos = startAt || 0;\n\t\t    if (text == \"\") { callBlankLine(mode, context.state); }\n\t\t    while (!stream.eol()) {\n\t\t      readToken(mode, stream, context.state);\n\t\t      stream.start = stream.pos;\n\t\t    }\n\t\t  }\n\n\t\t  function callBlankLine(mode, state) {\n\t\t    if (mode.blankLine) { return mode.blankLine(state) }\n\t\t    if (!mode.innerMode) { return }\n\t\t    var inner = innerMode(mode, state);\n\t\t    if (inner.mode.blankLine) { return inner.mode.blankLine(inner.state) }\n\t\t  }\n\n\t\t  function readToken(mode, stream, state, inner) {\n\t\t    for (var i = 0; i < 10; i++) {\n\t\t      if (inner) { inner[0] = innerMode(mode, state).mode; }\n\t\t      var style = mode.token(stream, state);\n\t\t      if (stream.pos > stream.start) { return style }\n\t\t    }\n\t\t    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\")\n\t\t  }\n\n\t\t  var Token = function(stream, type, state) {\n\t\t    this.start = stream.start; this.end = stream.pos;\n\t\t    this.string = stream.current();\n\t\t    this.type = type || null;\n\t\t    this.state = state;\n\t\t  };\n\n\t\t  // Utility for getTokenAt and getLineTokens\n\t\t  function takeToken(cm, pos, precise, asArray) {\n\t\t    var doc = cm.doc, mode = doc.mode, style;\n\t\t    pos = clipPos(doc, pos);\n\t\t    var line = getLine(doc, pos.line), context = getContextBefore(cm, pos.line, precise);\n\t\t    var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;\n\t\t    if (asArray) { tokens = []; }\n\t\t    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n\t\t      stream.start = stream.pos;\n\t\t      style = readToken(mode, stream, context.state);\n\t\t      if (asArray) { tokens.push(new Token(stream, style, copyState(doc.mode, context.state))); }\n\t\t    }\n\t\t    return asArray ? tokens : new Token(stream, style, context.state)\n\t\t  }\n\n\t\t  function extractLineClasses(type, output) {\n\t\t    if (type) { for (;;) {\n\t\t      var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\t\t      if (!lineClass) { break }\n\t\t      type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n\t\t      var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\t\t      if (output[prop] == null)\n\t\t        { output[prop] = lineClass[2]; }\n\t\t      else if (!(new RegExp(\"(?:^|\\\\s)\" + lineClass[2] + \"(?:$|\\\\s)\")).test(output[prop]))\n\t\t        { output[prop] += \" \" + lineClass[2]; }\n\t\t    } }\n\t\t    return type\n\t\t  }\n\n\t\t  // Run the given mode's parser over a line, calling f for each token.\n\t\t  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n\t\t    var flattenSpans = mode.flattenSpans;\n\t\t    if (flattenSpans == null) { flattenSpans = cm.options.flattenSpans; }\n\t\t    var curStart = 0, curStyle = null;\n\t\t    var stream = new StringStream(text, cm.options.tabSize, context), style;\n\t\t    var inner = cm.options.addModeClass && [null];\n\t\t    if (text == \"\") { extractLineClasses(callBlankLine(mode, context.state), lineClasses); }\n\t\t    while (!stream.eol()) {\n\t\t      if (stream.pos > cm.options.maxHighlightLength) {\n\t\t        flattenSpans = false;\n\t\t        if (forceToEnd) { processLine(cm, text, context, stream.pos); }\n\t\t        stream.pos = text.length;\n\t\t        style = null;\n\t\t      } else {\n\t\t        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n\t\t      }\n\t\t      if (inner) {\n\t\t        var mName = inner[0].name;\n\t\t        if (mName) { style = \"m-\" + (style ? mName + \" \" + style : mName); }\n\t\t      }\n\t\t      if (!flattenSpans || curStyle != style) {\n\t\t        while (curStart < stream.start) {\n\t\t          curStart = Math.min(stream.start, curStart + 5000);\n\t\t          f(curStart, curStyle);\n\t\t        }\n\t\t        curStyle = style;\n\t\t      }\n\t\t      stream.start = stream.pos;\n\t\t    }\n\t\t    while (curStart < stream.pos) {\n\t\t      // Webkit seems to refuse to render text nodes longer than 57444\n\t\t      // characters, and returns inaccurate measurements in nodes\n\t\t      // starting around 5000 chars.\n\t\t      var pos = Math.min(stream.pos, curStart + 5000);\n\t\t      f(pos, curStyle);\n\t\t      curStart = pos;\n\t\t    }\n\t\t  }\n\n\t\t  // Finds the line to start with when starting a parse. Tries to\n\t\t  // find a line with a stateAfter, so that it can start with a\n\t\t  // valid state. If that fails, it returns the line with the\n\t\t  // smallest indentation, which tends to need the least context to\n\t\t  // parse correctly.\n\t\t  function findStartLine(cm, n, precise) {\n\t\t    var minindent, minline, doc = cm.doc;\n\t\t    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\t\t    for (var search = n; search > lim; --search) {\n\t\t      if (search <= doc.first) { return doc.first }\n\t\t      var line = getLine(doc, search - 1), after = line.stateAfter;\n\t\t      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier))\n\t\t        { return search }\n\t\t      var indented = countColumn(line.text, null, cm.options.tabSize);\n\t\t      if (minline == null || minindent > indented) {\n\t\t        minline = search - 1;\n\t\t        minindent = indented;\n\t\t      }\n\t\t    }\n\t\t    return minline\n\t\t  }\n\n\t\t  function retreatFrontier(doc, n) {\n\t\t    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\t\t    if (doc.highlightFrontier < n - 10) { return }\n\t\t    var start = doc.first;\n\t\t    for (var line = n - 1; line > start; line--) {\n\t\t      var saved = getLine(doc, line).stateAfter;\n\t\t      // change is on 3\n\t\t      // state on line 1 looked ahead 2 -- so saw 3\n\t\t      // test 1 + 2 < 3 should cover this\n\t\t      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n\t\t        start = line + 1;\n\t\t        break\n\t\t      }\n\t\t    }\n\t\t    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n\t\t  }\n\n\t\t  // Optimize some code when these features are not used.\n\t\t  var sawReadOnlySpans = false, sawCollapsedSpans = false;\n\n\t\t  function seeReadOnlySpans() {\n\t\t    sawReadOnlySpans = true;\n\t\t  }\n\n\t\t  function seeCollapsedSpans() {\n\t\t    sawCollapsedSpans = true;\n\t\t  }\n\n\t\t  // TEXTMARKER SPANS\n\n\t\t  function MarkedSpan(marker, from, to) {\n\t\t    this.marker = marker;\n\t\t    this.from = from; this.to = to;\n\t\t  }\n\n\t\t  // Search an array of spans for a span matching the given marker.\n\t\t  function getMarkedSpanFor(spans, marker) {\n\t\t    if (spans) { for (var i = 0; i < spans.length; ++i) {\n\t\t      var span = spans[i];\n\t\t      if (span.marker == marker) { return span }\n\t\t    } }\n\t\t  }\n\n\t\t  // Remove a span from an array, returning undefined if no spans are\n\t\t  // left (we don't store arrays for lines without spans).\n\t\t  function removeMarkedSpan(spans, span) {\n\t\t    var r;\n\t\t    for (var i = 0; i < spans.length; ++i)\n\t\t      { if (spans[i] != span) { (r || (r = [])).push(spans[i]); } }\n\t\t    return r\n\t\t  }\n\n\t\t  // Add a span to a line.\n\t\t  function addMarkedSpan(line, span, op) {\n\t\t    var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = new WeakSet));\n\t\t    if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {\n\t\t      line.markedSpans.push(span);\n\t\t    } else {\n\t\t      line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n\t\t      if (inThisOp) { inThisOp.add(line.markedSpans); }\n\t\t    }\n\t\t    span.marker.attachLine(line);\n\t\t  }\n\n\t\t  // Used for the algorithm that adjusts markers for a change in the\n\t\t  // document. These functions cut an array of spans at a given\n\t\t  // character position, returning an array of remaining chunks (or\n\t\t  // undefined if nothing remains).\n\t\t  function markedSpansBefore(old, startCh, isInsert) {\n\t\t    var nw;\n\t\t    if (old) { for (var i = 0; i < old.length; ++i) {\n\t\t      var span = old[i], marker = span.marker;\n\t\t      var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\t\t      if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n\t\t        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh)\n\t\t        ;(nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n\t\t      }\n\t\t    } }\n\t\t    return nw\n\t\t  }\n\t\t  function markedSpansAfter(old, endCh, isInsert) {\n\t\t    var nw;\n\t\t    if (old) { for (var i = 0; i < old.length; ++i) {\n\t\t      var span = old[i], marker = span.marker;\n\t\t      var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\t\t      if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n\t\t        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh)\n\t\t        ;(nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh,\n\t\t                                              span.to == null ? null : span.to - endCh));\n\t\t      }\n\t\t    } }\n\t\t    return nw\n\t\t  }\n\n\t\t  // Given a change object, compute the new set of marker spans that\n\t\t  // cover the line in which the change took place. Removes spans\n\t\t  // entirely within the change, reconnects spans belonging to the\n\t\t  // same marker that appear on both sides of the change, and cuts off\n\t\t  // spans partially within the change. Returns an array of span\n\t\t  // arrays with one element for each line in (after) the change.\n\t\t  function stretchSpansOverChange(doc, change) {\n\t\t    if (change.full) { return null }\n\t\t    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n\t\t    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\t\t    if (!oldFirst && !oldLast) { return null }\n\n\t\t    var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;\n\t\t    // Get the spans that 'stick out' on both sides\n\t\t    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n\t\t    var last = markedSpansAfter(oldLast, endCh, isInsert);\n\n\t\t    // Next, merge those two ends\n\t\t    var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);\n\t\t    if (first) {\n\t\t      // Fix up .to properties of first\n\t\t      for (var i = 0; i < first.length; ++i) {\n\t\t        var span = first[i];\n\t\t        if (span.to == null) {\n\t\t          var found = getMarkedSpanFor(last, span.marker);\n\t\t          if (!found) { span.to = startCh; }\n\t\t          else if (sameLine) { span.to = found.to == null ? null : found.to + offset; }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t    if (last) {\n\t\t      // Fix up .from in last (or move them into first in case of sameLine)\n\t\t      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n\t\t        var span$1 = last[i$1];\n\t\t        if (span$1.to != null) { span$1.to += offset; }\n\t\t        if (span$1.from == null) {\n\t\t          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\t\t          if (!found$1) {\n\t\t            span$1.from = offset;\n\t\t            if (sameLine) { (first || (first = [])).push(span$1); }\n\t\t          }\n\t\t        } else {\n\t\t          span$1.from += offset;\n\t\t          if (sameLine) { (first || (first = [])).push(span$1); }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t    // Make sure we didn't create any zero-length spans\n\t\t    if (first) { first = clearEmptySpans(first); }\n\t\t    if (last && last != first) { last = clearEmptySpans(last); }\n\n\t\t    var newMarkers = [first];\n\t\t    if (!sameLine) {\n\t\t      // Fill gap with whole-line-spans\n\t\t      var gap = change.text.length - 2, gapMarkers;\n\t\t      if (gap > 0 && first)\n\t\t        { for (var i$2 = 0; i$2 < first.length; ++i$2)\n\t\t          { if (first[i$2].to == null)\n\t\t            { (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null)); } } }\n\t\t      for (var i$3 = 0; i$3 < gap; ++i$3)\n\t\t        { newMarkers.push(gapMarkers); }\n\t\t      newMarkers.push(last);\n\t\t    }\n\t\t    return newMarkers\n\t\t  }\n\n\t\t  // Remove spans that are empty and don't have a clearWhenEmpty\n\t\t  // option of false.\n\t\t  function clearEmptySpans(spans) {\n\t\t    for (var i = 0; i < spans.length; ++i) {\n\t\t      var span = spans[i];\n\t\t      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false)\n\t\t        { spans.splice(i--, 1); }\n\t\t    }\n\t\t    if (!spans.length) { return null }\n\t\t    return spans\n\t\t  }\n\n\t\t  // Used to 'clip' out readOnly ranges when making a change.\n\t\t  function removeReadOnlyRanges(doc, from, to) {\n\t\t    var markers = null;\n\t\t    doc.iter(from.line, to.line + 1, function (line) {\n\t\t      if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n\t\t        var mark = line.markedSpans[i].marker;\n\t\t        if (mark.readOnly && (!markers || indexOf(markers, mark) == -1))\n\t\t          { (markers || (markers = [])).push(mark); }\n\t\t      } }\n\t\t    });\n\t\t    if (!markers) { return null }\n\t\t    var parts = [{from: from, to: to}];\n\t\t    for (var i = 0; i < markers.length; ++i) {\n\t\t      var mk = markers[i], m = mk.find(0);\n\t\t      for (var j = 0; j < parts.length; ++j) {\n\t\t        var p = parts[j];\n\t\t        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) { continue }\n\t\t        var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);\n\t\t        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom)\n\t\t          { newParts.push({from: p.from, to: m.from}); }\n\t\t        if (dto > 0 || !mk.inclusiveRight && !dto)\n\t\t          { newParts.push({from: m.to, to: p.to}); }\n\t\t        parts.splice.apply(parts, newParts);\n\t\t        j += newParts.length - 3;\n\t\t      }\n\t\t    }\n\t\t    return parts\n\t\t  }\n\n\t\t  // Connect or disconnect spans from a line.\n\t\t  function detachMarkedSpans(line) {\n\t\t    var spans = line.markedSpans;\n\t\t    if (!spans) { return }\n\t\t    for (var i = 0; i < spans.length; ++i)\n\t\t      { spans[i].marker.detachLine(line); }\n\t\t    line.markedSpans = null;\n\t\t  }\n\t\t  function attachMarkedSpans(line, spans) {\n\t\t    if (!spans) { return }\n\t\t    for (var i = 0; i < spans.length; ++i)\n\t\t      { spans[i].marker.attachLine(line); }\n\t\t    line.markedSpans = spans;\n\t\t  }\n\n\t\t  // Helpers used when computing which overlapping collapsed span\n\t\t  // counts as the larger one.\n\t\t  function extraLeft(marker) { return marker.inclusiveLeft ? -1 : 0 }\n\t\t  function extraRight(marker) { return marker.inclusiveRight ? 1 : 0 }\n\n\t\t  // Returns a number indicating which of two overlapping collapsed\n\t\t  // spans is larger (and thus includes the other). Falls back to\n\t\t  // comparing ids when the spans cover exactly the same range.\n\t\t  function compareCollapsedMarkers(a, b) {\n\t\t    var lenDiff = a.lines.length - b.lines.length;\n\t\t    if (lenDiff != 0) { return lenDiff }\n\t\t    var aPos = a.find(), bPos = b.find();\n\t\t    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\t\t    if (fromCmp) { return -fromCmp }\n\t\t    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\t\t    if (toCmp) { return toCmp }\n\t\t    return b.id - a.id\n\t\t  }\n\n\t\t  // Find out whether a line ends or starts in a collapsed span. If\n\t\t  // so, return the marker for that span.\n\t\t  function collapsedSpanAtSide(line, start) {\n\t\t    var sps = sawCollapsedSpans && line.markedSpans, found;\n\t\t    if (sps) { for (var sp = (undefined), i = 0; i < sps.length; ++i) {\n\t\t      sp = sps[i];\n\t\t      if (sp.marker.collapsed && (start ? sp.from : sp.to) == null &&\n\t\t          (!found || compareCollapsedMarkers(found, sp.marker) < 0))\n\t\t        { found = sp.marker; }\n\t\t    } }\n\t\t    return found\n\t\t  }\n\t\t  function collapsedSpanAtStart(line) { return collapsedSpanAtSide(line, true) }\n\t\t  function collapsedSpanAtEnd(line) { return collapsedSpanAtSide(line, false) }\n\n\t\t  function collapsedSpanAround(line, ch) {\n\t\t    var sps = sawCollapsedSpans && line.markedSpans, found;\n\t\t    if (sps) { for (var i = 0; i < sps.length; ++i) {\n\t\t      var sp = sps[i];\n\t\t      if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) &&\n\t\t          (!found || compareCollapsedMarkers(found, sp.marker) < 0)) { found = sp.marker; }\n\t\t    } }\n\t\t    return found\n\t\t  }\n\n\t\t  // Test whether there exists a collapsed span that partially\n\t\t  // overlaps (covers the start or end, but not both) of a new span.\n\t\t  // Such overlap is not allowed.\n\t\t  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n\t\t    var line = getLine(doc, lineNo);\n\t\t    var sps = sawCollapsedSpans && line.markedSpans;\n\t\t    if (sps) { for (var i = 0; i < sps.length; ++i) {\n\t\t      var sp = sps[i];\n\t\t      if (!sp.marker.collapsed) { continue }\n\t\t      var found = sp.marker.find(0);\n\t\t      var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n\t\t      var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\t\t      if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) { continue }\n\t\t      if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) ||\n\t\t          fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0))\n\t\t        { return true }\n\t\t    } }\n\t\t  }\n\n\t\t  // A visual line is a line as drawn on the screen. Folding, for\n\t\t  // example, can cause multiple logical lines to appear on the same\n\t\t  // visual line. This finds the start of the visual line that the\n\t\t  // given line is part of (usually that is the line itself).\n\t\t  function visualLine(line) {\n\t\t    var merged;\n\t\t    while (merged = collapsedSpanAtStart(line))\n\t\t      { line = merged.find(-1, true).line; }\n\t\t    return line\n\t\t  }\n\n\t\t  function visualLineEnd(line) {\n\t\t    var merged;\n\t\t    while (merged = collapsedSpanAtEnd(line))\n\t\t      { line = merged.find(1, true).line; }\n\t\t    return line\n\t\t  }\n\n\t\t  // Returns an array of logical lines that continue the visual line\n\t\t  // started by the argument, or undefined if there are no such lines.\n\t\t  function visualLineContinued(line) {\n\t\t    var merged, lines;\n\t\t    while (merged = collapsedSpanAtEnd(line)) {\n\t\t      line = merged.find(1, true).line\n\t\t      ;(lines || (lines = [])).push(line);\n\t\t    }\n\t\t    return lines\n\t\t  }\n\n\t\t  // Get the line number of the start of the visual line that the\n\t\t  // given line number is part of.\n\t\t  function visualLineNo(doc, lineN) {\n\t\t    var line = getLine(doc, lineN), vis = visualLine(line);\n\t\t    if (line == vis) { return lineN }\n\t\t    return lineNo(vis)\n\t\t  }\n\n\t\t  // Get the line number of the start of the next visual line after\n\t\t  // the given line.\n\t\t  function visualLineEndNo(doc, lineN) {\n\t\t    if (lineN > doc.lastLine()) { return lineN }\n\t\t    var line = getLine(doc, lineN), merged;\n\t\t    if (!lineIsHidden(doc, line)) { return lineN }\n\t\t    while (merged = collapsedSpanAtEnd(line))\n\t\t      { line = merged.find(1, true).line; }\n\t\t    return lineNo(line) + 1\n\t\t  }\n\n\t\t  // Compute whether a line is hidden. Lines count as hidden when they\n\t\t  // are part of a visual line that starts with another line, or when\n\t\t  // they are entirely covered by collapsed, non-widget span.\n\t\t  function lineIsHidden(doc, line) {\n\t\t    var sps = sawCollapsedSpans && line.markedSpans;\n\t\t    if (sps) { for (var sp = (undefined), i = 0; i < sps.length; ++i) {\n\t\t      sp = sps[i];\n\t\t      if (!sp.marker.collapsed) { continue }\n\t\t      if (sp.from == null) { return true }\n\t\t      if (sp.marker.widgetNode) { continue }\n\t\t      if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp))\n\t\t        { return true }\n\t\t    } }\n\t\t  }\n\t\t  function lineIsHiddenInner(doc, line, span) {\n\t\t    if (span.to == null) {\n\t\t      var end = span.marker.find(1, true);\n\t\t      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker))\n\t\t    }\n\t\t    if (span.marker.inclusiveRight && span.to == line.text.length)\n\t\t      { return true }\n\t\t    for (var sp = (undefined), i = 0; i < line.markedSpans.length; ++i) {\n\t\t      sp = line.markedSpans[i];\n\t\t      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to &&\n\t\t          (sp.to == null || sp.to != span.from) &&\n\t\t          (sp.marker.inclusiveLeft || span.marker.inclusiveRight) &&\n\t\t          lineIsHiddenInner(doc, line, sp)) { return true }\n\t\t    }\n\t\t  }\n\n\t\t  // Find the height above the given line.\n\t\t  function heightAtLine(lineObj) {\n\t\t    lineObj = visualLine(lineObj);\n\n\t\t    var h = 0, chunk = lineObj.parent;\n\t\t    for (var i = 0; i < chunk.lines.length; ++i) {\n\t\t      var line = chunk.lines[i];\n\t\t      if (line == lineObj) { break }\n\t\t      else { h += line.height; }\n\t\t    }\n\t\t    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n\t\t      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n\t\t        var cur = p.children[i$1];\n\t\t        if (cur == chunk) { break }\n\t\t        else { h += cur.height; }\n\t\t      }\n\t\t    }\n\t\t    return h\n\t\t  }\n\n\t\t  // Compute the character length of a line, taking into account\n\t\t  // collapsed ranges (see markText) that might hide parts, and join\n\t\t  // other lines onto it.\n\t\t  function lineLength(line) {\n\t\t    if (line.height == 0) { return 0 }\n\t\t    var len = line.text.length, merged, cur = line;\n\t\t    while (merged = collapsedSpanAtStart(cur)) {\n\t\t      var found = merged.find(0, true);\n\t\t      cur = found.from.line;\n\t\t      len += found.from.ch - found.to.ch;\n\t\t    }\n\t\t    cur = line;\n\t\t    while (merged = collapsedSpanAtEnd(cur)) {\n\t\t      var found$1 = merged.find(0, true);\n\t\t      len -= cur.text.length - found$1.from.ch;\n\t\t      cur = found$1.to.line;\n\t\t      len += cur.text.length - found$1.to.ch;\n\t\t    }\n\t\t    return len\n\t\t  }\n\n\t\t  // Find the longest line in the document.\n\t\t  function findMaxLine(cm) {\n\t\t    var d = cm.display, doc = cm.doc;\n\t\t    d.maxLine = getLine(doc, doc.first);\n\t\t    d.maxLineLength = lineLength(d.maxLine);\n\t\t    d.maxLineChanged = true;\n\t\t    doc.iter(function (line) {\n\t\t      var len = lineLength(line);\n\t\t      if (len > d.maxLineLength) {\n\t\t        d.maxLineLength = len;\n\t\t        d.maxLine = line;\n\t\t      }\n\t\t    });\n\t\t  }\n\n\t\t  // LINE DATA STRUCTURE\n\n\t\t  // Line objects. These hold state related to a line, including\n\t\t  // highlighting info (the styles array).\n\t\t  var Line = function(text, markedSpans, estimateHeight) {\n\t\t    this.text = text;\n\t\t    attachMarkedSpans(this, markedSpans);\n\t\t    this.height = estimateHeight ? estimateHeight(this) : 1;\n\t\t  };\n\n\t\t  Line.prototype.lineNo = function () { return lineNo(this) };\n\t\t  eventMixin(Line);\n\n\t\t  // Change the content (text, markers) of a line. Automatically\n\t\t  // invalidates cached information and tries to re-estimate the\n\t\t  // line's height.\n\t\t  function updateLine(line, text, markedSpans, estimateHeight) {\n\t\t    line.text = text;\n\t\t    if (line.stateAfter) { line.stateAfter = null; }\n\t\t    if (line.styles) { line.styles = null; }\n\t\t    if (line.order != null) { line.order = null; }\n\t\t    detachMarkedSpans(line);\n\t\t    attachMarkedSpans(line, markedSpans);\n\t\t    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\t\t    if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n\t\t  }\n\n\t\t  // Detach a line from the document tree and its markers.\n\t\t  function cleanUpLine(line) {\n\t\t    line.parent = null;\n\t\t    detachMarkedSpans(line);\n\t\t  }\n\n\t\t  // Convert a style as returned by a mode (either null, or a string\n\t\t  // containing one or more styles) to a CSS style. This is cached,\n\t\t  // and also looks for line-wide styles.\n\t\t  var styleToClassCache = {}, styleToClassCacheWithMode = {};\n\t\t  function interpretTokenStyle(style, options) {\n\t\t    if (!style || /^\\s*$/.test(style)) { return null }\n\t\t    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n\t\t    return cache[style] ||\n\t\t      (cache[style] = style.replace(/\\S+/g, \"cm-$&\"))\n\t\t  }\n\n\t\t  // Render the DOM representation of the text of a line. Also builds\n\t\t  // up a 'line map', which points at the DOM nodes that represent\n\t\t  // specific stretches of text, and is used by the measuring code.\n\t\t  // The returned object contains the DOM node, this map, and\n\t\t  // information about line-wide styles that were set by the mode.\n\t\t  function buildLineContent(cm, lineView) {\n\t\t    // The padding-right forces the element to have a 'border', which\n\t\t    // is needed on Webkit to be able to get line-level bounding\n\t\t    // rectangles for it (in measureChar).\n\t\t    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n\t\t    var builder = {pre: eltP(\"pre\", [content], \"CodeMirror-line\"), content: content,\n\t\t                   col: 0, pos: 0, cm: cm,\n\t\t                   trailingSpace: false,\n\t\t                   splitSpaces: cm.getOption(\"lineWrapping\")};\n\t\t    lineView.measure = {};\n\n\t\t    // Iterate over the logical lines that make up this visual line.\n\t\t    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n\t\t      var line = i ? lineView.rest[i - 1] : lineView.line, order = (undefined);\n\t\t      builder.pos = 0;\n\t\t      builder.addToken = buildToken;\n\t\t      // Optionally wire in some hacks into the token-rendering\n\t\t      // algorithm, to deal with browser quirks.\n\t\t      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction)))\n\t\t        { builder.addToken = buildTokenBadBidi(builder.addToken, order); }\n\t\t      builder.map = [];\n\t\t      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n\t\t      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\t\t      if (line.styleClasses) {\n\t\t        if (line.styleClasses.bgClass)\n\t\t          { builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\"); }\n\t\t        if (line.styleClasses.textClass)\n\t\t          { builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\"); }\n\t\t      }\n\n\t\t      // Ensure at least a single node is present, for measuring.\n\t\t      if (builder.map.length == 0)\n\t\t        { builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure))); }\n\n\t\t      // Store the map and a cache object for the current logical line\n\t\t      if (i == 0) {\n\t\t        lineView.measure.map = builder.map;\n\t\t        lineView.measure.cache = {};\n\t\t      } else {\n\t\t  (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map)\n\t\t        ;(lineView.measure.caches || (lineView.measure.caches = [])).push({});\n\t\t      }\n\t\t    }\n\n\t\t    // See issue #2901\n\t\t    if (webkit) {\n\t\t      var last = builder.content.lastChild;\n\t\t      if (/\\bcm-tab\\b/.test(last.className) || (last.querySelector && last.querySelector(\".cm-tab\")))\n\t\t        { builder.content.className = \"cm-tab-wrap-hack\"; }\n\t\t    }\n\n\t\t    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\t\t    if (builder.pre.className)\n\t\t      { builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\"); }\n\n\t\t    return builder\n\t\t  }\n\n\t\t  function defaultSpecialCharPlaceholder(ch) {\n\t\t    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n\t\t    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n\t\t    token.setAttribute(\"aria-label\", token.title);\n\t\t    return token\n\t\t  }\n\n\t\t  // Build up the DOM representation for a single token, and add it to\n\t\t  // the line map. Takes care to render special characters separately.\n\t\t  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n\t\t    if (!text) { return }\n\t\t    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n\t\t    var special = builder.cm.state.specialChars, mustWrap = false;\n\t\t    var content;\n\t\t    if (!special.test(text)) {\n\t\t      builder.col += text.length;\n\t\t      content = document.createTextNode(displayText);\n\t\t      builder.map.push(builder.pos, builder.pos + text.length, content);\n\t\t      if (ie && ie_version < 9) { mustWrap = true; }\n\t\t      builder.pos += text.length;\n\t\t    } else {\n\t\t      content = document.createDocumentFragment();\n\t\t      var pos = 0;\n\t\t      while (true) {\n\t\t        special.lastIndex = pos;\n\t\t        var m = special.exec(text);\n\t\t        var skipped = m ? m.index - pos : text.length - pos;\n\t\t        if (skipped) {\n\t\t          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\t\t          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt])); }\n\t\t          else { content.appendChild(txt); }\n\t\t          builder.map.push(builder.pos, builder.pos + skipped, txt);\n\t\t          builder.col += skipped;\n\t\t          builder.pos += skipped;\n\t\t        }\n\t\t        if (!m) { break }\n\t\t        pos += skipped + 1;\n\t\t        var txt$1 = (undefined);\n\t\t        if (m[0] == \"\\t\") {\n\t\t          var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;\n\t\t          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n\t\t          txt$1.setAttribute(\"role\", \"presentation\");\n\t\t          txt$1.setAttribute(\"cm-text\", \"\\t\");\n\t\t          builder.col += tabWidth;\n\t\t        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n\t\t          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n\t\t          txt$1.setAttribute(\"cm-text\", m[0]);\n\t\t          builder.col += 1;\n\t\t        } else {\n\t\t          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n\t\t          txt$1.setAttribute(\"cm-text\", m[0]);\n\t\t          if (ie && ie_version < 9) { content.appendChild(elt(\"span\", [txt$1])); }\n\t\t          else { content.appendChild(txt$1); }\n\t\t          builder.col += 1;\n\t\t        }\n\t\t        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n\t\t        builder.pos++;\n\t\t      }\n\t\t    }\n\t\t    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\t\t    if (style || startStyle || endStyle || mustWrap || css || attributes) {\n\t\t      var fullStyle = style || \"\";\n\t\t      if (startStyle) { fullStyle += startStyle; }\n\t\t      if (endStyle) { fullStyle += endStyle; }\n\t\t      var token = elt(\"span\", [content], fullStyle, css);\n\t\t      if (attributes) {\n\t\t        for (var attr in attributes) { if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\")\n\t\t          { token.setAttribute(attr, attributes[attr]); } }\n\t\t      }\n\t\t      return builder.content.appendChild(token)\n\t\t    }\n\t\t    builder.content.appendChild(content);\n\t\t  }\n\n\t\t  // Change some spaces to NBSP to prevent the browser from collapsing\n\t\t  // trailing spaces at the end of a line when rendering text (issue #1362).\n\t\t  function splitSpaces(text, trailingBefore) {\n\t\t    if (text.length > 1 && !/  /.test(text)) { return text }\n\t\t    var spaceBefore = trailingBefore, result = \"\";\n\t\t    for (var i = 0; i < text.length; i++) {\n\t\t      var ch = text.charAt(i);\n\t\t      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32))\n\t\t        { ch = \"\\u00a0\"; }\n\t\t      result += ch;\n\t\t      spaceBefore = ch == \" \";\n\t\t    }\n\t\t    return result\n\t\t  }\n\n\t\t  // Work around nonsense dimensions being reported for stretches of\n\t\t  // right-to-left text.\n\t\t  function buildTokenBadBidi(inner, order) {\n\t\t    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n\t\t      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n\t\t      var start = builder.pos, end = start + text.length;\n\t\t      for (;;) {\n\t\t        // Find the part that overlaps with the start of this text\n\t\t        var part = (undefined);\n\t\t        for (var i = 0; i < order.length; i++) {\n\t\t          part = order[i];\n\t\t          if (part.to > start && part.from <= start) { break }\n\t\t        }\n\t\t        if (part.to >= end) { return inner(builder, text, style, startStyle, endStyle, css, attributes) }\n\t\t        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n\t\t        startStyle = null;\n\t\t        text = text.slice(part.to - start);\n\t\t        start = part.to;\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n\t\t    var widget = !ignoreWidget && marker.widgetNode;\n\t\t    if (widget) { builder.map.push(builder.pos, builder.pos + size, widget); }\n\t\t    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n\t\t      if (!widget)\n\t\t        { widget = builder.content.appendChild(document.createElement(\"span\")); }\n\t\t      widget.setAttribute(\"cm-marker\", marker.id);\n\t\t    }\n\t\t    if (widget) {\n\t\t      builder.cm.display.input.setUneditable(widget);\n\t\t      builder.content.appendChild(widget);\n\t\t    }\n\t\t    builder.pos += size;\n\t\t    builder.trailingSpace = false;\n\t\t  }\n\n\t\t  // Outputs a number of spans to make up a line, taking highlighting\n\t\t  // and marked text into account.\n\t\t  function insertLineContent(line, builder, styles) {\n\t\t    var spans = line.markedSpans, allText = line.text, at = 0;\n\t\t    if (!spans) {\n\t\t      for (var i$1 = 1; i$1 < styles.length; i$1+=2)\n\t\t        { builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1+1], builder.cm.options)); }\n\t\t      return\n\t\t    }\n\n\t\t    var len = allText.length, pos = 0, i = 1, text = \"\", style, css;\n\t\t    var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;\n\t\t    for (;;) {\n\t\t      if (nextChange == pos) { // Update current marker set\n\t\t        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n\t\t        attributes = null;\n\t\t        collapsed = null; nextChange = Infinity;\n\t\t        var foundBookmarks = [], endStyles = (undefined);\n\t\t        for (var j = 0; j < spans.length; ++j) {\n\t\t          var sp = spans[j], m = sp.marker;\n\t\t          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n\t\t            foundBookmarks.push(m);\n\t\t          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n\t\t            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n\t\t              nextChange = sp.to;\n\t\t              spanEndStyle = \"\";\n\t\t            }\n\t\t            if (m.className) { spanStyle += \" \" + m.className; }\n\t\t            if (m.css) { css = (css ? css + \";\" : \"\") + m.css; }\n\t\t            if (m.startStyle && sp.from == pos) { spanStartStyle += \" \" + m.startStyle; }\n\t\t            if (m.endStyle && sp.to == nextChange) { (endStyles || (endStyles = [])).push(m.endStyle, sp.to); }\n\t\t            // support for the old title property\n\t\t            // https://github.com/codemirror/CodeMirror/pull/5673\n\t\t            if (m.title) { (attributes || (attributes = {})).title = m.title; }\n\t\t            if (m.attributes) {\n\t\t              for (var attr in m.attributes)\n\t\t                { (attributes || (attributes = {}))[attr] = m.attributes[attr]; }\n\t\t            }\n\t\t            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0))\n\t\t              { collapsed = sp; }\n\t\t          } else if (sp.from > pos && nextChange > sp.from) {\n\t\t            nextChange = sp.from;\n\t\t          }\n\t\t        }\n\t\t        if (endStyles) { for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2)\n\t\t          { if (endStyles[j$1 + 1] == nextChange) { spanEndStyle += \" \" + endStyles[j$1]; } } }\n\n\t\t        if (!collapsed || collapsed.from == pos) { for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2)\n\t\t          { buildCollapsedSpan(builder, 0, foundBookmarks[j$2]); } }\n\t\t        if (collapsed && (collapsed.from || 0) == pos) {\n\t\t          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos,\n\t\t                             collapsed.marker, collapsed.from == null);\n\t\t          if (collapsed.to == null) { return }\n\t\t          if (collapsed.to == pos) { collapsed = false; }\n\t\t        }\n\t\t      }\n\t\t      if (pos >= len) { break }\n\n\t\t      var upto = Math.min(len, nextChange);\n\t\t      while (true) {\n\t\t        if (text) {\n\t\t          var end = pos + text.length;\n\t\t          if (!collapsed) {\n\t\t            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n\t\t            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle,\n\t\t                             spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n\t\t          }\n\t\t          if (end >= upto) {text = text.slice(upto - pos); pos = upto; break}\n\t\t          pos = end;\n\t\t          spanStartStyle = \"\";\n\t\t        }\n\t\t        text = allText.slice(at, at = styles[i++]);\n\t\t        style = interpretTokenStyle(styles[i++], builder.cm.options);\n\t\t      }\n\t\t    }\n\t\t  }\n\n\n\t\t  // These objects are used to represent the visible (currently drawn)\n\t\t  // part of the document. A LineView may correspond to multiple\n\t\t  // logical lines, if those are connected by collapsed ranges.\n\t\t  function LineView(doc, line, lineN) {\n\t\t    // The starting line\n\t\t    this.line = line;\n\t\t    // Continuing lines, if any\n\t\t    this.rest = visualLineContinued(line);\n\t\t    // Number of logical lines in this visual line\n\t\t    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n\t\t    this.node = this.text = null;\n\t\t    this.hidden = lineIsHidden(doc, line);\n\t\t  }\n\n\t\t  // Create a range of LineView objects for the given lines.\n\t\t  function buildViewArray(cm, from, to) {\n\t\t    var array = [], nextPos;\n\t\t    for (var pos = from; pos < to; pos = nextPos) {\n\t\t      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n\t\t      nextPos = pos + view.size;\n\t\t      array.push(view);\n\t\t    }\n\t\t    return array\n\t\t  }\n\n\t\t  var operationGroup = null;\n\n\t\t  function pushOperation(op) {\n\t\t    if (operationGroup) {\n\t\t      operationGroup.ops.push(op);\n\t\t    } else {\n\t\t      op.ownsGroup = operationGroup = {\n\t\t        ops: [op],\n\t\t        delayedCallbacks: []\n\t\t      };\n\t\t    }\n\t\t  }\n\n\t\t  function fireCallbacksForOps(group) {\n\t\t    // Calls delayed callbacks and cursorActivity handlers until no\n\t\t    // new ones appear\n\t\t    var callbacks = group.delayedCallbacks, i = 0;\n\t\t    do {\n\t\t      for (; i < callbacks.length; i++)\n\t\t        { callbacks[i].call(null); }\n\t\t      for (var j = 0; j < group.ops.length; j++) {\n\t\t        var op = group.ops[j];\n\t\t        if (op.cursorActivityHandlers)\n\t\t          { while (op.cursorActivityCalled < op.cursorActivityHandlers.length)\n\t\t            { op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm); } }\n\t\t      }\n\t\t    } while (i < callbacks.length)\n\t\t  }\n\n\t\t  function finishOperation(op, endCb) {\n\t\t    var group = op.ownsGroup;\n\t\t    if (!group) { return }\n\n\t\t    try { fireCallbacksForOps(group); }\n\t\t    finally {\n\t\t      operationGroup = null;\n\t\t      endCb(group);\n\t\t    }\n\t\t  }\n\n\t\t  var orphanDelayedCallbacks = null;\n\n\t\t  // Often, we want to signal events at a point where we are in the\n\t\t  // middle of some work, but don't want the handler to start calling\n\t\t  // other methods on the editor, which might be in an inconsistent\n\t\t  // state or simply not expect any other events to happen.\n\t\t  // signalLater looks whether there are any handlers, and schedules\n\t\t  // them to be executed when the last operation ends, or, if no\n\t\t  // operation is active, when a timeout fires.\n\t\t  function signalLater(emitter, type /*, values...*/) {\n\t\t    var arr = getHandlers(emitter, type);\n\t\t    if (!arr.length) { return }\n\t\t    var args = Array.prototype.slice.call(arguments, 2), list;\n\t\t    if (operationGroup) {\n\t\t      list = operationGroup.delayedCallbacks;\n\t\t    } else if (orphanDelayedCallbacks) {\n\t\t      list = orphanDelayedCallbacks;\n\t\t    } else {\n\t\t      list = orphanDelayedCallbacks = [];\n\t\t      setTimeout(fireOrphanDelayed, 0);\n\t\t    }\n\t\t    var loop = function ( i ) {\n\t\t      list.push(function () { return arr[i].apply(null, args); });\n\t\t    };\n\n\t\t    for (var i = 0; i < arr.length; ++i)\n\t\t      loop( i );\n\t\t  }\n\n\t\t  function fireOrphanDelayed() {\n\t\t    var delayed = orphanDelayedCallbacks;\n\t\t    orphanDelayedCallbacks = null;\n\t\t    for (var i = 0; i < delayed.length; ++i) { delayed[i](); }\n\t\t  }\n\n\t\t  // When an aspect of a line changes, a string is added to\n\t\t  // lineView.changes. This updates the relevant part of the line's\n\t\t  // DOM structure.\n\t\t  function updateLineForChanges(cm, lineView, lineN, dims) {\n\t\t    for (var j = 0; j < lineView.changes.length; j++) {\n\t\t      var type = lineView.changes[j];\n\t\t      if (type == \"text\") { updateLineText(cm, lineView); }\n\t\t      else if (type == \"gutter\") { updateLineGutter(cm, lineView, lineN, dims); }\n\t\t      else if (type == \"class\") { updateLineClasses(cm, lineView); }\n\t\t      else if (type == \"widget\") { updateLineWidgets(cm, lineView, dims); }\n\t\t    }\n\t\t    lineView.changes = null;\n\t\t  }\n\n\t\t  // Lines with gutter elements, widgets or a background class need to\n\t\t  // be wrapped, and have the extra elements added to the wrapper div\n\t\t  function ensureLineWrapped(lineView) {\n\t\t    if (lineView.node == lineView.text) {\n\t\t      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\t\t      if (lineView.text.parentNode)\n\t\t        { lineView.text.parentNode.replaceChild(lineView.node, lineView.text); }\n\t\t      lineView.node.appendChild(lineView.text);\n\t\t      if (ie && ie_version < 8) { lineView.node.style.zIndex = 2; }\n\t\t    }\n\t\t    return lineView.node\n\t\t  }\n\n\t\t  function updateLineBackground(cm, lineView) {\n\t\t    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\t\t    if (cls) { cls += \" CodeMirror-linebackground\"; }\n\t\t    if (lineView.background) {\n\t\t      if (cls) { lineView.background.className = cls; }\n\t\t      else { lineView.background.parentNode.removeChild(lineView.background); lineView.background = null; }\n\t\t    } else if (cls) {\n\t\t      var wrap = ensureLineWrapped(lineView);\n\t\t      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n\t\t      cm.display.input.setUneditable(lineView.background);\n\t\t    }\n\t\t  }\n\n\t\t  // Wrapper around buildLineContent which will reuse the structure\n\t\t  // in display.externalMeasured when possible.\n\t\t  function getLineContent(cm, lineView) {\n\t\t    var ext = cm.display.externalMeasured;\n\t\t    if (ext && ext.line == lineView.line) {\n\t\t      cm.display.externalMeasured = null;\n\t\t      lineView.measure = ext.measure;\n\t\t      return ext.built\n\t\t    }\n\t\t    return buildLineContent(cm, lineView)\n\t\t  }\n\n\t\t  // Redraw the line's text. Interacts with the background and text\n\t\t  // classes because the mode may output tokens that influence these\n\t\t  // classes.\n\t\t  function updateLineText(cm, lineView) {\n\t\t    var cls = lineView.text.className;\n\t\t    var built = getLineContent(cm, lineView);\n\t\t    if (lineView.text == lineView.node) { lineView.node = built.pre; }\n\t\t    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n\t\t    lineView.text = built.pre;\n\t\t    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n\t\t      lineView.bgClass = built.bgClass;\n\t\t      lineView.textClass = built.textClass;\n\t\t      updateLineClasses(cm, lineView);\n\t\t    } else if (cls) {\n\t\t      lineView.text.className = cls;\n\t\t    }\n\t\t  }\n\n\t\t  function updateLineClasses(cm, lineView) {\n\t\t    updateLineBackground(cm, lineView);\n\t\t    if (lineView.line.wrapClass)\n\t\t      { ensureLineWrapped(lineView).className = lineView.line.wrapClass; }\n\t\t    else if (lineView.node != lineView.text)\n\t\t      { lineView.node.className = \"\"; }\n\t\t    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n\t\t    lineView.text.className = textClass || \"\";\n\t\t  }\n\n\t\t  function updateLineGutter(cm, lineView, lineN, dims) {\n\t\t    if (lineView.gutter) {\n\t\t      lineView.node.removeChild(lineView.gutter);\n\t\t      lineView.gutter = null;\n\t\t    }\n\t\t    if (lineView.gutterBackground) {\n\t\t      lineView.node.removeChild(lineView.gutterBackground);\n\t\t      lineView.gutterBackground = null;\n\t\t    }\n\t\t    if (lineView.line.gutterClass) {\n\t\t      var wrap = ensureLineWrapped(lineView);\n\t\t      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass,\n\t\t                                      (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + (dims.gutterTotalWidth) + \"px\"));\n\t\t      cm.display.input.setUneditable(lineView.gutterBackground);\n\t\t      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n\t\t    }\n\t\t    var markers = lineView.line.gutterMarkers;\n\t\t    if (cm.options.lineNumbers || markers) {\n\t\t      var wrap$1 = ensureLineWrapped(lineView);\n\t\t      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", (\"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\"));\n\t\t      gutterWrap.setAttribute(\"aria-hidden\", \"true\");\n\t\t      cm.display.input.setUneditable(gutterWrap);\n\t\t      wrap$1.insertBefore(gutterWrap, lineView.text);\n\t\t      if (lineView.line.gutterClass)\n\t\t        { gutterWrap.className += \" \" + lineView.line.gutterClass; }\n\t\t      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"]))\n\t\t        { lineView.lineNumber = gutterWrap.appendChild(\n\t\t          elt(\"div\", lineNumberFor(cm.options, lineN),\n\t\t              \"CodeMirror-linenumber CodeMirror-gutter-elt\",\n\t\t              (\"left: \" + (dims.gutterLeft[\"CodeMirror-linenumbers\"]) + \"px; width: \" + (cm.display.lineNumInnerWidth) + \"px\"))); }\n\t\t      if (markers) { for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n\t\t        var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];\n\t\t        if (found)\n\t\t          { gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\",\n\t\t                                     (\"left: \" + (dims.gutterLeft[id]) + \"px; width: \" + (dims.gutterWidth[id]) + \"px\"))); }\n\t\t      } }\n\t\t    }\n\t\t  }\n\n\t\t  function updateLineWidgets(cm, lineView, dims) {\n\t\t    if (lineView.alignable) { lineView.alignable = null; }\n\t\t    var isWidget = classTest(\"CodeMirror-linewidget\");\n\t\t    for (var node = lineView.node.firstChild, next = (undefined); node; node = next) {\n\t\t      next = node.nextSibling;\n\t\t      if (isWidget.test(node.className)) { lineView.node.removeChild(node); }\n\t\t    }\n\t\t    insertLineWidgets(cm, lineView, dims);\n\t\t  }\n\n\t\t  // Build a line's DOM representation from scratch\n\t\t  function buildLineElement(cm, lineView, lineN, dims) {\n\t\t    var built = getLineContent(cm, lineView);\n\t\t    lineView.text = lineView.node = built.pre;\n\t\t    if (built.bgClass) { lineView.bgClass = built.bgClass; }\n\t\t    if (built.textClass) { lineView.textClass = built.textClass; }\n\n\t\t    updateLineClasses(cm, lineView);\n\t\t    updateLineGutter(cm, lineView, lineN, dims);\n\t\t    insertLineWidgets(cm, lineView, dims);\n\t\t    return lineView.node\n\t\t  }\n\n\t\t  // A lineView may contain multiple logical lines (when merged by\n\t\t  // collapsed spans). The widgets for all of them need to be drawn.\n\t\t  function insertLineWidgets(cm, lineView, dims) {\n\t\t    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\t\t    if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n\t\t      { insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false); } }\n\t\t  }\n\n\t\t  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n\t\t    if (!line.widgets) { return }\n\t\t    var wrap = ensureLineWrapped(lineView);\n\t\t    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n\t\t      var widget = ws[i], node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n\t\t      if (!widget.handleMouseEvents) { node.setAttribute(\"cm-ignore-events\", \"true\"); }\n\t\t      positionLineWidget(widget, node, lineView, dims);\n\t\t      cm.display.input.setUneditable(node);\n\t\t      if (allowAbove && widget.above)\n\t\t        { wrap.insertBefore(node, lineView.gutter || lineView.text); }\n\t\t      else\n\t\t        { wrap.appendChild(node); }\n\t\t      signalLater(widget, \"redraw\");\n\t\t    }\n\t\t  }\n\n\t\t  function positionLineWidget(widget, node, lineView, dims) {\n\t\t    if (widget.noHScroll) {\n\t\t  (lineView.alignable || (lineView.alignable = [])).push(node);\n\t\t      var width = dims.wrapperWidth;\n\t\t      node.style.left = dims.fixedPos + \"px\";\n\t\t      if (!widget.coverGutter) {\n\t\t        width -= dims.gutterTotalWidth;\n\t\t        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n\t\t      }\n\t\t      node.style.width = width + \"px\";\n\t\t    }\n\t\t    if (widget.coverGutter) {\n\t\t      node.style.zIndex = 5;\n\t\t      node.style.position = \"relative\";\n\t\t      if (!widget.noHScroll) { node.style.marginLeft = -dims.gutterTotalWidth + \"px\"; }\n\t\t    }\n\t\t  }\n\n\t\t  function widgetHeight(widget) {\n\t\t    if (widget.height != null) { return widget.height }\n\t\t    var cm = widget.doc.cm;\n\t\t    if (!cm) { return 0 }\n\t\t    if (!contains(document.body, widget.node)) {\n\t\t      var parentStyle = \"position: relative;\";\n\t\t      if (widget.coverGutter)\n\t\t        { parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\"; }\n\t\t      if (widget.noHScroll)\n\t\t        { parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\"; }\n\t\t      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n\t\t    }\n\t\t    return widget.height = widget.node.parentNode.offsetHeight\n\t\t  }\n\n\t\t  // Return true when the given mouse event happened in a widget\n\t\t  function eventInWidget(display, e) {\n\t\t    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n\t\t      if (!n || (n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\") ||\n\t\t          (n.parentNode == display.sizer && n != display.mover))\n\t\t        { return true }\n\t\t    }\n\t\t  }\n\n\t\t  // POSITION MEASUREMENT\n\n\t\t  function paddingTop(display) {return display.lineSpace.offsetTop}\n\t\t  function paddingVert(display) {return display.mover.offsetHeight - display.lineSpace.offsetHeight}\n\t\t  function paddingH(display) {\n\t\t    if (display.cachedPaddingH) { return display.cachedPaddingH }\n\t\t    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n\t\t    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n\t\t    var data = {left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight)};\n\t\t    if (!isNaN(data.left) && !isNaN(data.right)) { display.cachedPaddingH = data; }\n\t\t    return data\n\t\t  }\n\n\t\t  function scrollGap(cm) { return scrollerGap - cm.display.nativeBarWidth }\n\t\t  function displayWidth(cm) {\n\t\t    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth\n\t\t  }\n\t\t  function displayHeight(cm) {\n\t\t    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight\n\t\t  }\n\n\t\t  // Ensure the lineView.wrapping.heights array is populated. This is\n\t\t  // an array of bottom offsets for the lines that make up a drawn\n\t\t  // line. When lineWrapping is on, there might be more than one\n\t\t  // height.\n\t\t  function ensureLineHeights(cm, lineView, rect) {\n\t\t    var wrapping = cm.options.lineWrapping;\n\t\t    var curWidth = wrapping && displayWidth(cm);\n\t\t    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n\t\t      var heights = lineView.measure.heights = [];\n\t\t      if (wrapping) {\n\t\t        lineView.measure.width = curWidth;\n\t\t        var rects = lineView.text.firstChild.getClientRects();\n\t\t        for (var i = 0; i < rects.length - 1; i++) {\n\t\t          var cur = rects[i], next = rects[i + 1];\n\t\t          if (Math.abs(cur.bottom - next.bottom) > 2)\n\t\t            { heights.push((cur.bottom + next.top) / 2 - rect.top); }\n\t\t        }\n\t\t      }\n\t\t      heights.push(rect.bottom - rect.top);\n\t\t    }\n\t\t  }\n\n\t\t  // Find a line map (mapping character offsets to text nodes) and a\n\t\t  // measurement cache for the given line number. (A line view might\n\t\t  // contain multiple lines when collapsed ranges are present.)\n\t\t  function mapFromLineView(lineView, line, lineN) {\n\t\t    if (lineView.line == line)\n\t\t      { return {map: lineView.measure.map, cache: lineView.measure.cache} }\n\t\t    if (lineView.rest) {\n\t\t      for (var i = 0; i < lineView.rest.length; i++)\n\t\t        { if (lineView.rest[i] == line)\n\t\t          { return {map: lineView.measure.maps[i], cache: lineView.measure.caches[i]} } }\n\t\t      for (var i$1 = 0; i$1 < lineView.rest.length; i$1++)\n\t\t        { if (lineNo(lineView.rest[i$1]) > lineN)\n\t\t          { return {map: lineView.measure.maps[i$1], cache: lineView.measure.caches[i$1], before: true} } }\n\t\t    }\n\t\t  }\n\n\t\t  // Render a line into the hidden node display.externalMeasured. Used\n\t\t  // when measurement is needed for a line that's not in the viewport.\n\t\t  function updateExternalMeasurement(cm, line) {\n\t\t    line = visualLine(line);\n\t\t    var lineN = lineNo(line);\n\t\t    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n\t\t    view.lineN = lineN;\n\t\t    var built = view.built = buildLineContent(cm, view);\n\t\t    view.text = built.pre;\n\t\t    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n\t\t    return view\n\t\t  }\n\n\t\t  // Get a {top, bottom, left, right} box (in line-local coordinates)\n\t\t  // for a given character.\n\t\t  function measureChar(cm, line, ch, bias) {\n\t\t    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias)\n\t\t  }\n\n\t\t  // Find a line view that corresponds to the given line number.\n\t\t  function findViewForLine(cm, lineN) {\n\t\t    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo)\n\t\t      { return cm.display.view[findViewIndex(cm, lineN)] }\n\t\t    var ext = cm.display.externalMeasured;\n\t\t    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size)\n\t\t      { return ext }\n\t\t  }\n\n\t\t  // Measurement can be split in two steps, the set-up work that\n\t\t  // applies to the whole line, and the measurement of the actual\n\t\t  // character. Functions like coordsChar, that need to do a lot of\n\t\t  // measurements in a row, can thus ensure that the set-up work is\n\t\t  // only done once.\n\t\t  function prepareMeasureForLine(cm, line) {\n\t\t    var lineN = lineNo(line);\n\t\t    var view = findViewForLine(cm, lineN);\n\t\t    if (view && !view.text) {\n\t\t      view = null;\n\t\t    } else if (view && view.changes) {\n\t\t      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n\t\t      cm.curOp.forceUpdate = true;\n\t\t    }\n\t\t    if (!view)\n\t\t      { view = updateExternalMeasurement(cm, line); }\n\n\t\t    var info = mapFromLineView(view, line, lineN);\n\t\t    return {\n\t\t      line: line, view: view, rect: null,\n\t\t      map: info.map, cache: info.cache, before: info.before,\n\t\t      hasHeights: false\n\t\t    }\n\t\t  }\n\n\t\t  // Given a prepared measurement object, measures the position of an\n\t\t  // actual character (or fetches it from the cache).\n\t\t  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n\t\t    if (prepared.before) { ch = -1; }\n\t\t    var key = ch + (bias || \"\"), found;\n\t\t    if (prepared.cache.hasOwnProperty(key)) {\n\t\t      found = prepared.cache[key];\n\t\t    } else {\n\t\t      if (!prepared.rect)\n\t\t        { prepared.rect = prepared.view.text.getBoundingClientRect(); }\n\t\t      if (!prepared.hasHeights) {\n\t\t        ensureLineHeights(cm, prepared.view, prepared.rect);\n\t\t        prepared.hasHeights = true;\n\t\t      }\n\t\t      found = measureCharInner(cm, prepared, ch, bias);\n\t\t      if (!found.bogus) { prepared.cache[key] = found; }\n\t\t    }\n\t\t    return {left: found.left, right: found.right,\n\t\t            top: varHeight ? found.rtop : found.top,\n\t\t            bottom: varHeight ? found.rbottom : found.bottom}\n\t\t  }\n\n\t\t  var nullRect = {left: 0, right: 0, top: 0, bottom: 0};\n\n\t\t  function nodeAndOffsetInLineMap(map, ch, bias) {\n\t\t    var node, start, end, collapse, mStart, mEnd;\n\t\t    // First, search the line map for the text node corresponding to,\n\t\t    // or closest to, the target character.\n\t\t    for (var i = 0; i < map.length; i += 3) {\n\t\t      mStart = map[i];\n\t\t      mEnd = map[i + 1];\n\t\t      if (ch < mStart) {\n\t\t        start = 0; end = 1;\n\t\t        collapse = \"left\";\n\t\t      } else if (ch < mEnd) {\n\t\t        start = ch - mStart;\n\t\t        end = start + 1;\n\t\t      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n\t\t        end = mEnd - mStart;\n\t\t        start = end - 1;\n\t\t        if (ch >= mEnd) { collapse = \"right\"; }\n\t\t      }\n\t\t      if (start != null) {\n\t\t        node = map[i + 2];\n\t\t        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\"))\n\t\t          { collapse = bias; }\n\t\t        if (bias == \"left\" && start == 0)\n\t\t          { while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n\t\t            node = map[(i -= 3) + 2];\n\t\t            collapse = \"left\";\n\t\t          } }\n\t\t        if (bias == \"right\" && start == mEnd - mStart)\n\t\t          { while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n\t\t            node = map[(i += 3) + 2];\n\t\t            collapse = \"right\";\n\t\t          } }\n\t\t        break\n\t\t      }\n\t\t    }\n\t\t    return {node: node, start: start, end: end, collapse: collapse, coverStart: mStart, coverEnd: mEnd}\n\t\t  }\n\n\t\t  function getUsefulRect(rects, bias) {\n\t\t    var rect = nullRect;\n\t\t    if (bias == \"left\") { for (var i = 0; i < rects.length; i++) {\n\t\t      if ((rect = rects[i]).left != rect.right) { break }\n\t\t    } } else { for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n\t\t      if ((rect = rects[i$1]).left != rect.right) { break }\n\t\t    } }\n\t\t    return rect\n\t\t  }\n\n\t\t  function measureCharInner(cm, prepared, ch, bias) {\n\t\t    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n\t\t    var node = place.node, start = place.start, end = place.end, collapse = place.collapse;\n\n\t\t    var rect;\n\t\t    if (node.nodeType == 3) { // If it is a text node, use a range to retrieve the coordinates.\n\t\t      for (var i$1 = 0; i$1 < 4; i$1++) { // Retry a maximum of 4 times when nonsense rectangles are returned\n\t\t        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) { --start; }\n\t\t        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) { ++end; }\n\t\t        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart)\n\t\t          { rect = node.parentNode.getBoundingClientRect(); }\n\t\t        else\n\t\t          { rect = getUsefulRect(range(node, start, end).getClientRects(), bias); }\n\t\t        if (rect.left || rect.right || start == 0) { break }\n\t\t        end = start;\n\t\t        start = start - 1;\n\t\t        collapse = \"right\";\n\t\t      }\n\t\t      if (ie && ie_version < 11) { rect = maybeUpdateRectForZooming(cm.display.measure, rect); }\n\t\t    } else { // If it is a widget, simply get the box for the whole widget.\n\t\t      if (start > 0) { collapse = bias = \"right\"; }\n\t\t      var rects;\n\t\t      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1)\n\t\t        { rect = rects[bias == \"right\" ? rects.length - 1 : 0]; }\n\t\t      else\n\t\t        { rect = node.getBoundingClientRect(); }\n\t\t    }\n\t\t    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n\t\t      var rSpan = node.parentNode.getClientRects()[0];\n\t\t      if (rSpan)\n\t\t        { rect = {left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom}; }\n\t\t      else\n\t\t        { rect = nullRect; }\n\t\t    }\n\n\t\t    var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;\n\t\t    var mid = (rtop + rbot) / 2;\n\t\t    var heights = prepared.view.measure.heights;\n\t\t    var i = 0;\n\t\t    for (; i < heights.length - 1; i++)\n\t\t      { if (mid < heights[i]) { break } }\n\t\t    var top = i ? heights[i - 1] : 0, bot = heights[i];\n\t\t    var result = {left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n\t\t                  right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n\t\t                  top: top, bottom: bot};\n\t\t    if (!rect.left && !rect.right) { result.bogus = true; }\n\t\t    if (!cm.options.singleCursorHeightPerLine) { result.rtop = rtop; result.rbottom = rbot; }\n\n\t\t    return result\n\t\t  }\n\n\t\t  // Work around problem with bounding client rects on ranges being\n\t\t  // returned incorrectly when zoomed on IE10 and below.\n\t\t  function maybeUpdateRectForZooming(measure, rect) {\n\t\t    if (!window.screen || screen.logicalXDPI == null ||\n\t\t        screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure))\n\t\t      { return rect }\n\t\t    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n\t\t    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n\t\t    return {left: rect.left * scaleX, right: rect.right * scaleX,\n\t\t            top: rect.top * scaleY, bottom: rect.bottom * scaleY}\n\t\t  }\n\n\t\t  function clearLineMeasurementCacheFor(lineView) {\n\t\t    if (lineView.measure) {\n\t\t      lineView.measure.cache = {};\n\t\t      lineView.measure.heights = null;\n\t\t      if (lineView.rest) { for (var i = 0; i < lineView.rest.length; i++)\n\t\t        { lineView.measure.caches[i] = {}; } }\n\t\t    }\n\t\t  }\n\n\t\t  function clearLineMeasurementCache(cm) {\n\t\t    cm.display.externalMeasure = null;\n\t\t    removeChildren(cm.display.lineMeasure);\n\t\t    for (var i = 0; i < cm.display.view.length; i++)\n\t\t      { clearLineMeasurementCacheFor(cm.display.view[i]); }\n\t\t  }\n\n\t\t  function clearCaches(cm) {\n\t\t    clearLineMeasurementCache(cm);\n\t\t    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\t\t    if (!cm.options.lineWrapping) { cm.display.maxLineChanged = true; }\n\t\t    cm.display.lineNumChars = null;\n\t\t  }\n\n\t\t  function pageScrollX(doc) {\n\t\t    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n\t\t    // which causes page_Offset and bounding client rects to use\n\t\t    // different reference viewports and invalidate our calculations.\n\t\t    if (chrome && android) { return -(doc.body.getBoundingClientRect().left - parseInt(getComputedStyle(doc.body).marginLeft)) }\n\t\t    return doc.defaultView.pageXOffset || (doc.documentElement || doc.body).scrollLeft\n\t\t  }\n\t\t  function pageScrollY(doc) {\n\t\t    if (chrome && android) { return -(doc.body.getBoundingClientRect().top - parseInt(getComputedStyle(doc.body).marginTop)) }\n\t\t    return doc.defaultView.pageYOffset || (doc.documentElement || doc.body).scrollTop\n\t\t  }\n\n\t\t  function widgetTopHeight(lineObj) {\n\t\t    var ref = visualLine(lineObj);\n\t\t    var widgets = ref.widgets;\n\t\t    var height = 0;\n\t\t    if (widgets) { for (var i = 0; i < widgets.length; ++i) { if (widgets[i].above)\n\t\t      { height += widgetHeight(widgets[i]); } } }\n\t\t    return height\n\t\t  }\n\n\t\t  // Converts a {top, bottom, left, right} box from line-local\n\t\t  // coordinates into another coordinate system. Context may be one of\n\t\t  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n\t\t  // or \"page\".\n\t\t  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n\t\t    if (!includeWidgets) {\n\t\t      var height = widgetTopHeight(lineObj);\n\t\t      rect.top += height; rect.bottom += height;\n\t\t    }\n\t\t    if (context == \"line\") { return rect }\n\t\t    if (!context) { context = \"local\"; }\n\t\t    var yOff = heightAtLine(lineObj);\n\t\t    if (context == \"local\") { yOff += paddingTop(cm.display); }\n\t\t    else { yOff -= cm.display.viewOffset; }\n\t\t    if (context == \"page\" || context == \"window\") {\n\t\t      var lOff = cm.display.lineSpace.getBoundingClientRect();\n\t\t      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY(doc(cm)));\n\t\t      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX(doc(cm)));\n\t\t      rect.left += xOff; rect.right += xOff;\n\t\t    }\n\t\t    rect.top += yOff; rect.bottom += yOff;\n\t\t    return rect\n\t\t  }\n\n\t\t  // Coverts a box from \"div\" coords to another coordinate system.\n\t\t  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\t\t  function fromCoordSystem(cm, coords, context) {\n\t\t    if (context == \"div\") { return coords }\n\t\t    var left = coords.left, top = coords.top;\n\t\t    // First move into \"page\" coordinate system\n\t\t    if (context == \"page\") {\n\t\t      left -= pageScrollX(doc(cm));\n\t\t      top -= pageScrollY(doc(cm));\n\t\t    } else if (context == \"local\" || !context) {\n\t\t      var localBox = cm.display.sizer.getBoundingClientRect();\n\t\t      left += localBox.left;\n\t\t      top += localBox.top;\n\t\t    }\n\n\t\t    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n\t\t    return {left: left - lineSpaceBox.left, top: top - lineSpaceBox.top}\n\t\t  }\n\n\t\t  function charCoords(cm, pos, context, lineObj, bias) {\n\t\t    if (!lineObj) { lineObj = getLine(cm.doc, pos.line); }\n\t\t    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context)\n\t\t  }\n\n\t\t  // Returns a box for a given cursor position, which may have an\n\t\t  // 'other' property containing the position of the secondary cursor\n\t\t  // on a bidi boundary.\n\t\t  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n\t\t  // and after `char - 1` in writing order of `char - 1`\n\t\t  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n\t\t  // and before `char` in writing order of `char`\n\t\t  // Examples (upper-case letters are RTL, lower-case are LTR):\n\t\t  //     Pos(0, 1, ...)\n\t\t  //     before   after\n\t\t  // ab     a|b     a|b\n\t\t  // aB     a|B     aB|\n\t\t  // Ab     |Ab     A|b\n\t\t  // AB     B|A     B|A\n\t\t  // Every position after the last character on a line is considered to stick\n\t\t  // to the last character on the line.\n\t\t  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n\t\t    lineObj = lineObj || getLine(cm.doc, pos.line);\n\t\t    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n\t\t    function get(ch, right) {\n\t\t      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\t\t      if (right) { m.left = m.right; } else { m.right = m.left; }\n\t\t      return intoCoordSystem(cm, lineObj, m, context)\n\t\t    }\n\t\t    var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;\n\t\t    if (ch >= lineObj.text.length) {\n\t\t      ch = lineObj.text.length;\n\t\t      sticky = \"before\";\n\t\t    } else if (ch <= 0) {\n\t\t      ch = 0;\n\t\t      sticky = \"after\";\n\t\t    }\n\t\t    if (!order) { return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\") }\n\n\t\t    function getBidi(ch, partPos, invert) {\n\t\t      var part = order[partPos], right = part.level == 1;\n\t\t      return get(invert ? ch - 1 : ch, right != invert)\n\t\t    }\n\t\t    var partPos = getBidiPartAt(order, ch, sticky);\n\t\t    var other = bidiOther;\n\t\t    var val = getBidi(ch, partPos, sticky == \"before\");\n\t\t    if (other != null) { val.other = getBidi(ch, other, sticky != \"before\"); }\n\t\t    return val\n\t\t  }\n\n\t\t  // Used to cheaply estimate the coordinates for a position. Used for\n\t\t  // intermediate scroll updates.\n\t\t  function estimateCoords(cm, pos) {\n\t\t    var left = 0;\n\t\t    pos = clipPos(cm.doc, pos);\n\t\t    if (!cm.options.lineWrapping) { left = charWidth(cm.display) * pos.ch; }\n\t\t    var lineObj = getLine(cm.doc, pos.line);\n\t\t    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n\t\t    return {left: left, right: left, top: top, bottom: top + lineObj.height}\n\t\t  }\n\n\t\t  // Positions returned by coordsChar contain some extra information.\n\t\t  // xRel is the relative x position of the input coordinates compared\n\t\t  // to the found position (so xRel > 0 means the coordinates are to\n\t\t  // the right of the character position, for example). When outside\n\t\t  // is true, that means the coordinates lie outside the line's\n\t\t  // vertical range.\n\t\t  function PosWithInfo(line, ch, sticky, outside, xRel) {\n\t\t    var pos = Pos(line, ch, sticky);\n\t\t    pos.xRel = xRel;\n\t\t    if (outside) { pos.outside = outside; }\n\t\t    return pos\n\t\t  }\n\n\t\t  // Compute the character position closest to the given coordinates.\n\t\t  // Input must be lineSpace-local (\"div\" coordinate system).\n\t\t  function coordsChar(cm, x, y) {\n\t\t    var doc = cm.doc;\n\t\t    y += cm.display.viewOffset;\n\t\t    if (y < 0) { return PosWithInfo(doc.first, 0, null, -1, -1) }\n\t\t    var lineN = lineAtHeight(doc, y), last = doc.first + doc.size - 1;\n\t\t    if (lineN > last)\n\t\t      { return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1) }\n\t\t    if (x < 0) { x = 0; }\n\n\t\t    var lineObj = getLine(doc, lineN);\n\t\t    for (;;) {\n\t\t      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n\t\t      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\t\t      if (!collapsed) { return found }\n\t\t      var rangeEnd = collapsed.find(1);\n\t\t      if (rangeEnd.line == lineN) { return rangeEnd }\n\t\t      lineObj = getLine(doc, lineN = rangeEnd.line);\n\t\t    }\n\t\t  }\n\n\t\t  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n\t\t    y -= widgetTopHeight(lineObj);\n\t\t    var end = lineObj.text.length;\n\t\t    var begin = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y; }, end, 0);\n\t\t    end = findFirst(function (ch) { return measureCharPrepared(cm, preparedMeasure, ch).top > y; }, begin, end);\n\t\t    return {begin: begin, end: end}\n\t\t  }\n\n\t\t  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n\t\t    if (!preparedMeasure) { preparedMeasure = prepareMeasureForLine(cm, lineObj); }\n\t\t    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n\t\t    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop)\n\t\t  }\n\n\t\t  // Returns true if the given side of a box is after the given\n\t\t  // coordinates, in top-to-bottom, left-to-right order.\n\t\t  function boxIsAfter(box, x, y, left) {\n\t\t    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x\n\t\t  }\n\n\t\t  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n\t\t    // Move y into line-local coordinate space\n\t\t    y -= heightAtLine(lineObj);\n\t\t    var preparedMeasure = prepareMeasureForLine(cm, lineObj);\n\t\t    // When directly calling `measureCharPrepared`, we have to adjust\n\t\t    // for the widgets at this line.\n\t\t    var widgetHeight = widgetTopHeight(lineObj);\n\t\t    var begin = 0, end = lineObj.text.length, ltr = true;\n\n\t\t    var order = getOrder(lineObj, cm.doc.direction);\n\t\t    // If the line isn't plain left-to-right text, first figure out\n\t\t    // which bidi section the coordinates fall into.\n\t\t    if (order) {\n\t\t      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)\n\t\t                   (cm, lineObj, lineNo, preparedMeasure, order, x, y);\n\t\t      ltr = part.level != 1;\n\t\t      // The awkward -1 offsets are needed because findFirst (called\n\t\t      // on these below) will treat its first bound as inclusive,\n\t\t      // second as exclusive, but we want to actually address the\n\t\t      // characters in the part's range\n\t\t      begin = ltr ? part.from : part.to - 1;\n\t\t      end = ltr ? part.to : part.from - 1;\n\t\t    }\n\n\t\t    // A binary search to find the first character whose bounding box\n\t\t    // starts after the coordinates. If we run across any whose box wrap\n\t\t    // the coordinates, store that.\n\t\t    var chAround = null, boxAround = null;\n\t\t    var ch = findFirst(function (ch) {\n\t\t      var box = measureCharPrepared(cm, preparedMeasure, ch);\n\t\t      box.top += widgetHeight; box.bottom += widgetHeight;\n\t\t      if (!boxIsAfter(box, x, y, false)) { return false }\n\t\t      if (box.top <= y && box.left <= x) {\n\t\t        chAround = ch;\n\t\t        boxAround = box;\n\t\t      }\n\t\t      return true\n\t\t    }, begin, end);\n\n\t\t    var baseX, sticky, outside = false;\n\t\t    // If a box around the coordinates was found, use that\n\t\t    if (boxAround) {\n\t\t      // Distinguish coordinates nearer to the left or right side of the box\n\t\t      var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;\n\t\t      ch = chAround + (atStart ? 0 : 1);\n\t\t      sticky = atStart ? \"after\" : \"before\";\n\t\t      baseX = atLeft ? boxAround.left : boxAround.right;\n\t\t    } else {\n\t\t      // (Adjust for extended bound, if necessary.)\n\t\t      if (!ltr && (ch == end || ch == begin)) { ch++; }\n\t\t      // To determine which side to associate with, get the box to the\n\t\t      // left of the character and compare it's vertical position to the\n\t\t      // coordinates\n\t\t      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" :\n\t\t        (measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y) == ltr ?\n\t\t        \"after\" : \"before\";\n\t\t      // Now get accurate coordinates for this place, in order to get a\n\t\t      // base X position\n\t\t      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n\t\t      baseX = coords.left;\n\t\t      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n\t\t    }\n\n\t\t    ch = skipExtendingChars(lineObj.text, ch, 1);\n\t\t    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX)\n\t\t  }\n\n\t\t  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n\t\t    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n\t\t    // situation, we can take this ordering to correspond to the visual\n\t\t    // ordering. This finds the first part whose end is after the given\n\t\t    // coordinates.\n\t\t    var index = findFirst(function (i) {\n\t\t      var part = order[i], ltr = part.level != 1;\n\t\t      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"),\n\t\t                                     \"line\", lineObj, preparedMeasure), x, y, true)\n\t\t    }, 0, order.length - 1);\n\t\t    var part = order[index];\n\t\t    // If this isn't the first part, the part's start is also after\n\t\t    // the coordinates, and the coordinates aren't on the same line as\n\t\t    // that start, move one part back.\n\t\t    if (index > 0) {\n\t\t      var ltr = part.level != 1;\n\t\t      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"),\n\t\t                               \"line\", lineObj, preparedMeasure);\n\t\t      if (boxIsAfter(start, x, y, true) && start.top > y)\n\t\t        { part = order[index - 1]; }\n\t\t    }\n\t\t    return part\n\t\t  }\n\n\t\t  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n\t\t    // In a wrapped line, rtl text on wrapping boundaries can do things\n\t\t    // that don't correspond to the ordering in our `order` array at\n\t\t    // all, so a binary search doesn't work, and we want to return a\n\t\t    // part that only spans one line so that the binary search in\n\t\t    // coordsCharInner is safe. As such, we first find the extent of the\n\t\t    // wrapped line, and then do a flat search in which we discard any\n\t\t    // spans that aren't on the line.\n\t\t    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n\t\t    var begin = ref.begin;\n\t\t    var end = ref.end;\n\t\t    if (/\\s/.test(lineObj.text.charAt(end - 1))) { end--; }\n\t\t    var part = null, closestDist = null;\n\t\t    for (var i = 0; i < order.length; i++) {\n\t\t      var p = order[i];\n\t\t      if (p.from >= end || p.to <= begin) { continue }\n\t\t      var ltr = p.level != 1;\n\t\t      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;\n\t\t      // Weigh against spans ending before this, so that they are only\n\t\t      // picked if nothing ends after\n\t\t      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\t\t      if (!part || closestDist > dist) {\n\t\t        part = p;\n\t\t        closestDist = dist;\n\t\t      }\n\t\t    }\n\t\t    if (!part) { part = order[order.length - 1]; }\n\t\t    // Clip the part to the wrapped line.\n\t\t    if (part.from < begin) { part = {from: begin, to: part.to, level: part.level}; }\n\t\t    if (part.to > end) { part = {from: part.from, to: end, level: part.level}; }\n\t\t    return part\n\t\t  }\n\n\t\t  var measureText;\n\t\t  // Compute the default text height.\n\t\t  function textHeight(display) {\n\t\t    if (display.cachedTextHeight != null) { return display.cachedTextHeight }\n\t\t    if (measureText == null) {\n\t\t      measureText = elt(\"pre\", null, \"CodeMirror-line-like\");\n\t\t      // Measure a bunch of lines, for browsers that compute\n\t\t      // fractional heights.\n\t\t      for (var i = 0; i < 49; ++i) {\n\t\t        measureText.appendChild(document.createTextNode(\"x\"));\n\t\t        measureText.appendChild(elt(\"br\"));\n\t\t      }\n\t\t      measureText.appendChild(document.createTextNode(\"x\"));\n\t\t    }\n\t\t    removeChildrenAndAdd(display.measure, measureText);\n\t\t    var height = measureText.offsetHeight / 50;\n\t\t    if (height > 3) { display.cachedTextHeight = height; }\n\t\t    removeChildren(display.measure);\n\t\t    return height || 1\n\t\t  }\n\n\t\t  // Compute the default character width.\n\t\t  function charWidth(display) {\n\t\t    if (display.cachedCharWidth != null) { return display.cachedCharWidth }\n\t\t    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n\t\t    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n\t\t    removeChildrenAndAdd(display.measure, pre);\n\t\t    var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;\n\t\t    if (width > 2) { display.cachedCharWidth = width; }\n\t\t    return width || 10\n\t\t  }\n\n\t\t  // Do a bulk-read of the DOM positions and sizes needed to draw the\n\t\t  // view, so that we don't interleave reading and writing to the DOM.\n\t\t  function getDimensions(cm) {\n\t\t    var d = cm.display, left = {}, width = {};\n\t\t    var gutterLeft = d.gutters.clientLeft;\n\t\t    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n\t\t      var id = cm.display.gutterSpecs[i].className;\n\t\t      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n\t\t      width[id] = n.clientWidth;\n\t\t    }\n\t\t    return {fixedPos: compensateForHScroll(d),\n\t\t            gutterTotalWidth: d.gutters.offsetWidth,\n\t\t            gutterLeft: left,\n\t\t            gutterWidth: width,\n\t\t            wrapperWidth: d.wrapper.clientWidth}\n\t\t  }\n\n\t\t  // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n\t\t  // but using getBoundingClientRect to get a sub-pixel-accurate\n\t\t  // result.\n\t\t  function compensateForHScroll(display) {\n\t\t    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left\n\t\t  }\n\n\t\t  // Returns a function that estimates the height of a line, to use as\n\t\t  // first approximation until the line becomes visible (and is thus\n\t\t  // properly measurable).\n\t\t  function estimateHeight(cm) {\n\t\t    var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;\n\t\t    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n\t\t    return function (line) {\n\t\t      if (lineIsHidden(cm.doc, line)) { return 0 }\n\n\t\t      var widgetsHeight = 0;\n\t\t      if (line.widgets) { for (var i = 0; i < line.widgets.length; i++) {\n\t\t        if (line.widgets[i].height) { widgetsHeight += line.widgets[i].height; }\n\t\t      } }\n\n\t\t      if (wrapping)\n\t\t        { return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th }\n\t\t      else\n\t\t        { return widgetsHeight + th }\n\t\t    }\n\t\t  }\n\n\t\t  function estimateLineHeights(cm) {\n\t\t    var doc = cm.doc, est = estimateHeight(cm);\n\t\t    doc.iter(function (line) {\n\t\t      var estHeight = est(line);\n\t\t      if (estHeight != line.height) { updateLineHeight(line, estHeight); }\n\t\t    });\n\t\t  }\n\n\t\t  // Given a mouse event, find the corresponding position. If liberal\n\t\t  // is false, it checks whether a gutter or scrollbar was clicked,\n\t\t  // and returns null if it was. forRect is used by rectangular\n\t\t  // selections, and tries to estimate a character position even for\n\t\t  // coordinates beyond the right of the text.\n\t\t  function posFromMouse(cm, e, liberal, forRect) {\n\t\t    var display = cm.display;\n\t\t    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") { return null }\n\n\t\t    var x, y, space = display.lineSpace.getBoundingClientRect();\n\t\t    // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\t\t    try { x = e.clientX - space.left; y = e.clientY - space.top; }\n\t\t    catch (e$1) { return null }\n\t\t    var coords = coordsChar(cm, x, y), line;\n\t\t    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n\t\t      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n\t\t      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n\t\t    }\n\t\t    return coords\n\t\t  }\n\n\t\t  // Find the view element corresponding to a given line. Return null\n\t\t  // when the line isn't visible.\n\t\t  function findViewIndex(cm, n) {\n\t\t    if (n >= cm.display.viewTo) { return null }\n\t\t    n -= cm.display.viewFrom;\n\t\t    if (n < 0) { return null }\n\t\t    var view = cm.display.view;\n\t\t    for (var i = 0; i < view.length; i++) {\n\t\t      n -= view[i].size;\n\t\t      if (n < 0) { return i }\n\t\t    }\n\t\t  }\n\n\t\t  // Updates the display.view data structure for a given change to the\n\t\t  // document. From and to are in pre-change coordinates. Lendiff is\n\t\t  // the amount of lines added or subtracted by the change. This is\n\t\t  // used for changes that span multiple lines, or change the way\n\t\t  // lines are divided into visual lines. regLineChange (below)\n\t\t  // registers single-line changes.\n\t\t  function regChange(cm, from, to, lendiff) {\n\t\t    if (from == null) { from = cm.doc.first; }\n\t\t    if (to == null) { to = cm.doc.first + cm.doc.size; }\n\t\t    if (!lendiff) { lendiff = 0; }\n\n\t\t    var display = cm.display;\n\t\t    if (lendiff && to < display.viewTo &&\n\t\t        (display.updateLineNumbers == null || display.updateLineNumbers > from))\n\t\t      { display.updateLineNumbers = from; }\n\n\t\t    cm.curOp.viewChanged = true;\n\n\t\t    if (from >= display.viewTo) { // Change after\n\t\t      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo)\n\t\t        { resetView(cm); }\n\t\t    } else if (to <= display.viewFrom) { // Change before\n\t\t      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n\t\t        resetView(cm);\n\t\t      } else {\n\t\t        display.viewFrom += lendiff;\n\t\t        display.viewTo += lendiff;\n\t\t      }\n\t\t    } else if (from <= display.viewFrom && to >= display.viewTo) { // Full overlap\n\t\t      resetView(cm);\n\t\t    } else if (from <= display.viewFrom) { // Top overlap\n\t\t      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\t\t      if (cut) {\n\t\t        display.view = display.view.slice(cut.index);\n\t\t        display.viewFrom = cut.lineN;\n\t\t        display.viewTo += lendiff;\n\t\t      } else {\n\t\t        resetView(cm);\n\t\t      }\n\t\t    } else if (to >= display.viewTo) { // Bottom overlap\n\t\t      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\t\t      if (cut$1) {\n\t\t        display.view = display.view.slice(0, cut$1.index);\n\t\t        display.viewTo = cut$1.lineN;\n\t\t      } else {\n\t\t        resetView(cm);\n\t\t      }\n\t\t    } else { // Gap in the middle\n\t\t      var cutTop = viewCuttingPoint(cm, from, from, -1);\n\t\t      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\t\t      if (cutTop && cutBot) {\n\t\t        display.view = display.view.slice(0, cutTop.index)\n\t\t          .concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN))\n\t\t          .concat(display.view.slice(cutBot.index));\n\t\t        display.viewTo += lendiff;\n\t\t      } else {\n\t\t        resetView(cm);\n\t\t      }\n\t\t    }\n\n\t\t    var ext = display.externalMeasured;\n\t\t    if (ext) {\n\t\t      if (to < ext.lineN)\n\t\t        { ext.lineN += lendiff; }\n\t\t      else if (from < ext.lineN + ext.size)\n\t\t        { display.externalMeasured = null; }\n\t\t    }\n\t\t  }\n\n\t\t  // Register a change to a single line. Type must be one of \"text\",\n\t\t  // \"gutter\", \"class\", \"widget\"\n\t\t  function regLineChange(cm, line, type) {\n\t\t    cm.curOp.viewChanged = true;\n\t\t    var display = cm.display, ext = cm.display.externalMeasured;\n\t\t    if (ext && line >= ext.lineN && line < ext.lineN + ext.size)\n\t\t      { display.externalMeasured = null; }\n\n\t\t    if (line < display.viewFrom || line >= display.viewTo) { return }\n\t\t    var lineView = display.view[findViewIndex(cm, line)];\n\t\t    if (lineView.node == null) { return }\n\t\t    var arr = lineView.changes || (lineView.changes = []);\n\t\t    if (indexOf(arr, type) == -1) { arr.push(type); }\n\t\t  }\n\n\t\t  // Clear the view.\n\t\t  function resetView(cm) {\n\t\t    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n\t\t    cm.display.view = [];\n\t\t    cm.display.viewOffset = 0;\n\t\t  }\n\n\t\t  function viewCuttingPoint(cm, oldN, newN, dir) {\n\t\t    var index = findViewIndex(cm, oldN), diff, view = cm.display.view;\n\t\t    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size)\n\t\t      { return {index: index, lineN: newN} }\n\t\t    var n = cm.display.viewFrom;\n\t\t    for (var i = 0; i < index; i++)\n\t\t      { n += view[i].size; }\n\t\t    if (n != oldN) {\n\t\t      if (dir > 0) {\n\t\t        if (index == view.length - 1) { return null }\n\t\t        diff = (n + view[index].size) - oldN;\n\t\t        index++;\n\t\t      } else {\n\t\t        diff = n - oldN;\n\t\t      }\n\t\t      oldN += diff; newN += diff;\n\t\t    }\n\t\t    while (visualLineNo(cm.doc, newN) != newN) {\n\t\t      if (index == (dir < 0 ? 0 : view.length - 1)) { return null }\n\t\t      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n\t\t      index += dir;\n\t\t    }\n\t\t    return {index: index, lineN: newN}\n\t\t  }\n\n\t\t  // Force the view to cover a given range, adding empty view element\n\t\t  // or clipping off existing ones as needed.\n\t\t  function adjustView(cm, from, to) {\n\t\t    var display = cm.display, view = display.view;\n\t\t    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n\t\t      display.view = buildViewArray(cm, from, to);\n\t\t      display.viewFrom = from;\n\t\t    } else {\n\t\t      if (display.viewFrom > from)\n\t\t        { display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view); }\n\t\t      else if (display.viewFrom < from)\n\t\t        { display.view = display.view.slice(findViewIndex(cm, from)); }\n\t\t      display.viewFrom = from;\n\t\t      if (display.viewTo < to)\n\t\t        { display.view = display.view.concat(buildViewArray(cm, display.viewTo, to)); }\n\t\t      else if (display.viewTo > to)\n\t\t        { display.view = display.view.slice(0, findViewIndex(cm, to)); }\n\t\t    }\n\t\t    display.viewTo = to;\n\t\t  }\n\n\t\t  // Count the number of lines in the view whose DOM representation is\n\t\t  // out of date (or nonexistent).\n\t\t  function countDirtyView(cm) {\n\t\t    var view = cm.display.view, dirty = 0;\n\t\t    for (var i = 0; i < view.length; i++) {\n\t\t      var lineView = view[i];\n\t\t      if (!lineView.hidden && (!lineView.node || lineView.changes)) { ++dirty; }\n\t\t    }\n\t\t    return dirty\n\t\t  }\n\n\t\t  function updateSelection(cm) {\n\t\t    cm.display.input.showSelection(cm.display.input.prepareSelection());\n\t\t  }\n\n\t\t  function prepareSelection(cm, primary) {\n\t\t    if ( primary === undefined ) primary = true;\n\n\t\t    var doc = cm.doc, result = {};\n\t\t    var curFragment = result.cursors = document.createDocumentFragment();\n\t\t    var selFragment = result.selection = document.createDocumentFragment();\n\n\t\t    var customCursor = cm.options.$customCursor;\n\t\t    if (customCursor) { primary = true; }\n\t\t    for (var i = 0; i < doc.sel.ranges.length; i++) {\n\t\t      if (!primary && i == doc.sel.primIndex) { continue }\n\t\t      var range = doc.sel.ranges[i];\n\t\t      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) { continue }\n\t\t      var collapsed = range.empty();\n\t\t      if (customCursor) {\n\t\t        var head = customCursor(cm, range);\n\t\t        if (head) { drawSelectionCursor(cm, head, curFragment); }\n\t\t      } else if (collapsed || cm.options.showCursorWhenSelecting) {\n\t\t        drawSelectionCursor(cm, range.head, curFragment);\n\t\t      }\n\t\t      if (!collapsed)\n\t\t        { drawSelectionRange(cm, range, selFragment); }\n\t\t    }\n\t\t    return result\n\t\t  }\n\n\t\t  // Draws a cursor for the given range\n\t\t  function drawSelectionCursor(cm, head, output) {\n\t\t    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n\n\t\t    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n\t\t    cursor.style.left = pos.left + \"px\";\n\t\t    cursor.style.top = pos.top + \"px\";\n\t\t    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n\t\t    if (/\\bcm-fat-cursor\\b/.test(cm.getWrapperElement().className)) {\n\t\t      var charPos = charCoords(cm, head, \"div\", null, null);\n\t\t      var width = charPos.right - charPos.left;\n\t\t      cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + \"px\";\n\t\t    }\n\n\t\t    if (pos.other) {\n\t\t      // Secondary cursor, shown when on a 'jump' in bi-directional text\n\t\t      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n\t\t      otherCursor.style.display = \"\";\n\t\t      otherCursor.style.left = pos.other.left + \"px\";\n\t\t      otherCursor.style.top = pos.other.top + \"px\";\n\t\t      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n\t\t    }\n\t\t  }\n\n\t\t  function cmpCoords(a, b) { return a.top - b.top || a.left - b.left }\n\n\t\t  // Draws the given range as a highlighted selection\n\t\t  function drawSelectionRange(cm, range, output) {\n\t\t    var display = cm.display, doc = cm.doc;\n\t\t    var fragment = document.createDocumentFragment();\n\t\t    var padding = paddingH(cm.display), leftSide = padding.left;\n\t\t    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n\t\t    var docLTR = doc.direction == \"ltr\";\n\n\t\t    function add(left, top, width, bottom) {\n\t\t      if (top < 0) { top = 0; }\n\t\t      top = Math.round(top);\n\t\t      bottom = Math.round(bottom);\n\t\t      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", (\"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\")));\n\t\t    }\n\n\t\t    function drawForLine(line, fromArg, toArg) {\n\t\t      var lineObj = getLine(doc, line);\n\t\t      var lineLen = lineObj.text.length;\n\t\t      var start, end;\n\t\t      function coords(ch, bias) {\n\t\t        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias)\n\t\t      }\n\n\t\t      function wrapX(pos, dir, side) {\n\t\t        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n\t\t        var prop = (dir == \"ltr\") == (side == \"after\") ? \"left\" : \"right\";\n\t\t        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n\t\t        return coords(ch, prop)[prop]\n\t\t      }\n\n\t\t      var order = getOrder(lineObj, doc.direction);\n\t\t      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n\t\t        var ltr = dir == \"ltr\";\n\t\t        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n\t\t        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n\n\t\t        var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;\n\t\t        var first = i == 0, last = !order || i == order.length - 1;\n\t\t        if (toPos.top - fromPos.top <= 3) { // Single line\n\t\t          var openLeft = (docLTR ? openStart : openEnd) && first;\n\t\t          var openRight = (docLTR ? openEnd : openStart) && last;\n\t\t          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n\t\t          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n\t\t          add(left, fromPos.top, right - left, fromPos.bottom);\n\t\t        } else { // Multiple lines\n\t\t          var topLeft, topRight, botLeft, botRight;\n\t\t          if (ltr) {\n\t\t            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n\t\t            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n\t\t            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n\t\t            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n\t\t          } else {\n\t\t            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n\t\t            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n\t\t            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n\t\t            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n\t\t          }\n\t\t          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\t\t          if (fromPos.bottom < toPos.top) { add(leftSide, fromPos.bottom, null, toPos.top); }\n\t\t          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n\t\t        }\n\n\t\t        if (!start || cmpCoords(fromPos, start) < 0) { start = fromPos; }\n\t\t        if (cmpCoords(toPos, start) < 0) { start = toPos; }\n\t\t        if (!end || cmpCoords(fromPos, end) < 0) { end = fromPos; }\n\t\t        if (cmpCoords(toPos, end) < 0) { end = toPos; }\n\t\t      });\n\t\t      return {start: start, end: end}\n\t\t    }\n\n\t\t    var sFrom = range.from(), sTo = range.to();\n\t\t    if (sFrom.line == sTo.line) {\n\t\t      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n\t\t    } else {\n\t\t      var fromLine = getLine(doc, sFrom.line), toLine = getLine(doc, sTo.line);\n\t\t      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n\t\t      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n\t\t      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\t\t      if (singleVLine) {\n\t\t        if (leftEnd.top < rightStart.top - 2) {\n\t\t          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n\t\t          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n\t\t        } else {\n\t\t          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n\t\t        }\n\t\t      }\n\t\t      if (leftEnd.bottom < rightStart.top)\n\t\t        { add(leftSide, leftEnd.bottom, null, rightStart.top); }\n\t\t    }\n\n\t\t    output.appendChild(fragment);\n\t\t  }\n\n\t\t  // Cursor-blinking\n\t\t  function restartBlink(cm) {\n\t\t    if (!cm.state.focused) { return }\n\t\t    var display = cm.display;\n\t\t    clearInterval(display.blinker);\n\t\t    var on = true;\n\t\t    display.cursorDiv.style.visibility = \"\";\n\t\t    if (cm.options.cursorBlinkRate > 0)\n\t\t      { display.blinker = setInterval(function () {\n\t\t        if (!cm.hasFocus()) { onBlur(cm); }\n\t\t        display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n\t\t      }, cm.options.cursorBlinkRate); }\n\t\t    else if (cm.options.cursorBlinkRate < 0)\n\t\t      { display.cursorDiv.style.visibility = \"hidden\"; }\n\t\t  }\n\n\t\t  function ensureFocus(cm) {\n\t\t    if (!cm.hasFocus()) {\n\t\t      cm.display.input.focus();\n\t\t      if (!cm.state.focused) { onFocus(cm); }\n\t\t    }\n\t\t  }\n\n\t\t  function delayBlurEvent(cm) {\n\t\t    cm.state.delayingBlurEvent = true;\n\t\t    setTimeout(function () { if (cm.state.delayingBlurEvent) {\n\t\t      cm.state.delayingBlurEvent = false;\n\t\t      if (cm.state.focused) { onBlur(cm); }\n\t\t    } }, 100);\n\t\t  }\n\n\t\t  function onFocus(cm, e) {\n\t\t    if (cm.state.delayingBlurEvent && !cm.state.draggingText) { cm.state.delayingBlurEvent = false; }\n\n\t\t    if (cm.options.readOnly == \"nocursor\") { return }\n\t\t    if (!cm.state.focused) {\n\t\t      signal(cm, \"focus\", cm, e);\n\t\t      cm.state.focused = true;\n\t\t      addClass(cm.display.wrapper, \"CodeMirror-focused\");\n\t\t      // This test prevents this from firing when a context\n\t\t      // menu is closed (since the input reset would kill the\n\t\t      // select-all detection hack)\n\t\t      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n\t\t        cm.display.input.reset();\n\t\t        if (webkit) { setTimeout(function () { return cm.display.input.reset(true); }, 20); } // Issue #1730\n\t\t      }\n\t\t      cm.display.input.receivedFocus();\n\t\t    }\n\t\t    restartBlink(cm);\n\t\t  }\n\t\t  function onBlur(cm, e) {\n\t\t    if (cm.state.delayingBlurEvent) { return }\n\n\t\t    if (cm.state.focused) {\n\t\t      signal(cm, \"blur\", cm, e);\n\t\t      cm.state.focused = false;\n\t\t      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n\t\t    }\n\t\t    clearInterval(cm.display.blinker);\n\t\t    setTimeout(function () { if (!cm.state.focused) { cm.display.shift = false; } }, 150);\n\t\t  }\n\n\t\t  // Read the actual heights of the rendered lines, and update their\n\t\t  // stored heights to match.\n\t\t  function updateHeightsInViewport(cm) {\n\t\t    var display = cm.display;\n\t\t    var prevBottom = display.lineDiv.offsetTop;\n\t\t    var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);\n\t\t    var oldHeight = display.lineDiv.getBoundingClientRect().top;\n\t\t    var mustScroll = 0;\n\t\t    for (var i = 0; i < display.view.length; i++) {\n\t\t      var cur = display.view[i], wrapping = cm.options.lineWrapping;\n\t\t      var height = (undefined), width = 0;\n\t\t      if (cur.hidden) { continue }\n\t\t      oldHeight += cur.line.height;\n\t\t      if (ie && ie_version < 8) {\n\t\t        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n\t\t        height = bot - prevBottom;\n\t\t        prevBottom = bot;\n\t\t      } else {\n\t\t        var box = cur.node.getBoundingClientRect();\n\t\t        height = box.bottom - box.top;\n\t\t        // Check that lines don't extend past the right of the current\n\t\t        // editor width\n\t\t        if (!wrapping && cur.text.firstChild)\n\t\t          { width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1; }\n\t\t      }\n\t\t      var diff = cur.line.height - height;\n\t\t      if (diff > .005 || diff < -5e-3) {\n\t\t        if (oldHeight < viewTop) { mustScroll -= diff; }\n\t\t        updateLineHeight(cur.line, height);\n\t\t        updateWidgetHeight(cur.line);\n\t\t        if (cur.rest) { for (var j = 0; j < cur.rest.length; j++)\n\t\t          { updateWidgetHeight(cur.rest[j]); } }\n\t\t      }\n\t\t      if (width > cm.display.sizerWidth) {\n\t\t        var chWidth = Math.ceil(width / charWidth(cm.display));\n\t\t        if (chWidth > cm.display.maxLineLength) {\n\t\t          cm.display.maxLineLength = chWidth;\n\t\t          cm.display.maxLine = cur.line;\n\t\t          cm.display.maxLineChanged = true;\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t    if (Math.abs(mustScroll) > 2) { display.scroller.scrollTop += mustScroll; }\n\t\t  }\n\n\t\t  // Read and store the height of line widgets associated with the\n\t\t  // given line.\n\t\t  function updateWidgetHeight(line) {\n\t\t    if (line.widgets) { for (var i = 0; i < line.widgets.length; ++i) {\n\t\t      var w = line.widgets[i], parent = w.node.parentNode;\n\t\t      if (parent) { w.height = parent.offsetHeight; }\n\t\t    } }\n\t\t  }\n\n\t\t  // Compute the lines that are visible in a given viewport (defaults\n\t\t  // the current scroll position). viewport may contain top,\n\t\t  // height, and ensure (see op.scrollToPos) properties.\n\t\t  function visibleLines(display, doc, viewport) {\n\t\t    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n\t\t    top = Math.floor(top - paddingTop(display));\n\t\t    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n\n\t\t    var from = lineAtHeight(doc, top), to = lineAtHeight(doc, bottom);\n\t\t    // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n\t\t    // forces those lines into the viewport (if possible).\n\t\t    if (viewport && viewport.ensure) {\n\t\t      var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;\n\t\t      if (ensureFrom < from) {\n\t\t        from = ensureFrom;\n\t\t        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n\t\t      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n\t\t        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n\t\t        to = ensureTo;\n\t\t      }\n\t\t    }\n\t\t    return {from: from, to: Math.max(to, from + 1)}\n\t\t  }\n\n\t\t  // SCROLLING THINGS INTO VIEW\n\n\t\t  // If an editor sits on the top or bottom of the window, partially\n\t\t  // scrolled out of view, this ensures that the cursor is visible.\n\t\t  function maybeScrollWindow(cm, rect) {\n\t\t    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) { return }\n\n\t\t    var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;\n\t\t    var doc = display.wrapper.ownerDocument;\n\t\t    if (rect.top + box.top < 0) { doScroll = true; }\n\t\t    else if (rect.bottom + box.top > (doc.defaultView.innerHeight || doc.documentElement.clientHeight)) { doScroll = false; }\n\t\t    if (doScroll != null && !phantom) {\n\t\t      var scrollNode = elt(\"div\", \"\\u200b\", null, (\"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + (rect.left) + \"px; width: \" + (Math.max(2, rect.right - rect.left)) + \"px;\"));\n\t\t      cm.display.lineSpace.appendChild(scrollNode);\n\t\t      scrollNode.scrollIntoView(doScroll);\n\t\t      cm.display.lineSpace.removeChild(scrollNode);\n\t\t    }\n\t\t  }\n\n\t\t  // Scroll a given position into view (immediately), verifying that\n\t\t  // it actually became visible (as line heights are accurately\n\t\t  // measured, the position of something may 'drift' during drawing).\n\t\t  function scrollPosIntoView(cm, pos, end, margin) {\n\t\t    if (margin == null) { margin = 0; }\n\t\t    var rect;\n\t\t    if (!cm.options.lineWrapping && pos == end) {\n\t\t      // Set pos and end to the cursor positions around the character pos sticks to\n\t\t      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n\t\t      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n\t\t      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n\t\t      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n\t\t    }\n\t\t    for (var limit = 0; limit < 5; limit++) {\n\t\t      var changed = false;\n\t\t      var coords = cursorCoords(cm, pos);\n\t\t      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n\t\t      rect = {left: Math.min(coords.left, endCoords.left),\n\t\t              top: Math.min(coords.top, endCoords.top) - margin,\n\t\t              right: Math.max(coords.left, endCoords.left),\n\t\t              bottom: Math.max(coords.bottom, endCoords.bottom) + margin};\n\t\t      var scrollPos = calculateScrollPos(cm, rect);\n\t\t      var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;\n\t\t      if (scrollPos.scrollTop != null) {\n\t\t        updateScrollTop(cm, scrollPos.scrollTop);\n\t\t        if (Math.abs(cm.doc.scrollTop - startTop) > 1) { changed = true; }\n\t\t      }\n\t\t      if (scrollPos.scrollLeft != null) {\n\t\t        setScrollLeft(cm, scrollPos.scrollLeft);\n\t\t        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) { changed = true; }\n\t\t      }\n\t\t      if (!changed) { break }\n\t\t    }\n\t\t    return rect\n\t\t  }\n\n\t\t  // Scroll a given set of coordinates into view (immediately).\n\t\t  function scrollIntoView(cm, rect) {\n\t\t    var scrollPos = calculateScrollPos(cm, rect);\n\t\t    if (scrollPos.scrollTop != null) { updateScrollTop(cm, scrollPos.scrollTop); }\n\t\t    if (scrollPos.scrollLeft != null) { setScrollLeft(cm, scrollPos.scrollLeft); }\n\t\t  }\n\n\t\t  // Calculate a new scroll position needed to scroll the given\n\t\t  // rectangle into view. Returns an object with scrollTop and\n\t\t  // scrollLeft properties. When these are undefined, the\n\t\t  // vertical/horizontal position does not need to be adjusted.\n\t\t  function calculateScrollPos(cm, rect) {\n\t\t    var display = cm.display, snapMargin = textHeight(cm.display);\n\t\t    if (rect.top < 0) { rect.top = 0; }\n\t\t    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n\t\t    var screen = displayHeight(cm), result = {};\n\t\t    if (rect.bottom - rect.top > screen) { rect.bottom = rect.top + screen; }\n\t\t    var docBottom = cm.doc.height + paddingVert(display);\n\t\t    var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;\n\t\t    if (rect.top < screentop) {\n\t\t      result.scrollTop = atTop ? 0 : rect.top;\n\t\t    } else if (rect.bottom > screentop + screen) {\n\t\t      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\t\t      if (newTop != screentop) { result.scrollTop = newTop; }\n\t\t    }\n\n\t\t    var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;\n\t\t    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;\n\t\t    var screenw = displayWidth(cm) - display.gutters.offsetWidth;\n\t\t    var tooWide = rect.right - rect.left > screenw;\n\t\t    if (tooWide) { rect.right = rect.left + screenw; }\n\t\t    if (rect.left < 10)\n\t\t      { result.scrollLeft = 0; }\n\t\t    else if (rect.left < screenleft)\n\t\t      { result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10)); }\n\t\t    else if (rect.right > screenw + screenleft - 3)\n\t\t      { result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw; }\n\t\t    return result\n\t\t  }\n\n\t\t  // Store a relative adjustment to the scroll position in the current\n\t\t  // operation (to be applied when the operation finishes).\n\t\t  function addToScrollTop(cm, top) {\n\t\t    if (top == null) { return }\n\t\t    resolveScrollToPos(cm);\n\t\t    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n\t\t  }\n\n\t\t  // Make sure that at the end of the operation the current cursor is\n\t\t  // shown.\n\t\t  function ensureCursorVisible(cm) {\n\t\t    resolveScrollToPos(cm);\n\t\t    var cur = cm.getCursor();\n\t\t    cm.curOp.scrollToPos = {from: cur, to: cur, margin: cm.options.cursorScrollMargin};\n\t\t  }\n\n\t\t  function scrollToCoords(cm, x, y) {\n\t\t    if (x != null || y != null) { resolveScrollToPos(cm); }\n\t\t    if (x != null) { cm.curOp.scrollLeft = x; }\n\t\t    if (y != null) { cm.curOp.scrollTop = y; }\n\t\t  }\n\n\t\t  function scrollToRange(cm, range) {\n\t\t    resolveScrollToPos(cm);\n\t\t    cm.curOp.scrollToPos = range;\n\t\t  }\n\n\t\t  // When an operation has its scrollToPos property set, and another\n\t\t  // scroll action is applied before the end of the operation, this\n\t\t  // 'simulates' scrolling that position into view in a cheap way, so\n\t\t  // that the effect of intermediate scroll commands is not ignored.\n\t\t  function resolveScrollToPos(cm) {\n\t\t    var range = cm.curOp.scrollToPos;\n\t\t    if (range) {\n\t\t      cm.curOp.scrollToPos = null;\n\t\t      var from = estimateCoords(cm, range.from), to = estimateCoords(cm, range.to);\n\t\t      scrollToCoordsRange(cm, from, to, range.margin);\n\t\t    }\n\t\t  }\n\n\t\t  function scrollToCoordsRange(cm, from, to, margin) {\n\t\t    var sPos = calculateScrollPos(cm, {\n\t\t      left: Math.min(from.left, to.left),\n\t\t      top: Math.min(from.top, to.top) - margin,\n\t\t      right: Math.max(from.right, to.right),\n\t\t      bottom: Math.max(from.bottom, to.bottom) + margin\n\t\t    });\n\t\t    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n\t\t  }\n\n\t\t  // Sync the scrollable area and scrollbars, ensure the viewport\n\t\t  // covers the visible area.\n\t\t  function updateScrollTop(cm, val) {\n\t\t    if (Math.abs(cm.doc.scrollTop - val) < 2) { return }\n\t\t    if (!gecko) { updateDisplaySimple(cm, {top: val}); }\n\t\t    setScrollTop(cm, val, true);\n\t\t    if (gecko) { updateDisplaySimple(cm); }\n\t\t    startWorker(cm, 100);\n\t\t  }\n\n\t\t  function setScrollTop(cm, val, forceScroll) {\n\t\t    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n\t\t    if (cm.display.scroller.scrollTop == val && !forceScroll) { return }\n\t\t    cm.doc.scrollTop = val;\n\t\t    cm.display.scrollbars.setScrollTop(val);\n\t\t    if (cm.display.scroller.scrollTop != val) { cm.display.scroller.scrollTop = val; }\n\t\t  }\n\n\t\t  // Sync scroller and scrollbar, ensure the gutter elements are\n\t\t  // aligned.\n\t\t  function setScrollLeft(cm, val, isScroller, forceScroll) {\n\t\t    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n\t\t    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) { return }\n\t\t    cm.doc.scrollLeft = val;\n\t\t    alignHorizontally(cm);\n\t\t    if (cm.display.scroller.scrollLeft != val) { cm.display.scroller.scrollLeft = val; }\n\t\t    cm.display.scrollbars.setScrollLeft(val);\n\t\t  }\n\n\t\t  // SCROLLBARS\n\n\t\t  // Prepare DOM reads needed to update the scrollbars. Done in one\n\t\t  // shot to minimize update/measure roundtrips.\n\t\t  function measureForScrollbars(cm) {\n\t\t    var d = cm.display, gutterW = d.gutters.offsetWidth;\n\t\t    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n\t\t    return {\n\t\t      clientHeight: d.scroller.clientHeight,\n\t\t      viewHeight: d.wrapper.clientHeight,\n\t\t      scrollWidth: d.scroller.scrollWidth, clientWidth: d.scroller.clientWidth,\n\t\t      viewWidth: d.wrapper.clientWidth,\n\t\t      barLeft: cm.options.fixedGutter ? gutterW : 0,\n\t\t      docHeight: docH,\n\t\t      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n\t\t      nativeBarWidth: d.nativeBarWidth,\n\t\t      gutterWidth: gutterW\n\t\t    }\n\t\t  }\n\n\t\t  var NativeScrollbars = function(place, scroll, cm) {\n\t\t    this.cm = cm;\n\t\t    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n\t\t    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n\t\t    vert.tabIndex = horiz.tabIndex = -1;\n\t\t    place(vert); place(horiz);\n\n\t\t    on(vert, \"scroll\", function () {\n\t\t      if (vert.clientHeight) { scroll(vert.scrollTop, \"vertical\"); }\n\t\t    });\n\t\t    on(horiz, \"scroll\", function () {\n\t\t      if (horiz.clientWidth) { scroll(horiz.scrollLeft, \"horizontal\"); }\n\t\t    });\n\n\t\t    this.checkedZeroWidth = false;\n\t\t    // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\t\t    if (ie && ie_version < 8) { this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\"; }\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.update = function (measure) {\n\t\t    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n\t\t    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n\t\t    var sWidth = measure.nativeBarWidth;\n\n\t\t    if (needsV) {\n\t\t      this.vert.style.display = \"block\";\n\t\t      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n\t\t      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);\n\t\t      // A bug in IE8 can cause this value to be negative, so guard it.\n\t\t      this.vert.firstChild.style.height =\n\t\t        Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n\t\t    } else {\n\t\t      this.vert.scrollTop = 0;\n\t\t      this.vert.style.display = \"\";\n\t\t      this.vert.firstChild.style.height = \"0\";\n\t\t    }\n\n\t\t    if (needsH) {\n\t\t      this.horiz.style.display = \"block\";\n\t\t      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n\t\t      this.horiz.style.left = measure.barLeft + \"px\";\n\t\t      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n\t\t      this.horiz.firstChild.style.width =\n\t\t        Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n\t\t    } else {\n\t\t      this.horiz.style.display = \"\";\n\t\t      this.horiz.firstChild.style.width = \"0\";\n\t\t    }\n\n\t\t    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n\t\t      if (sWidth == 0) { this.zeroWidthHack(); }\n\t\t      this.checkedZeroWidth = true;\n\t\t    }\n\n\t\t    return {right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0}\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n\t\t    if (this.horiz.scrollLeft != pos) { this.horiz.scrollLeft = pos; }\n\t\t    if (this.disableHoriz) { this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\"); }\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.setScrollTop = function (pos) {\n\t\t    if (this.vert.scrollTop != pos) { this.vert.scrollTop = pos; }\n\t\t    if (this.disableVert) { this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\"); }\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.zeroWidthHack = function () {\n\t\t    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n\t\t    this.horiz.style.height = this.vert.style.width = w;\n\t\t    this.horiz.style.visibility = this.vert.style.visibility = \"hidden\";\n\t\t    this.disableHoriz = new Delayed;\n\t\t    this.disableVert = new Delayed;\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n\t\t    bar.style.visibility = \"\";\n\t\t    function maybeDisable() {\n\t\t      // To find out whether the scrollbar is still visible, we\n\t\t      // check whether the element under the pixel in the bottom\n\t\t      // right corner of the scrollbar box is the scrollbar box\n\t\t      // itself (when the bar is still visible) or its filler child\n\t\t      // (when the bar is hidden). If it is still visible, we keep\n\t\t      // it enabled, if it's hidden, we disable pointer events.\n\t\t      var box = bar.getBoundingClientRect();\n\t\t      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2)\n\t\t          : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\t\t      if (elt != bar) { bar.style.visibility = \"hidden\"; }\n\t\t      else { delay.set(1000, maybeDisable); }\n\t\t    }\n\t\t    delay.set(1000, maybeDisable);\n\t\t  };\n\n\t\t  NativeScrollbars.prototype.clear = function () {\n\t\t    var parent = this.horiz.parentNode;\n\t\t    parent.removeChild(this.horiz);\n\t\t    parent.removeChild(this.vert);\n\t\t  };\n\n\t\t  var NullScrollbars = function () {};\n\n\t\t  NullScrollbars.prototype.update = function () { return {bottom: 0, right: 0} };\n\t\t  NullScrollbars.prototype.setScrollLeft = function () {};\n\t\t  NullScrollbars.prototype.setScrollTop = function () {};\n\t\t  NullScrollbars.prototype.clear = function () {};\n\n\t\t  function updateScrollbars(cm, measure) {\n\t\t    if (!measure) { measure = measureForScrollbars(cm); }\n\t\t    var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;\n\t\t    updateScrollbarsInner(cm, measure);\n\t\t    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n\t\t      if (startWidth != cm.display.barWidth && cm.options.lineWrapping)\n\t\t        { updateHeightsInViewport(cm); }\n\t\t      updateScrollbarsInner(cm, measureForScrollbars(cm));\n\t\t      startWidth = cm.display.barWidth; startHeight = cm.display.barHeight;\n\t\t    }\n\t\t  }\n\n\t\t  // Re-synchronize the fake scrollbars with the actual size of the\n\t\t  // content.\n\t\t  function updateScrollbarsInner(cm, measure) {\n\t\t    var d = cm.display;\n\t\t    var sizes = d.scrollbars.update(measure);\n\n\t\t    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n\t\t    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n\t\t    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n\t\t    if (sizes.right && sizes.bottom) {\n\t\t      d.scrollbarFiller.style.display = \"block\";\n\t\t      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n\t\t      d.scrollbarFiller.style.width = sizes.right + \"px\";\n\t\t    } else { d.scrollbarFiller.style.display = \"\"; }\n\t\t    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n\t\t      d.gutterFiller.style.display = \"block\";\n\t\t      d.gutterFiller.style.height = sizes.bottom + \"px\";\n\t\t      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n\t\t    } else { d.gutterFiller.style.display = \"\"; }\n\t\t  }\n\n\t\t  var scrollbarModel = {\"native\": NativeScrollbars, \"null\": NullScrollbars};\n\n\t\t  function initScrollbars(cm) {\n\t\t    if (cm.display.scrollbars) {\n\t\t      cm.display.scrollbars.clear();\n\t\t      if (cm.display.scrollbars.addClass)\n\t\t        { rmClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n\t\t    }\n\n\t\t    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n\t\t      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);\n\t\t      // Prevent clicks in the scrollbars from killing focus\n\t\t      on(node, \"mousedown\", function () {\n\t\t        if (cm.state.focused) { setTimeout(function () { return cm.display.input.focus(); }, 0); }\n\t\t      });\n\t\t      node.setAttribute(\"cm-not-content\", \"true\");\n\t\t    }, function (pos, axis) {\n\t\t      if (axis == \"horizontal\") { setScrollLeft(cm, pos); }\n\t\t      else { updateScrollTop(cm, pos); }\n\t\t    }, cm);\n\t\t    if (cm.display.scrollbars.addClass)\n\t\t      { addClass(cm.display.wrapper, cm.display.scrollbars.addClass); }\n\t\t  }\n\n\t\t  // Operations are used to wrap a series of changes to the editor\n\t\t  // state in such a way that each change won't have to update the\n\t\t  // cursor and display (which would be awkward, slow, and\n\t\t  // error-prone). Instead, display updates are batched and then all\n\t\t  // combined and executed at once.\n\n\t\t  var nextOpId = 0;\n\t\t  // Start a new operation.\n\t\t  function startOperation(cm) {\n\t\t    cm.curOp = {\n\t\t      cm: cm,\n\t\t      viewChanged: false,      // Flag that indicates that lines might need to be redrawn\n\t\t      startHeight: cm.doc.height, // Used to detect need to update scrollbar\n\t\t      forceUpdate: false,      // Used to force a redraw\n\t\t      updateInput: 0,       // Whether to reset the input textarea\n\t\t      typing: false,           // Whether this reset should be careful to leave existing text (for compositing)\n\t\t      changeObjs: null,        // Accumulated changes, for firing change events\n\t\t      cursorActivityHandlers: null, // Set of handlers to fire cursorActivity on\n\t\t      cursorActivityCalled: 0, // Tracks which cursorActivity handlers have been called already\n\t\t      selectionChanged: false, // Whether the selection needs to be redrawn\n\t\t      updateMaxLine: false,    // Set when the widest line needs to be determined anew\n\t\t      scrollLeft: null, scrollTop: null, // Intermediate scroll position, not pushed to DOM yet\n\t\t      scrollToPos: null,       // Used to scroll to a specific position\n\t\t      focus: false,\n\t\t      id: ++nextOpId,          // Unique ID\n\t\t      markArrays: null         // Used by addMarkedSpan\n\t\t    };\n\t\t    pushOperation(cm.curOp);\n\t\t  }\n\n\t\t  // Finish an operation, updating the display and signalling delayed events\n\t\t  function endOperation(cm) {\n\t\t    var op = cm.curOp;\n\t\t    if (op) { finishOperation(op, function (group) {\n\t\t      for (var i = 0; i < group.ops.length; i++)\n\t\t        { group.ops[i].cm.curOp = null; }\n\t\t      endOperations(group);\n\t\t    }); }\n\t\t  }\n\n\t\t  // The DOM updates done when an operation finishes are batched so\n\t\t  // that the minimum number of relayouts are required.\n\t\t  function endOperations(group) {\n\t\t    var ops = group.ops;\n\t\t    for (var i = 0; i < ops.length; i++) // Read DOM\n\t\t      { endOperation_R1(ops[i]); }\n\t\t    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n\t\t      { endOperation_W1(ops[i$1]); }\n\t\t    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n\t\t      { endOperation_R2(ops[i$2]); }\n\t\t    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n\t\t      { endOperation_W2(ops[i$3]); }\n\t\t    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n\t\t      { endOperation_finish(ops[i$4]); }\n\t\t  }\n\n\t\t  function endOperation_R1(op) {\n\t\t    var cm = op.cm, display = cm.display;\n\t\t    maybeClipScrollbars(cm);\n\t\t    if (op.updateMaxLine) { findMaxLine(cm); }\n\n\t\t    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null ||\n\t\t      op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom ||\n\t\t                         op.scrollToPos.to.line >= display.viewTo) ||\n\t\t      display.maxLineChanged && cm.options.lineWrapping;\n\t\t    op.update = op.mustUpdate &&\n\t\t      new DisplayUpdate(cm, op.mustUpdate && {top: op.scrollTop, ensure: op.scrollToPos}, op.forceUpdate);\n\t\t  }\n\n\t\t  function endOperation_W1(op) {\n\t\t    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n\t\t  }\n\n\t\t  function endOperation_R2(op) {\n\t\t    var cm = op.cm, display = cm.display;\n\t\t    if (op.updatedDisplay) { updateHeightsInViewport(cm); }\n\n\t\t    op.barMeasure = measureForScrollbars(cm);\n\n\t\t    // If the max line changed since it was last measured, measure it,\n\t\t    // and ensure the document's width matches it.\n\t\t    // updateDisplay_W2 will use these properties to do the actual resizing\n\t\t    if (display.maxLineChanged && !cm.options.lineWrapping) {\n\t\t      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n\t\t      cm.display.sizerWidth = op.adjustWidthTo;\n\t\t      op.barMeasure.scrollWidth =\n\t\t        Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n\t\t      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n\t\t    }\n\n\t\t    if (op.updatedDisplay || op.selectionChanged)\n\t\t      { op.preparedSelection = display.input.prepareSelection(); }\n\t\t  }\n\n\t\t  function endOperation_W2(op) {\n\t\t    var cm = op.cm;\n\n\t\t    if (op.adjustWidthTo != null) {\n\t\t      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\t\t      if (op.maxScrollLeft < cm.doc.scrollLeft)\n\t\t        { setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true); }\n\t\t      cm.display.maxLineChanged = false;\n\t\t    }\n\n\t\t    var takeFocus = op.focus && op.focus == activeElt(root(cm));\n\t\t    if (op.preparedSelection)\n\t\t      { cm.display.input.showSelection(op.preparedSelection, takeFocus); }\n\t\t    if (op.updatedDisplay || op.startHeight != cm.doc.height)\n\t\t      { updateScrollbars(cm, op.barMeasure); }\n\t\t    if (op.updatedDisplay)\n\t\t      { setDocumentHeight(cm, op.barMeasure); }\n\n\t\t    if (op.selectionChanged) { restartBlink(cm); }\n\n\t\t    if (cm.state.focused && op.updateInput)\n\t\t      { cm.display.input.reset(op.typing); }\n\t\t    if (takeFocus) { ensureFocus(op.cm); }\n\t\t  }\n\n\t\t  function endOperation_finish(op) {\n\t\t    var cm = op.cm, display = cm.display, doc = cm.doc;\n\n\t\t    if (op.updatedDisplay) { postUpdateDisplay(cm, op.update); }\n\n\t\t    // Abort mouse wheel delta measurement, when scrolling explicitly\n\t\t    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos))\n\t\t      { display.wheelStartX = display.wheelStartY = null; }\n\n\t\t    // Propagate the scroll position to the actual DOM scroller\n\t\t    if (op.scrollTop != null) { setScrollTop(cm, op.scrollTop, op.forceScroll); }\n\n\t\t    if (op.scrollLeft != null) { setScrollLeft(cm, op.scrollLeft, true, true); }\n\t\t    // If we need to scroll a specific position into view, do so.\n\t\t    if (op.scrollToPos) {\n\t\t      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from),\n\t\t                                   clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n\t\t      maybeScrollWindow(cm, rect);\n\t\t    }\n\n\t\t    // Fire events for markers that are hidden/unidden by editing or\n\t\t    // undoing\n\t\t    var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;\n\t\t    if (hidden) { for (var i = 0; i < hidden.length; ++i)\n\t\t      { if (!hidden[i].lines.length) { signal(hidden[i], \"hide\"); } } }\n\t\t    if (unhidden) { for (var i$1 = 0; i$1 < unhidden.length; ++i$1)\n\t\t      { if (unhidden[i$1].lines.length) { signal(unhidden[i$1], \"unhide\"); } } }\n\n\t\t    if (display.wrapper.offsetHeight)\n\t\t      { doc.scrollTop = cm.display.scroller.scrollTop; }\n\n\t\t    // Fire change events, and delayed event handlers\n\t\t    if (op.changeObjs)\n\t\t      { signal(cm, \"changes\", cm, op.changeObjs); }\n\t\t    if (op.update)\n\t\t      { op.update.finish(); }\n\t\t  }\n\n\t\t  // Run the given function in an operation\n\t\t  function runInOp(cm, f) {\n\t\t    if (cm.curOp) { return f() }\n\t\t    startOperation(cm);\n\t\t    try { return f() }\n\t\t    finally { endOperation(cm); }\n\t\t  }\n\t\t  // Wraps a function in an operation. Returns the wrapped function.\n\t\t  function operation(cm, f) {\n\t\t    return function() {\n\t\t      if (cm.curOp) { return f.apply(cm, arguments) }\n\t\t      startOperation(cm);\n\t\t      try { return f.apply(cm, arguments) }\n\t\t      finally { endOperation(cm); }\n\t\t    }\n\t\t  }\n\t\t  // Used to add methods to editor and doc instances, wrapping them in\n\t\t  // operations.\n\t\t  function methodOp(f) {\n\t\t    return function() {\n\t\t      if (this.curOp) { return f.apply(this, arguments) }\n\t\t      startOperation(this);\n\t\t      try { return f.apply(this, arguments) }\n\t\t      finally { endOperation(this); }\n\t\t    }\n\t\t  }\n\t\t  function docMethodOp(f) {\n\t\t    return function() {\n\t\t      var cm = this.cm;\n\t\t      if (!cm || cm.curOp) { return f.apply(this, arguments) }\n\t\t      startOperation(cm);\n\t\t      try { return f.apply(this, arguments) }\n\t\t      finally { endOperation(cm); }\n\t\t    }\n\t\t  }\n\n\t\t  // HIGHLIGHT WORKER\n\n\t\t  function startWorker(cm, time) {\n\t\t    if (cm.doc.highlightFrontier < cm.display.viewTo)\n\t\t      { cm.state.highlight.set(time, bind(highlightWorker, cm)); }\n\t\t  }\n\n\t\t  function highlightWorker(cm) {\n\t\t    var doc = cm.doc;\n\t\t    if (doc.highlightFrontier >= cm.display.viewTo) { return }\n\t\t    var end = +new Date + cm.options.workTime;\n\t\t    var context = getContextBefore(cm, doc.highlightFrontier);\n\t\t    var changedLines = [];\n\n\t\t    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n\t\t      if (context.line >= cm.display.viewFrom) { // Visible\n\t\t        var oldStyles = line.styles;\n\t\t        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n\t\t        var highlighted = highlightLine(cm, line, context, true);\n\t\t        if (resetState) { context.state = resetState; }\n\t\t        line.styles = highlighted.styles;\n\t\t        var oldCls = line.styleClasses, newCls = highlighted.classes;\n\t\t        if (newCls) { line.styleClasses = newCls; }\n\t\t        else if (oldCls) { line.styleClasses = null; }\n\t\t        var ischange = !oldStyles || oldStyles.length != line.styles.length ||\n\t\t          oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\t\t        for (var i = 0; !ischange && i < oldStyles.length; ++i) { ischange = oldStyles[i] != line.styles[i]; }\n\t\t        if (ischange) { changedLines.push(context.line); }\n\t\t        line.stateAfter = context.save();\n\t\t        context.nextLine();\n\t\t      } else {\n\t\t        if (line.text.length <= cm.options.maxHighlightLength)\n\t\t          { processLine(cm, line.text, context); }\n\t\t        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n\t\t        context.nextLine();\n\t\t      }\n\t\t      if (+new Date > end) {\n\t\t        startWorker(cm, cm.options.workDelay);\n\t\t        return true\n\t\t      }\n\t\t    });\n\t\t    doc.highlightFrontier = context.line;\n\t\t    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\t\t    if (changedLines.length) { runInOp(cm, function () {\n\t\t      for (var i = 0; i < changedLines.length; i++)\n\t\t        { regLineChange(cm, changedLines[i], \"text\"); }\n\t\t    }); }\n\t\t  }\n\n\t\t  // DISPLAY DRAWING\n\n\t\t  var DisplayUpdate = function(cm, viewport, force) {\n\t\t    var display = cm.display;\n\n\t\t    this.viewport = viewport;\n\t\t    // Store some values that we'll need later (but don't want to force a relayout for)\n\t\t    this.visible = visibleLines(display, cm.doc, viewport);\n\t\t    this.editorIsHidden = !display.wrapper.offsetWidth;\n\t\t    this.wrapperHeight = display.wrapper.clientHeight;\n\t\t    this.wrapperWidth = display.wrapper.clientWidth;\n\t\t    this.oldDisplayWidth = displayWidth(cm);\n\t\t    this.force = force;\n\t\t    this.dims = getDimensions(cm);\n\t\t    this.events = [];\n\t\t  };\n\n\t\t  DisplayUpdate.prototype.signal = function (emitter, type) {\n\t\t    if (hasHandler(emitter, type))\n\t\t      { this.events.push(arguments); }\n\t\t  };\n\t\t  DisplayUpdate.prototype.finish = function () {\n\t\t    for (var i = 0; i < this.events.length; i++)\n\t\t      { signal.apply(null, this.events[i]); }\n\t\t  };\n\n\t\t  function maybeClipScrollbars(cm) {\n\t\t    var display = cm.display;\n\t\t    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n\t\t      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n\t\t      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n\t\t      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n\t\t      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n\t\t      display.scrollbarsClipped = true;\n\t\t    }\n\t\t  }\n\n\t\t  function selectionSnapshot(cm) {\n\t\t    if (cm.hasFocus()) { return null }\n\t\t    var active = activeElt(root(cm));\n\t\t    if (!active || !contains(cm.display.lineDiv, active)) { return null }\n\t\t    var result = {activeElt: active};\n\t\t    if (window.getSelection) {\n\t\t      var sel = win(cm).getSelection();\n\t\t      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n\t\t        result.anchorNode = sel.anchorNode;\n\t\t        result.anchorOffset = sel.anchorOffset;\n\t\t        result.focusNode = sel.focusNode;\n\t\t        result.focusOffset = sel.focusOffset;\n\t\t      }\n\t\t    }\n\t\t    return result\n\t\t  }\n\n\t\t  function restoreSelection(snapshot) {\n\t\t    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt(rootNode(snapshot.activeElt))) { return }\n\t\t    snapshot.activeElt.focus();\n\t\t    if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) &&\n\t\t        snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n\t\t      var doc = snapshot.activeElt.ownerDocument;\n\t\t      var sel = doc.defaultView.getSelection(), range = doc.createRange();\n\t\t      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n\t\t      range.collapse(false);\n\t\t      sel.removeAllRanges();\n\t\t      sel.addRange(range);\n\t\t      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n\t\t    }\n\t\t  }\n\n\t\t  // Does the actual updating of the line display. Bails out\n\t\t  // (returning false) when there is nothing to be done and forced is\n\t\t  // false.\n\t\t  function updateDisplayIfNeeded(cm, update) {\n\t\t    var display = cm.display, doc = cm.doc;\n\n\t\t    if (update.editorIsHidden) {\n\t\t      resetView(cm);\n\t\t      return false\n\t\t    }\n\n\t\t    // Bail out if the visible area is already rendered and nothing changed.\n\t\t    if (!update.force &&\n\t\t        update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo &&\n\t\t        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) &&\n\t\t        display.renderedView == display.view && countDirtyView(cm) == 0)\n\t\t      { return false }\n\n\t\t    if (maybeUpdateLineNumberWidth(cm)) {\n\t\t      resetView(cm);\n\t\t      update.dims = getDimensions(cm);\n\t\t    }\n\n\t\t    // Compute a suitable new viewport (from & to)\n\t\t    var end = doc.first + doc.size;\n\t\t    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n\t\t    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\t\t    if (display.viewFrom < from && from - display.viewFrom < 20) { from = Math.max(doc.first, display.viewFrom); }\n\t\t    if (display.viewTo > to && display.viewTo - to < 20) { to = Math.min(end, display.viewTo); }\n\t\t    if (sawCollapsedSpans) {\n\t\t      from = visualLineNo(cm.doc, from);\n\t\t      to = visualLineEndNo(cm.doc, to);\n\t\t    }\n\n\t\t    var different = from != display.viewFrom || to != display.viewTo ||\n\t\t      display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n\t\t    adjustView(cm, from, to);\n\n\t\t    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));\n\t\t    // Position the mover div to align with the current scroll position\n\t\t    cm.display.mover.style.top = display.viewOffset + \"px\";\n\n\t\t    var toUpdate = countDirtyView(cm);\n\t\t    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view &&\n\t\t        (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo))\n\t\t      { return false }\n\n\t\t    // For big changes, we hide the enclosing element during the\n\t\t    // update, since that speeds up the operations on most browsers.\n\t\t    var selSnapshot = selectionSnapshot(cm);\n\t\t    if (toUpdate > 4) { display.lineDiv.style.display = \"none\"; }\n\t\t    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\t\t    if (toUpdate > 4) { display.lineDiv.style.display = \"\"; }\n\t\t    display.renderedView = display.view;\n\t\t    // There might have been a widget with a focused element that got\n\t\t    // hidden or updated, if so re-focus it.\n\t\t    restoreSelection(selSnapshot);\n\n\t\t    // Prevent selection and cursors from interfering with the scroll\n\t\t    // width and height.\n\t\t    removeChildren(display.cursorDiv);\n\t\t    removeChildren(display.selectionDiv);\n\t\t    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n\t\t    if (different) {\n\t\t      display.lastWrapHeight = update.wrapperHeight;\n\t\t      display.lastWrapWidth = update.wrapperWidth;\n\t\t      startWorker(cm, 400);\n\t\t    }\n\n\t\t    display.updateLineNumbers = null;\n\n\t\t    return true\n\t\t  }\n\n\t\t  function postUpdateDisplay(cm, update) {\n\t\t    var viewport = update.viewport;\n\n\t\t    for (var first = true;; first = false) {\n\t\t      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n\t\t        // Clip forced viewport to actual scrollable area.\n\t\t        if (viewport && viewport.top != null)\n\t\t          { viewport = {top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)}; }\n\t\t        // Updated line heights might result in the drawn area not\n\t\t        // actually covering the viewport. Keep looping until it does.\n\t\t        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\t\t        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo)\n\t\t          { break }\n\t\t      } else if (first) {\n\t\t        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\t\t      }\n\t\t      if (!updateDisplayIfNeeded(cm, update)) { break }\n\t\t      updateHeightsInViewport(cm);\n\t\t      var barMeasure = measureForScrollbars(cm);\n\t\t      updateSelection(cm);\n\t\t      updateScrollbars(cm, barMeasure);\n\t\t      setDocumentHeight(cm, barMeasure);\n\t\t      update.force = false;\n\t\t    }\n\n\t\t    update.signal(cm, \"update\", cm);\n\t\t    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n\t\t      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n\t\t      cm.display.reportedViewFrom = cm.display.viewFrom; cm.display.reportedViewTo = cm.display.viewTo;\n\t\t    }\n\t\t  }\n\n\t\t  function updateDisplaySimple(cm, viewport) {\n\t\t    var update = new DisplayUpdate(cm, viewport);\n\t\t    if (updateDisplayIfNeeded(cm, update)) {\n\t\t      updateHeightsInViewport(cm);\n\t\t      postUpdateDisplay(cm, update);\n\t\t      var barMeasure = measureForScrollbars(cm);\n\t\t      updateSelection(cm);\n\t\t      updateScrollbars(cm, barMeasure);\n\t\t      setDocumentHeight(cm, barMeasure);\n\t\t      update.finish();\n\t\t    }\n\t\t  }\n\n\t\t  // Sync the actual display DOM structure with display.view, removing\n\t\t  // nodes for lines that are no longer in view, and creating the ones\n\t\t  // that are not there yet, and updating the ones that are out of\n\t\t  // date.\n\t\t  function patchDisplay(cm, updateNumbersFrom, dims) {\n\t\t    var display = cm.display, lineNumbers = cm.options.lineNumbers;\n\t\t    var container = display.lineDiv, cur = container.firstChild;\n\n\t\t    function rm(node) {\n\t\t      var next = node.nextSibling;\n\t\t      // Works around a throw-scroll bug in OS X Webkit\n\t\t      if (webkit && mac && cm.display.currentWheelTarget == node)\n\t\t        { node.style.display = \"none\"; }\n\t\t      else\n\t\t        { node.parentNode.removeChild(node); }\n\t\t      return next\n\t\t    }\n\n\t\t    var view = display.view, lineN = display.viewFrom;\n\t\t    // Loop over the elements in the view, syncing cur (the DOM nodes\n\t\t    // in display.lineDiv) with the view as we go.\n\t\t    for (var i = 0; i < view.length; i++) {\n\t\t      var lineView = view[i];\n\t\t      if (lineView.hidden) ; else if (!lineView.node || lineView.node.parentNode != container) { // Not drawn yet\n\t\t        var node = buildLineElement(cm, lineView, lineN, dims);\n\t\t        container.insertBefore(node, cur);\n\t\t      } else { // Already drawn\n\t\t        while (cur != lineView.node) { cur = rm(cur); }\n\t\t        var updateNumber = lineNumbers && updateNumbersFrom != null &&\n\t\t          updateNumbersFrom <= lineN && lineView.lineNumber;\n\t\t        if (lineView.changes) {\n\t\t          if (indexOf(lineView.changes, \"gutter\") > -1) { updateNumber = false; }\n\t\t          updateLineForChanges(cm, lineView, lineN, dims);\n\t\t        }\n\t\t        if (updateNumber) {\n\t\t          removeChildren(lineView.lineNumber);\n\t\t          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n\t\t        }\n\t\t        cur = lineView.node.nextSibling;\n\t\t      }\n\t\t      lineN += lineView.size;\n\t\t    }\n\t\t    while (cur) { cur = rm(cur); }\n\t\t  }\n\n\t\t  function updateGutterSpace(display) {\n\t\t    var width = display.gutters.offsetWidth;\n\t\t    display.sizer.style.marginLeft = width + \"px\";\n\t\t    // Send an event to consumers responding to changes in gutter width.\n\t\t    signalLater(display, \"gutterChanged\", display);\n\t\t  }\n\n\t\t  function setDocumentHeight(cm, measure) {\n\t\t    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n\t\t    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n\t\t    cm.display.gutters.style.height = (measure.docHeight + cm.display.barHeight + scrollGap(cm)) + \"px\";\n\t\t  }\n\n\t\t  // Re-align line numbers and gutter marks to compensate for\n\t\t  // horizontal scrolling.\n\t\t  function alignHorizontally(cm) {\n\t\t    var display = cm.display, view = display.view;\n\t\t    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) { return }\n\t\t    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n\t\t    var gutterW = display.gutters.offsetWidth, left = comp + \"px\";\n\t\t    for (var i = 0; i < view.length; i++) { if (!view[i].hidden) {\n\t\t      if (cm.options.fixedGutter) {\n\t\t        if (view[i].gutter)\n\t\t          { view[i].gutter.style.left = left; }\n\t\t        if (view[i].gutterBackground)\n\t\t          { view[i].gutterBackground.style.left = left; }\n\t\t      }\n\t\t      var align = view[i].alignable;\n\t\t      if (align) { for (var j = 0; j < align.length; j++)\n\t\t        { align[j].style.left = left; } }\n\t\t    } }\n\t\t    if (cm.options.fixedGutter)\n\t\t      { display.gutters.style.left = (comp + gutterW) + \"px\"; }\n\t\t  }\n\n\t\t  // Used to ensure that the line number gutter is still the right\n\t\t  // size for the current document size. Returns true when an update\n\t\t  // is needed.\n\t\t  function maybeUpdateLineNumberWidth(cm) {\n\t\t    if (!cm.options.lineNumbers) { return false }\n\t\t    var doc = cm.doc, last = lineNumberFor(cm.options, doc.first + doc.size - 1), display = cm.display;\n\t\t    if (last.length != display.lineNumChars) {\n\t\t      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)],\n\t\t                                                 \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n\t\t      var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;\n\t\t      display.lineGutter.style.width = \"\";\n\t\t      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n\t\t      display.lineNumWidth = display.lineNumInnerWidth + padding;\n\t\t      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n\t\t      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n\t\t      updateGutterSpace(cm.display);\n\t\t      return true\n\t\t    }\n\t\t    return false\n\t\t  }\n\n\t\t  function getGutters(gutters, lineNumbers) {\n\t\t    var result = [], sawLineNumbers = false;\n\t\t    for (var i = 0; i < gutters.length; i++) {\n\t\t      var name = gutters[i], style = null;\n\t\t      if (typeof name != \"string\") { style = name.style; name = name.className; }\n\t\t      if (name == \"CodeMirror-linenumbers\") {\n\t\t        if (!lineNumbers) { continue }\n\t\t        else { sawLineNumbers = true; }\n\t\t      }\n\t\t      result.push({className: name, style: style});\n\t\t    }\n\t\t    if (lineNumbers && !sawLineNumbers) { result.push({className: \"CodeMirror-linenumbers\", style: null}); }\n\t\t    return result\n\t\t  }\n\n\t\t  // Rebuild the gutter elements, ensure the margin to the left of the\n\t\t  // code matches their width.\n\t\t  function renderGutters(display) {\n\t\t    var gutters = display.gutters, specs = display.gutterSpecs;\n\t\t    removeChildren(gutters);\n\t\t    display.lineGutter = null;\n\t\t    for (var i = 0; i < specs.length; ++i) {\n\t\t      var ref = specs[i];\n\t\t      var className = ref.className;\n\t\t      var style = ref.style;\n\t\t      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\t\t      if (style) { gElt.style.cssText = style; }\n\t\t      if (className == \"CodeMirror-linenumbers\") {\n\t\t        display.lineGutter = gElt;\n\t\t        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n\t\t      }\n\t\t    }\n\t\t    gutters.style.display = specs.length ? \"\" : \"none\";\n\t\t    updateGutterSpace(display);\n\t\t  }\n\n\t\t  function updateGutters(cm) {\n\t\t    renderGutters(cm.display);\n\t\t    regChange(cm);\n\t\t    alignHorizontally(cm);\n\t\t  }\n\n\t\t  // The display handles the DOM integration, both for input reading\n\t\t  // and content drawing. It holds references to DOM nodes and\n\t\t  // display-related state.\n\n\t\t  function Display(place, doc, input, options) {\n\t\t    var d = this;\n\t\t    this.input = input;\n\n\t\t    // Covers bottom-right square when both scrollbars are present.\n\t\t    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n\t\t    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\");\n\t\t    // Covers bottom of gutter when coverGutterNextToScrollbar is on\n\t\t    // and h scrollbar is present.\n\t\t    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n\t\t    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\");\n\t\t    // Will contain the actual code, positioned to cover the viewport.\n\t\t    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\");\n\t\t    // Elements are added to these to represent selection and cursors.\n\t\t    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n\t\t    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\");\n\t\t    // A visibility: hidden element used to find the size of things.\n\t\t    d.measure = elt(\"div\", null, \"CodeMirror-measure\");\n\t\t    // When lines outside of the viewport are measured, they are drawn in this.\n\t\t    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\");\n\t\t    // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\t\t    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],\n\t\t                      null, \"position: relative; outline: none\");\n\t\t    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\");\n\t\t    // Moved around its parent to cover visible view.\n\t\t    d.mover = elt(\"div\", [lines], null, \"position: relative\");\n\t\t    // Set to the height of the document, allowing scrolling.\n\t\t    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n\t\t    d.sizerWidth = null;\n\t\t    // Behavior of elts with overflow: auto and padding is\n\t\t    // inconsistent across browsers. This is used to ensure the\n\t\t    // scrollable area is big enough.\n\t\t    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\");\n\t\t    // Will contain the gutters, if any.\n\t\t    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n\t\t    d.lineGutter = null;\n\t\t    // Actual scrollable element.\n\t\t    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n\t\t    d.scroller.setAttribute(\"tabIndex\", \"-1\");\n\t\t    // The element in which the editor lives.\n\t\t    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\");\n\t\t    // See #6982. FIXME remove when this has been fixed for a while in Chrome\n\t\t    if (chrome && chrome_version >= 105) { d.wrapper.style.clipPath = \"inset(0px)\"; }\n\n\t\t    // This attribute is respected by automatic translation systems such as Google Translate,\n\t\t    // and may also be respected by tools used by human translators.\n\t\t    d.wrapper.setAttribute('translate', 'no');\n\n\t\t    // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\t\t    if (ie && ie_version < 8) { d.gutters.style.zIndex = -1; d.scroller.style.paddingRight = 0; }\n\t\t    if (!webkit && !(gecko && mobile)) { d.scroller.draggable = true; }\n\n\t\t    if (place) {\n\t\t      if (place.appendChild) { place.appendChild(d.wrapper); }\n\t\t      else { place(d.wrapper); }\n\t\t    }\n\n\t\t    // Current rendered range (may be bigger than the view window).\n\t\t    d.viewFrom = d.viewTo = doc.first;\n\t\t    d.reportedViewFrom = d.reportedViewTo = doc.first;\n\t\t    // Information about the rendered lines.\n\t\t    d.view = [];\n\t\t    d.renderedView = null;\n\t\t    // Holds info about a single rendered line when it was rendered\n\t\t    // for measurement, while not in view.\n\t\t    d.externalMeasured = null;\n\t\t    // Empty space (in pixels) above the view\n\t\t    d.viewOffset = 0;\n\t\t    d.lastWrapHeight = d.lastWrapWidth = 0;\n\t\t    d.updateLineNumbers = null;\n\n\t\t    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n\t\t    d.scrollbarsClipped = false;\n\n\t\t    // Used to only resize the line number gutter when necessary (when\n\t\t    // the amount of lines crosses a boundary that makes its width change)\n\t\t    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;\n\t\t    // Set to true when a non-horizontal-scrolling line widget is\n\t\t    // added. As an optimization, line widget aligning is skipped when\n\t\t    // this is false.\n\t\t    d.alignWidgets = false;\n\n\t\t    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\n\t\t    // Tracks the maximum line length so that the horizontal scrollbar\n\t\t    // can be kept static when scrolling.\n\t\t    d.maxLine = null;\n\t\t    d.maxLineLength = 0;\n\t\t    d.maxLineChanged = false;\n\n\t\t    // Used for measuring wheel scrolling granularity\n\t\t    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;\n\n\t\t    // True when shift is held down.\n\t\t    d.shift = false;\n\n\t\t    // Used to track whether anything happened since the context menu\n\t\t    // was opened.\n\t\t    d.selForContextMenu = null;\n\n\t\t    d.activeTouch = null;\n\n\t\t    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n\t\t    renderGutters(d);\n\n\t\t    input.init(d);\n\t\t  }\n\n\t\t  // Since the delta values reported on mouse wheel events are\n\t\t  // unstandardized between browsers and even browser versions, and\n\t\t  // generally horribly unpredictable, this code starts by measuring\n\t\t  // the scroll effect that the first few mouse wheel events have,\n\t\t  // and, from that, detects the way it can convert deltas to pixel\n\t\t  // offsets afterwards.\n\t\t  //\n\t\t  // The reason we want to know the amount a wheel event will scroll\n\t\t  // is that it gives us a chance to update the display before the\n\t\t  // actual scrolling happens, reducing flickering.\n\n\t\t  var wheelSamples = 0, wheelPixelsPerUnit = null;\n\t\t  // Fill in a browser-detected starting value on browsers where we\n\t\t  // know one. These don't have to be accurate -- the result of them\n\t\t  // being wrong would just be a slight flicker on the first wheel\n\t\t  // scroll (if it is large enough).\n\t\t  if (ie) { wheelPixelsPerUnit = -0.53; }\n\t\t  else if (gecko) { wheelPixelsPerUnit = 15; }\n\t\t  else if (chrome) { wheelPixelsPerUnit = -0.7; }\n\t\t  else if (safari) { wheelPixelsPerUnit = -1/3; }\n\n\t\t  function wheelEventDelta(e) {\n\t\t    var dx = e.wheelDeltaX, dy = e.wheelDeltaY;\n\t\t    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) { dx = e.detail; }\n\t\t    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) { dy = e.detail; }\n\t\t    else if (dy == null) { dy = e.wheelDelta; }\n\t\t    return {x: dx, y: dy}\n\t\t  }\n\t\t  function wheelEventPixels(e) {\n\t\t    var delta = wheelEventDelta(e);\n\t\t    delta.x *= wheelPixelsPerUnit;\n\t\t    delta.y *= wheelPixelsPerUnit;\n\t\t    return delta\n\t\t  }\n\n\t\t  function onScrollWheel(cm, e) {\n\t\t    // On Chrome 102, viewport updates somehow stop wheel-based\n\t\t    // scrolling. Turning off pointer events during the scroll seems\n\t\t    // to avoid the issue.\n\t\t    if (chrome && chrome_version == 102) {\n\t\t      if (cm.display.chromeScrollHack == null) { cm.display.sizer.style.pointerEvents = \"none\"; }\n\t\t      else { clearTimeout(cm.display.chromeScrollHack); }\n\t\t      cm.display.chromeScrollHack = setTimeout(function () {\n\t\t        cm.display.chromeScrollHack = null;\n\t\t        cm.display.sizer.style.pointerEvents = \"\";\n\t\t      }, 100);\n\t\t    }\n\t\t    var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;\n\t\t    var pixelsPerUnit = wheelPixelsPerUnit;\n\t\t    if (e.deltaMode === 0) {\n\t\t      dx = e.deltaX;\n\t\t      dy = e.deltaY;\n\t\t      pixelsPerUnit = 1;\n\t\t    }\n\n\t\t    var display = cm.display, scroll = display.scroller;\n\t\t    // Quit if there's nothing to scroll here\n\t\t    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n\t\t    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\t\t    if (!(dx && canScrollX || dy && canScrollY)) { return }\n\n\t\t    // Webkit browsers on OS X abort momentum scrolls when the target\n\t\t    // of the scroll event is removed from the scrollable element.\n\t\t    // This hack (see related code in patchDisplay) makes sure the\n\t\t    // element is kept around.\n\t\t    if (dy && mac && webkit) {\n\t\t      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n\t\t        for (var i = 0; i < view.length; i++) {\n\t\t          if (view[i].node == cur) {\n\t\t            cm.display.currentWheelTarget = cur;\n\t\t            break outer\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t    }\n\n\t\t    // On some browsers, horizontal scrolling will cause redraws to\n\t\t    // happen before the gutter has been realigned, causing it to\n\t\t    // wriggle around in a most unseemly way. When we have an\n\t\t    // estimated pixels/delta value, we just handle horizontal\n\t\t    // scrolling entirely here. It'll be slightly off from native, but\n\t\t    // better than glitching out.\n\t\t    if (dx && !gecko && !presto && pixelsPerUnit != null) {\n\t\t      if (dy && canScrollY)\n\t\t        { updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit)); }\n\t\t      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));\n\t\t      // Only prevent default scrolling if vertical scrolling is\n\t\t      // actually possible. Otherwise, it causes vertical scroll\n\t\t      // jitter on OSX trackpads when deltaX is small and deltaY\n\t\t      // is large (issue #3579)\n\t\t      if (!dy || (dy && canScrollY))\n\t\t        { e_preventDefault(e); }\n\t\t      display.wheelStartX = null; // Abort measurement, if in progress\n\t\t      return\n\t\t    }\n\n\t\t    // 'Project' the visible viewport to cover the area that is being\n\t\t    // scrolled into view (if we know enough to estimate it).\n\t\t    if (dy && pixelsPerUnit != null) {\n\t\t      var pixels = dy * pixelsPerUnit;\n\t\t      var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;\n\t\t      if (pixels < 0) { top = Math.max(0, top + pixels - 50); }\n\t\t      else { bot = Math.min(cm.doc.height, bot + pixels + 50); }\n\t\t      updateDisplaySimple(cm, {top: top, bottom: bot});\n\t\t    }\n\n\t\t    if (wheelSamples < 20 && e.deltaMode !== 0) {\n\t\t      if (display.wheelStartX == null) {\n\t\t        display.wheelStartX = scroll.scrollLeft; display.wheelStartY = scroll.scrollTop;\n\t\t        display.wheelDX = dx; display.wheelDY = dy;\n\t\t        setTimeout(function () {\n\t\t          if (display.wheelStartX == null) { return }\n\t\t          var movedX = scroll.scrollLeft - display.wheelStartX;\n\t\t          var movedY = scroll.scrollTop - display.wheelStartY;\n\t\t          var sample = (movedY && display.wheelDY && movedY / display.wheelDY) ||\n\t\t            (movedX && display.wheelDX && movedX / display.wheelDX);\n\t\t          display.wheelStartX = display.wheelStartY = null;\n\t\t          if (!sample) { return }\n\t\t          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n\t\t          ++wheelSamples;\n\t\t        }, 200);\n\t\t      } else {\n\t\t        display.wheelDX += dx; display.wheelDY += dy;\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  // Selection objects are immutable. A new one is created every time\n\t\t  // the selection changes. A selection is one or more non-overlapping\n\t\t  // (and non-touching) ranges, sorted, and an integer that indicates\n\t\t  // which one is the primary selection (the one that's scrolled into\n\t\t  // view, that getCursor returns, etc).\n\t\t  var Selection = function(ranges, primIndex) {\n\t\t    this.ranges = ranges;\n\t\t    this.primIndex = primIndex;\n\t\t  };\n\n\t\t  Selection.prototype.primary = function () { return this.ranges[this.primIndex] };\n\n\t\t  Selection.prototype.equals = function (other) {\n\t\t    if (other == this) { return true }\n\t\t    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) { return false }\n\t\t    for (var i = 0; i < this.ranges.length; i++) {\n\t\t      var here = this.ranges[i], there = other.ranges[i];\n\t\t      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) { return false }\n\t\t    }\n\t\t    return true\n\t\t  };\n\n\t\t  Selection.prototype.deepCopy = function () {\n\t\t    var out = [];\n\t\t    for (var i = 0; i < this.ranges.length; i++)\n\t\t      { out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head)); }\n\t\t    return new Selection(out, this.primIndex)\n\t\t  };\n\n\t\t  Selection.prototype.somethingSelected = function () {\n\t\t    for (var i = 0; i < this.ranges.length; i++)\n\t\t      { if (!this.ranges[i].empty()) { return true } }\n\t\t    return false\n\t\t  };\n\n\t\t  Selection.prototype.contains = function (pos, end) {\n\t\t    if (!end) { end = pos; }\n\t\t    for (var i = 0; i < this.ranges.length; i++) {\n\t\t      var range = this.ranges[i];\n\t\t      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0)\n\t\t        { return i }\n\t\t    }\n\t\t    return -1\n\t\t  };\n\n\t\t  var Range = function(anchor, head) {\n\t\t    this.anchor = anchor; this.head = head;\n\t\t  };\n\n\t\t  Range.prototype.from = function () { return minPos(this.anchor, this.head) };\n\t\t  Range.prototype.to = function () { return maxPos(this.anchor, this.head) };\n\t\t  Range.prototype.empty = function () { return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch };\n\n\t\t  // Take an unsorted, potentially overlapping set of ranges, and\n\t\t  // build a selection out of it. 'Consumes' ranges array (modifying\n\t\t  // it).\n\t\t  function normalizeSelection(cm, ranges, primIndex) {\n\t\t    var mayTouch = cm && cm.options.selectionsMayTouch;\n\t\t    var prim = ranges[primIndex];\n\t\t    ranges.sort(function (a, b) { return cmp(a.from(), b.from()); });\n\t\t    primIndex = indexOf(ranges, prim);\n\t\t    for (var i = 1; i < ranges.length; i++) {\n\t\t      var cur = ranges[i], prev = ranges[i - 1];\n\t\t      var diff = cmp(prev.to(), cur.from());\n\t\t      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n\t\t        var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());\n\t\t        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\t\t        if (i <= primIndex) { --primIndex; }\n\t\t        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n\t\t      }\n\t\t    }\n\t\t    return new Selection(ranges, primIndex)\n\t\t  }\n\n\t\t  function simpleSelection(anchor, head) {\n\t\t    return new Selection([new Range(anchor, head || anchor)], 0)\n\t\t  }\n\n\t\t  // Compute the position of the end of a change (its 'to' property\n\t\t  // refers to the pre-change end).\n\t\t  function changeEnd(change) {\n\t\t    if (!change.text) { return change.to }\n\t\t    return Pos(change.from.line + change.text.length - 1,\n\t\t               lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0))\n\t\t  }\n\n\t\t  // Adjust a position to refer to the post-change position of the\n\t\t  // same text, or the end of the change if the change covers it.\n\t\t  function adjustForChange(pos, change) {\n\t\t    if (cmp(pos, change.from) < 0) { return pos }\n\t\t    if (cmp(pos, change.to) <= 0) { return changeEnd(change) }\n\n\t\t    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;\n\t\t    if (pos.line == change.to.line) { ch += changeEnd(change).ch - change.to.ch; }\n\t\t    return Pos(line, ch)\n\t\t  }\n\n\t\t  function computeSelAfterChange(doc, change) {\n\t\t    var out = [];\n\t\t    for (var i = 0; i < doc.sel.ranges.length; i++) {\n\t\t      var range = doc.sel.ranges[i];\n\t\t      out.push(new Range(adjustForChange(range.anchor, change),\n\t\t                         adjustForChange(range.head, change)));\n\t\t    }\n\t\t    return normalizeSelection(doc.cm, out, doc.sel.primIndex)\n\t\t  }\n\n\t\t  function offsetPos(pos, old, nw) {\n\t\t    if (pos.line == old.line)\n\t\t      { return Pos(nw.line, pos.ch - old.ch + nw.ch) }\n\t\t    else\n\t\t      { return Pos(nw.line + (pos.line - old.line), pos.ch) }\n\t\t  }\n\n\t\t  // Used by replaceSelections to allow moving the selection to the\n\t\t  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\t\t  function computeReplacedSel(doc, changes, hint) {\n\t\t    var out = [];\n\t\t    var oldPrev = Pos(doc.first, 0), newPrev = oldPrev;\n\t\t    for (var i = 0; i < changes.length; i++) {\n\t\t      var change = changes[i];\n\t\t      var from = offsetPos(change.from, oldPrev, newPrev);\n\t\t      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n\t\t      oldPrev = change.to;\n\t\t      newPrev = to;\n\t\t      if (hint == \"around\") {\n\t\t        var range = doc.sel.ranges[i], inv = cmp(range.head, range.anchor) < 0;\n\t\t        out[i] = new Range(inv ? to : from, inv ? from : to);\n\t\t      } else {\n\t\t        out[i] = new Range(from, from);\n\t\t      }\n\t\t    }\n\t\t    return new Selection(out, doc.sel.primIndex)\n\t\t  }\n\n\t\t  // Used to get the editor into a consistent state again when options change.\n\n\t\t  function loadMode(cm) {\n\t\t    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n\t\t    resetModeState(cm);\n\t\t  }\n\n\t\t  function resetModeState(cm) {\n\t\t    cm.doc.iter(function (line) {\n\t\t      if (line.stateAfter) { line.stateAfter = null; }\n\t\t      if (line.styles) { line.styles = null; }\n\t\t    });\n\t\t    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n\t\t    startWorker(cm, 100);\n\t\t    cm.state.modeGen++;\n\t\t    if (cm.curOp) { regChange(cm); }\n\t\t  }\n\n\t\t  // DOCUMENT DATA STRUCTURE\n\n\t\t  // By default, updates that start and end at the beginning of a line\n\t\t  // are treated specially, in order to make the association of line\n\t\t  // widgets and marker elements with the text behave more intuitive.\n\t\t  function isWholeLineUpdate(doc, change) {\n\t\t    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" &&\n\t\t      (!doc.cm || doc.cm.options.wholeLineUpdateBefore)\n\t\t  }\n\n\t\t  // Perform a change on the document data structure.\n\t\t  function updateDoc(doc, change, markedSpans, estimateHeight) {\n\t\t    function spansFor(n) {return markedSpans ? markedSpans[n] : null}\n\t\t    function update(line, text, spans) {\n\t\t      updateLine(line, text, spans, estimateHeight);\n\t\t      signalLater(line, \"change\", line, change);\n\t\t    }\n\t\t    function linesFor(start, end) {\n\t\t      var result = [];\n\t\t      for (var i = start; i < end; ++i)\n\t\t        { result.push(new Line(text[i], spansFor(i), estimateHeight)); }\n\t\t      return result\n\t\t    }\n\n\t\t    var from = change.from, to = change.to, text = change.text;\n\t\t    var firstLine = getLine(doc, from.line), lastLine = getLine(doc, to.line);\n\t\t    var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;\n\n\t\t    // Adjust the line structure\n\t\t    if (change.full) {\n\t\t      doc.insert(0, linesFor(0, text.length));\n\t\t      doc.remove(text.length, doc.size - text.length);\n\t\t    } else if (isWholeLineUpdate(doc, change)) {\n\t\t      // This is a whole-line replace. Treated specially to make\n\t\t      // sure line objects move the way they are supposed to.\n\t\t      var added = linesFor(0, text.length - 1);\n\t\t      update(lastLine, lastLine.text, lastSpans);\n\t\t      if (nlines) { doc.remove(from.line, nlines); }\n\t\t      if (added.length) { doc.insert(from.line, added); }\n\t\t    } else if (firstLine == lastLine) {\n\t\t      if (text.length == 1) {\n\t\t        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n\t\t      } else {\n\t\t        var added$1 = linesFor(1, text.length - 1);\n\t\t        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n\t\t        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n\t\t        doc.insert(from.line + 1, added$1);\n\t\t      }\n\t\t    } else if (text.length == 1) {\n\t\t      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n\t\t      doc.remove(from.line + 1, nlines);\n\t\t    } else {\n\t\t      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n\t\t      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n\t\t      var added$2 = linesFor(1, text.length - 1);\n\t\t      if (nlines > 1) { doc.remove(from.line + 1, nlines - 1); }\n\t\t      doc.insert(from.line + 1, added$2);\n\t\t    }\n\n\t\t    signalLater(doc, \"change\", doc, change);\n\t\t  }\n\n\t\t  // Call f for all linked documents.\n\t\t  function linkedDocs(doc, f, sharedHistOnly) {\n\t\t    function propagate(doc, skip, sharedHist) {\n\t\t      if (doc.linked) { for (var i = 0; i < doc.linked.length; ++i) {\n\t\t        var rel = doc.linked[i];\n\t\t        if (rel.doc == skip) { continue }\n\t\t        var shared = sharedHist && rel.sharedHist;\n\t\t        if (sharedHistOnly && !shared) { continue }\n\t\t        f(rel.doc, shared);\n\t\t        propagate(rel.doc, doc, shared);\n\t\t      } }\n\t\t    }\n\t\t    propagate(doc, null, true);\n\t\t  }\n\n\t\t  // Attach a document to an editor.\n\t\t  function attachDoc(cm, doc) {\n\t\t    if (doc.cm) { throw new Error(\"This document is already in use.\") }\n\t\t    cm.doc = doc;\n\t\t    doc.cm = cm;\n\t\t    estimateLineHeights(cm);\n\t\t    loadMode(cm);\n\t\t    setDirectionClass(cm);\n\t\t    cm.options.direction = doc.direction;\n\t\t    if (!cm.options.lineWrapping) { findMaxLine(cm); }\n\t\t    cm.options.mode = doc.modeOption;\n\t\t    regChange(cm);\n\t\t  }\n\n\t\t  function setDirectionClass(cm) {\n\t\t  (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n\t\t  }\n\n\t\t  function directionChanged(cm) {\n\t\t    runInOp(cm, function () {\n\t\t      setDirectionClass(cm);\n\t\t      regChange(cm);\n\t\t    });\n\t\t  }\n\n\t\t  function History(prev) {\n\t\t    // Arrays of change events and selections. Doing something adds an\n\t\t    // event to done and clears undo. Undoing moves events from done\n\t\t    // to undone, redoing moves them in the other direction.\n\t\t    this.done = []; this.undone = [];\n\t\t    this.undoDepth = prev ? prev.undoDepth : Infinity;\n\t\t    // Used to track when changes can be merged into a single undo\n\t\t    // event\n\t\t    this.lastModTime = this.lastSelTime = 0;\n\t\t    this.lastOp = this.lastSelOp = null;\n\t\t    this.lastOrigin = this.lastSelOrigin = null;\n\t\t    // Used by the isClean() method\n\t\t    this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;\n\t\t  }\n\n\t\t  // Create a history change event from an updateDoc-style change\n\t\t  // object.\n\t\t  function historyChangeFromChange(doc, change) {\n\t\t    var histChange = {from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc, change.from, change.to)};\n\t\t    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n\t\t    linkedDocs(doc, function (doc) { return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1); }, true);\n\t\t    return histChange\n\t\t  }\n\n\t\t  // Pop all selection events off the end of a history array. Stop at\n\t\t  // a change event.\n\t\t  function clearSelectionEvents(array) {\n\t\t    while (array.length) {\n\t\t      var last = lst(array);\n\t\t      if (last.ranges) { array.pop(); }\n\t\t      else { break }\n\t\t    }\n\t\t  }\n\n\t\t  // Find the top change event in the history. Pop off selection\n\t\t  // events that are in the way.\n\t\t  function lastChangeEvent(hist, force) {\n\t\t    if (force) {\n\t\t      clearSelectionEvents(hist.done);\n\t\t      return lst(hist.done)\n\t\t    } else if (hist.done.length && !lst(hist.done).ranges) {\n\t\t      return lst(hist.done)\n\t\t    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n\t\t      hist.done.pop();\n\t\t      return lst(hist.done)\n\t\t    }\n\t\t  }\n\n\t\t  // Register a change in the history. Merges changes that are within\n\t\t  // a single operation, or are close together with an origin that\n\t\t  // allows merging (starting with \"+\") into a single event.\n\t\t  function addChangeToHistory(doc, change, selAfter, opId) {\n\t\t    var hist = doc.history;\n\t\t    hist.undone.length = 0;\n\t\t    var time = +new Date, cur;\n\t\t    var last;\n\n\t\t    if ((hist.lastOp == opId ||\n\t\t         hist.lastOrigin == change.origin && change.origin &&\n\t\t         ((change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500)) ||\n\t\t          change.origin.charAt(0) == \"*\")) &&\n\t\t        (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n\t\t      // Merge this change into the last event\n\t\t      last = lst(cur.changes);\n\t\t      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n\t\t        // Optimized case for simple insertion -- don't want to add\n\t\t        // new changesets for every character typed\n\t\t        last.to = changeEnd(change);\n\t\t      } else {\n\t\t        // Add new sub-event\n\t\t        cur.changes.push(historyChangeFromChange(doc, change));\n\t\t      }\n\t\t    } else {\n\t\t      // Can not be merged, start a new event.\n\t\t      var before = lst(hist.done);\n\t\t      if (!before || !before.ranges)\n\t\t        { pushSelectionToHistory(doc.sel, hist.done); }\n\t\t      cur = {changes: [historyChangeFromChange(doc, change)],\n\t\t             generation: hist.generation};\n\t\t      hist.done.push(cur);\n\t\t      while (hist.done.length > hist.undoDepth) {\n\t\t        hist.done.shift();\n\t\t        if (!hist.done[0].ranges) { hist.done.shift(); }\n\t\t      }\n\t\t    }\n\t\t    hist.done.push(selAfter);\n\t\t    hist.generation = ++hist.maxGeneration;\n\t\t    hist.lastModTime = hist.lastSelTime = time;\n\t\t    hist.lastOp = hist.lastSelOp = opId;\n\t\t    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n\t\t    if (!last) { signal(doc, \"historyAdded\"); }\n\t\t  }\n\n\t\t  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n\t\t    var ch = origin.charAt(0);\n\t\t    return ch == \"*\" ||\n\t\t      ch == \"+\" &&\n\t\t      prev.ranges.length == sel.ranges.length &&\n\t\t      prev.somethingSelected() == sel.somethingSelected() &&\n\t\t      new Date - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500)\n\t\t  }\n\n\t\t  // Called whenever the selection changes, sets the new selection as\n\t\t  // the pending selection in the history, and pushes the old pending\n\t\t  // selection into the 'done' array when it was significantly\n\t\t  // different (in number of selected ranges, emptiness, or time).\n\t\t  function addSelectionToHistory(doc, sel, opId, options) {\n\t\t    var hist = doc.history, origin = options && options.origin;\n\n\t\t    // A new event is started when the previous origin does not match\n\t\t    // the current, or the origins don't allow matching. Origins\n\t\t    // starting with * are always merged, those starting with + are\n\t\t    // merged when similar and close together in time.\n\t\t    if (opId == hist.lastSelOp ||\n\t\t        (origin && hist.lastSelOrigin == origin &&\n\t\t         (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin ||\n\t\t          selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))))\n\t\t      { hist.done[hist.done.length - 1] = sel; }\n\t\t    else\n\t\t      { pushSelectionToHistory(sel, hist.done); }\n\n\t\t    hist.lastSelTime = +new Date;\n\t\t    hist.lastSelOrigin = origin;\n\t\t    hist.lastSelOp = opId;\n\t\t    if (options && options.clearRedo !== false)\n\t\t      { clearSelectionEvents(hist.undone); }\n\t\t  }\n\n\t\t  function pushSelectionToHistory(sel, dest) {\n\t\t    var top = lst(dest);\n\t\t    if (!(top && top.ranges && top.equals(sel)))\n\t\t      { dest.push(sel); }\n\t\t  }\n\n\t\t  // Used to store marked span information in the history.\n\t\t  function attachLocalSpans(doc, change, from, to) {\n\t\t    var existing = change[\"spans_\" + doc.id], n = 0;\n\t\t    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n\t\t      if (line.markedSpans)\n\t\t        { (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans; }\n\t\t      ++n;\n\t\t    });\n\t\t  }\n\n\t\t  // When un/re-doing restores text containing marked spans, those\n\t\t  // that have been explicitly cleared should not be restored.\n\t\t  function removeClearedSpans(spans) {\n\t\t    if (!spans) { return null }\n\t\t    var out;\n\t\t    for (var i = 0; i < spans.length; ++i) {\n\t\t      if (spans[i].marker.explicitlyCleared) { if (!out) { out = spans.slice(0, i); } }\n\t\t      else if (out) { out.push(spans[i]); }\n\t\t    }\n\t\t    return !out ? spans : out.length ? out : null\n\t\t  }\n\n\t\t  // Retrieve and filter the old marked spans stored in a change event.\n\t\t  function getOldSpans(doc, change) {\n\t\t    var found = change[\"spans_\" + doc.id];\n\t\t    if (!found) { return null }\n\t\t    var nw = [];\n\t\t    for (var i = 0; i < change.text.length; ++i)\n\t\t      { nw.push(removeClearedSpans(found[i])); }\n\t\t    return nw\n\t\t  }\n\n\t\t  // Used for un/re-doing changes from the history. Combines the\n\t\t  // result of computing the existing spans with the set of spans that\n\t\t  // existed in the history (so that deleting around a span and then\n\t\t  // undoing brings back the span).\n\t\t  function mergeOldSpans(doc, change) {\n\t\t    var old = getOldSpans(doc, change);\n\t\t    var stretched = stretchSpansOverChange(doc, change);\n\t\t    if (!old) { return stretched }\n\t\t    if (!stretched) { return old }\n\n\t\t    for (var i = 0; i < old.length; ++i) {\n\t\t      var oldCur = old[i], stretchCur = stretched[i];\n\t\t      if (oldCur && stretchCur) {\n\t\t        spans: for (var j = 0; j < stretchCur.length; ++j) {\n\t\t          var span = stretchCur[j];\n\t\t          for (var k = 0; k < oldCur.length; ++k)\n\t\t            { if (oldCur[k].marker == span.marker) { continue spans } }\n\t\t          oldCur.push(span);\n\t\t        }\n\t\t      } else if (stretchCur) {\n\t\t        old[i] = stretchCur;\n\t\t      }\n\t\t    }\n\t\t    return old\n\t\t  }\n\n\t\t  // Used both to provide a JSON-safe object in .getHistory, and, when\n\t\t  // detaching a document, to split the history in two\n\t\t  function copyHistoryArray(events, newGroup, instantiateSel) {\n\t\t    var copy = [];\n\t\t    for (var i = 0; i < events.length; ++i) {\n\t\t      var event = events[i];\n\t\t      if (event.ranges) {\n\t\t        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n\t\t        continue\n\t\t      }\n\t\t      var changes = event.changes, newChanges = [];\n\t\t      copy.push({changes: newChanges});\n\t\t      for (var j = 0; j < changes.length; ++j) {\n\t\t        var change = changes[j], m = (undefined);\n\t\t        newChanges.push({from: change.from, to: change.to, text: change.text});\n\t\t        if (newGroup) { for (var prop in change) { if (m = prop.match(/^spans_(\\d+)$/)) {\n\t\t          if (indexOf(newGroup, Number(m[1])) > -1) {\n\t\t            lst(newChanges)[prop] = change[prop];\n\t\t            delete change[prop];\n\t\t          }\n\t\t        } } }\n\t\t      }\n\t\t    }\n\t\t    return copy\n\t\t  }\n\n\t\t  // The 'scroll' parameter given to many of these indicated whether\n\t\t  // the new cursor position should be scrolled into view after\n\t\t  // modifying the selection.\n\n\t\t  // If shift is held or the extend flag is set, extends a range to\n\t\t  // include a given position (and optionally a second position).\n\t\t  // Otherwise, simply returns the range between the given positions.\n\t\t  // Used for cursor motion and such.\n\t\t  function extendRange(range, head, other, extend) {\n\t\t    if (extend) {\n\t\t      var anchor = range.anchor;\n\t\t      if (other) {\n\t\t        var posBefore = cmp(head, anchor) < 0;\n\t\t        if (posBefore != (cmp(other, anchor) < 0)) {\n\t\t          anchor = head;\n\t\t          head = other;\n\t\t        } else if (posBefore != (cmp(head, other) < 0)) {\n\t\t          head = other;\n\t\t        }\n\t\t      }\n\t\t      return new Range(anchor, head)\n\t\t    } else {\n\t\t      return new Range(other || head, head)\n\t\t    }\n\t\t  }\n\n\t\t  // Extend the primary selection range, discard the rest.\n\t\t  function extendSelection(doc, head, other, options, extend) {\n\t\t    if (extend == null) { extend = doc.cm && (doc.cm.display.shift || doc.extend); }\n\t\t    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n\t\t  }\n\n\t\t  // Extend all selections (pos is an array of selections with length\n\t\t  // equal the number of selections)\n\t\t  function extendSelections(doc, heads, options) {\n\t\t    var out = [];\n\t\t    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\t\t    for (var i = 0; i < doc.sel.ranges.length; i++)\n\t\t      { out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend); }\n\t\t    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n\t\t    setSelection(doc, newSel, options);\n\t\t  }\n\n\t\t  // Updates a single range in the selection.\n\t\t  function replaceOneSelection(doc, i, range, options) {\n\t\t    var ranges = doc.sel.ranges.slice(0);\n\t\t    ranges[i] = range;\n\t\t    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n\t\t  }\n\n\t\t  // Reset the selection to a single range.\n\t\t  function setSimpleSelection(doc, anchor, head, options) {\n\t\t    setSelection(doc, simpleSelection(anchor, head), options);\n\t\t  }\n\n\t\t  // Give beforeSelectionChange handlers a change to influence a\n\t\t  // selection update.\n\t\t  function filterSelectionChange(doc, sel, options) {\n\t\t    var obj = {\n\t\t      ranges: sel.ranges,\n\t\t      update: function(ranges) {\n\t\t        this.ranges = [];\n\t\t        for (var i = 0; i < ranges.length; i++)\n\t\t          { this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor),\n\t\t                                     clipPos(doc, ranges[i].head)); }\n\t\t      },\n\t\t      origin: options && options.origin\n\t\t    };\n\t\t    signal(doc, \"beforeSelectionChange\", doc, obj);\n\t\t    if (doc.cm) { signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj); }\n\t\t    if (obj.ranges != sel.ranges) { return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1) }\n\t\t    else { return sel }\n\t\t  }\n\n\t\t  function setSelectionReplaceHistory(doc, sel, options) {\n\t\t    var done = doc.history.done, last = lst(done);\n\t\t    if (last && last.ranges) {\n\t\t      done[done.length - 1] = sel;\n\t\t      setSelectionNoUndo(doc, sel, options);\n\t\t    } else {\n\t\t      setSelection(doc, sel, options);\n\t\t    }\n\t\t  }\n\n\t\t  // Set a new selection.\n\t\t  function setSelection(doc, sel, options) {\n\t\t    setSelectionNoUndo(doc, sel, options);\n\t\t    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n\t\t  }\n\n\t\t  function setSelectionNoUndo(doc, sel, options) {\n\t\t    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\"))\n\t\t      { sel = filterSelectionChange(doc, sel, options); }\n\n\t\t    var bias = options && options.bias ||\n\t\t      (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n\t\t    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n\t\t    if (!(options && options.scroll === false) && doc.cm && doc.cm.getOption(\"readOnly\") != \"nocursor\")\n\t\t      { ensureCursorVisible(doc.cm); }\n\t\t  }\n\n\t\t  function setSelectionInner(doc, sel) {\n\t\t    if (sel.equals(doc.sel)) { return }\n\n\t\t    doc.sel = sel;\n\n\t\t    if (doc.cm) {\n\t\t      doc.cm.curOp.updateInput = 1;\n\t\t      doc.cm.curOp.selectionChanged = true;\n\t\t      signalCursorActivity(doc.cm);\n\t\t    }\n\t\t    signalLater(doc, \"cursorActivity\", doc);\n\t\t  }\n\n\t\t  // Verify that the selection does not partially select any atomic\n\t\t  // marked ranges.\n\t\t  function reCheckSelection(doc) {\n\t\t    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n\t\t  }\n\n\t\t  // Return a selection that does not partially select any atomic\n\t\t  // ranges.\n\t\t  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n\t\t    var out;\n\t\t    for (var i = 0; i < sel.ranges.length; i++) {\n\t\t      var range = sel.ranges[i];\n\t\t      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n\t\t      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n\t\t      var newHead = range.head == range.anchor ? newAnchor : skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\t\t      if (out || newAnchor != range.anchor || newHead != range.head) {\n\t\t        if (!out) { out = sel.ranges.slice(0, i); }\n\t\t        out[i] = new Range(newAnchor, newHead);\n\t\t      }\n\t\t    }\n\t\t    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel\n\t\t  }\n\n\t\t  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n\t\t    var line = getLine(doc, pos.line);\n\t\t    if (line.markedSpans) { for (var i = 0; i < line.markedSpans.length; ++i) {\n\t\t      var sp = line.markedSpans[i], m = sp.marker;\n\n\t\t      // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n\t\t      // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n\t\t      // is with selectLeft/Right\n\t\t      var preventCursorLeft = (\"selectLeft\" in m) ? !m.selectLeft : m.inclusiveLeft;\n\t\t      var preventCursorRight = (\"selectRight\" in m) ? !m.selectRight : m.inclusiveRight;\n\n\t\t      if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) &&\n\t\t          (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n\t\t        if (mayClear) {\n\t\t          signal(m, \"beforeCursorEnter\");\n\t\t          if (m.explicitlyCleared) {\n\t\t            if (!line.markedSpans) { break }\n\t\t            else {--i; continue}\n\t\t          }\n\t\t        }\n\t\t        if (!m.atomic) { continue }\n\n\t\t        if (oldPos) {\n\t\t          var near = m.find(dir < 0 ? 1 : -1), diff = (undefined);\n\t\t          if (dir < 0 ? preventCursorRight : preventCursorLeft)\n\t\t            { near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null); }\n\t\t          if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0))\n\t\t            { return skipAtomicInner(doc, near, pos, dir, mayClear) }\n\t\t        }\n\n\t\t        var far = m.find(dir < 0 ? -1 : 1);\n\t\t        if (dir < 0 ? preventCursorLeft : preventCursorRight)\n\t\t          { far = movePos(doc, far, dir, far.line == pos.line ? line : null); }\n\t\t        return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null\n\t\t      }\n\t\t    } }\n\t\t    return pos\n\t\t  }\n\n\t\t  // Ensure a given position is not inside an atomic range.\n\t\t  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n\t\t    var dir = bias || 1;\n\t\t    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) ||\n\t\t        (!mayClear && skipAtomicInner(doc, pos, oldPos, dir, true)) ||\n\t\t        skipAtomicInner(doc, pos, oldPos, -dir, mayClear) ||\n\t\t        (!mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true));\n\t\t    if (!found) {\n\t\t      doc.cantEdit = true;\n\t\t      return Pos(doc.first, 0)\n\t\t    }\n\t\t    return found\n\t\t  }\n\n\t\t  function movePos(doc, pos, dir, line) {\n\t\t    if (dir < 0 && pos.ch == 0) {\n\t\t      if (pos.line > doc.first) { return clipPos(doc, Pos(pos.line - 1)) }\n\t\t      else { return null }\n\t\t    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n\t\t      if (pos.line < doc.first + doc.size - 1) { return Pos(pos.line + 1, 0) }\n\t\t      else { return null }\n\t\t    } else {\n\t\t      return new Pos(pos.line, pos.ch + dir)\n\t\t    }\n\t\t  }\n\n\t\t  function selectAll(cm) {\n\t\t    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n\t\t  }\n\n\t\t  // UPDATING\n\n\t\t  // Allow \"beforeChange\" event handlers to influence a change\n\t\t  function filterChange(doc, change, update) {\n\t\t    var obj = {\n\t\t      canceled: false,\n\t\t      from: change.from,\n\t\t      to: change.to,\n\t\t      text: change.text,\n\t\t      origin: change.origin,\n\t\t      cancel: function () { return obj.canceled = true; }\n\t\t    };\n\t\t    if (update) { obj.update = function (from, to, text, origin) {\n\t\t      if (from) { obj.from = clipPos(doc, from); }\n\t\t      if (to) { obj.to = clipPos(doc, to); }\n\t\t      if (text) { obj.text = text; }\n\t\t      if (origin !== undefined) { obj.origin = origin; }\n\t\t    }; }\n\t\t    signal(doc, \"beforeChange\", doc, obj);\n\t\t    if (doc.cm) { signal(doc.cm, \"beforeChange\", doc.cm, obj); }\n\n\t\t    if (obj.canceled) {\n\t\t      if (doc.cm) { doc.cm.curOp.updateInput = 2; }\n\t\t      return null\n\t\t    }\n\t\t    return {from: obj.from, to: obj.to, text: obj.text, origin: obj.origin}\n\t\t  }\n\n\t\t  // Apply a change to a document, and add it to the document's\n\t\t  // history, and propagating it to all linked documents.\n\t\t  function makeChange(doc, change, ignoreReadOnly) {\n\t\t    if (doc.cm) {\n\t\t      if (!doc.cm.curOp) { return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly) }\n\t\t      if (doc.cm.state.suppressEdits) { return }\n\t\t    }\n\n\t\t    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n\t\t      change = filterChange(doc, change, true);\n\t\t      if (!change) { return }\n\t\t    }\n\n\t\t    // Possibly split or suppress the update based on the presence\n\t\t    // of read-only spans in its range.\n\t\t    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\t\t    if (split) {\n\t\t      for (var i = split.length - 1; i >= 0; --i)\n\t\t        { makeChangeInner(doc, {from: split[i].from, to: split[i].to, text: i ? [\"\"] : change.text, origin: change.origin}); }\n\t\t    } else {\n\t\t      makeChangeInner(doc, change);\n\t\t    }\n\t\t  }\n\n\t\t  function makeChangeInner(doc, change) {\n\t\t    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) { return }\n\t\t    var selAfter = computeSelAfterChange(doc, change);\n\t\t    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n\n\t\t    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n\t\t    var rebased = [];\n\n\t\t    linkedDocs(doc, function (doc, sharedHist) {\n\t\t      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n\t\t        rebaseHist(doc.history, change);\n\t\t        rebased.push(doc.history);\n\t\t      }\n\t\t      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n\t\t    });\n\t\t  }\n\n\t\t  // Revert a change stored in a document's history.\n\t\t  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n\t\t    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\t\t    if (suppress && !allowSelectionOnly) { return }\n\n\t\t    var hist = doc.history, event, selAfter = doc.sel;\n\t\t    var source = type == \"undo\" ? hist.done : hist.undone, dest = type == \"undo\" ? hist.undone : hist.done;\n\n\t\t    // Verify that there is a useable event (so that ctrl-z won't\n\t\t    // needlessly clear selection events)\n\t\t    var i = 0;\n\t\t    for (; i < source.length; i++) {\n\t\t      event = source[i];\n\t\t      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges)\n\t\t        { break }\n\t\t    }\n\t\t    if (i == source.length) { return }\n\t\t    hist.lastOrigin = hist.lastSelOrigin = null;\n\n\t\t    for (;;) {\n\t\t      event = source.pop();\n\t\t      if (event.ranges) {\n\t\t        pushSelectionToHistory(event, dest);\n\t\t        if (allowSelectionOnly && !event.equals(doc.sel)) {\n\t\t          setSelection(doc, event, {clearRedo: false});\n\t\t          return\n\t\t        }\n\t\t        selAfter = event;\n\t\t      } else if (suppress) {\n\t\t        source.push(event);\n\t\t        return\n\t\t      } else { break }\n\t\t    }\n\n\t\t    // Build up a reverse change object to add to the opposite history\n\t\t    // stack (redo when undoing, and vice versa).\n\t\t    var antiChanges = [];\n\t\t    pushSelectionToHistory(selAfter, dest);\n\t\t    dest.push({changes: antiChanges, generation: hist.generation});\n\t\t    hist.generation = event.generation || ++hist.maxGeneration;\n\n\t\t    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n\t\t    var loop = function ( i ) {\n\t\t      var change = event.changes[i];\n\t\t      change.origin = type;\n\t\t      if (filter && !filterChange(doc, change, false)) {\n\t\t        source.length = 0;\n\t\t        return {}\n\t\t      }\n\n\t\t      antiChanges.push(historyChangeFromChange(doc, change));\n\n\t\t      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n\t\t      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\t\t      if (!i && doc.cm) { doc.cm.scrollIntoView({from: change.from, to: changeEnd(change)}); }\n\t\t      var rebased = [];\n\n\t\t      // Propagate to the linked documents\n\t\t      linkedDocs(doc, function (doc, sharedHist) {\n\t\t        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n\t\t          rebaseHist(doc.history, change);\n\t\t          rebased.push(doc.history);\n\t\t        }\n\t\t        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n\t\t      });\n\t\t    };\n\n\t\t    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n\t\t      var returned = loop( i$1 );\n\n\t\t      if ( returned ) return returned.v;\n\t\t    }\n\t\t  }\n\n\t\t  // Sub-views need their line numbers shifted when text is added\n\t\t  // above or below them in the parent document.\n\t\t  function shiftDoc(doc, distance) {\n\t\t    if (distance == 0) { return }\n\t\t    doc.first += distance;\n\t\t    doc.sel = new Selection(map(doc.sel.ranges, function (range) { return new Range(\n\t\t      Pos(range.anchor.line + distance, range.anchor.ch),\n\t\t      Pos(range.head.line + distance, range.head.ch)\n\t\t    ); }), doc.sel.primIndex);\n\t\t    if (doc.cm) {\n\t\t      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\t\t      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++)\n\t\t        { regLineChange(doc.cm, l, \"gutter\"); }\n\t\t    }\n\t\t  }\n\n\t\t  // More lower-level change function, handling only a single document\n\t\t  // (not linked ones).\n\t\t  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n\t\t    if (doc.cm && !doc.cm.curOp)\n\t\t      { return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans) }\n\n\t\t    if (change.to.line < doc.first) {\n\t\t      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n\t\t      return\n\t\t    }\n\t\t    if (change.from.line > doc.lastLine()) { return }\n\n\t\t    // Clip the change to the size of this doc\n\t\t    if (change.from.line < doc.first) {\n\t\t      var shift = change.text.length - 1 - (doc.first - change.from.line);\n\t\t      shiftDoc(doc, shift);\n\t\t      change = {from: Pos(doc.first, 0), to: Pos(change.to.line + shift, change.to.ch),\n\t\t                text: [lst(change.text)], origin: change.origin};\n\t\t    }\n\t\t    var last = doc.lastLine();\n\t\t    if (change.to.line > last) {\n\t\t      change = {from: change.from, to: Pos(last, getLine(doc, last).text.length),\n\t\t                text: [change.text[0]], origin: change.origin};\n\t\t    }\n\n\t\t    change.removed = getBetween(doc, change.from, change.to);\n\n\t\t    if (!selAfter) { selAfter = computeSelAfterChange(doc, change); }\n\t\t    if (doc.cm) { makeChangeSingleDocInEditor(doc.cm, change, spans); }\n\t\t    else { updateDoc(doc, change, spans); }\n\t\t    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n\t\t    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0)))\n\t\t      { doc.cantEdit = false; }\n\t\t  }\n\n\t\t  // Handle the interaction of a change to a document with the editor\n\t\t  // that this document is part of.\n\t\t  function makeChangeSingleDocInEditor(cm, change, spans) {\n\t\t    var doc = cm.doc, display = cm.display, from = change.from, to = change.to;\n\n\t\t    var recomputeMaxLength = false, checkWidthStart = from.line;\n\t\t    if (!cm.options.lineWrapping) {\n\t\t      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n\t\t      doc.iter(checkWidthStart, to.line + 1, function (line) {\n\t\t        if (line == display.maxLine) {\n\t\t          recomputeMaxLength = true;\n\t\t          return true\n\t\t        }\n\t\t      });\n\t\t    }\n\n\t\t    if (doc.sel.contains(change.from, change.to) > -1)\n\t\t      { signalCursorActivity(cm); }\n\n\t\t    updateDoc(doc, change, spans, estimateHeight(cm));\n\n\t\t    if (!cm.options.lineWrapping) {\n\t\t      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n\t\t        var len = lineLength(line);\n\t\t        if (len > display.maxLineLength) {\n\t\t          display.maxLine = line;\n\t\t          display.maxLineLength = len;\n\t\t          display.maxLineChanged = true;\n\t\t          recomputeMaxLength = false;\n\t\t        }\n\t\t      });\n\t\t      if (recomputeMaxLength) { cm.curOp.updateMaxLine = true; }\n\t\t    }\n\n\t\t    retreatFrontier(doc, from.line);\n\t\t    startWorker(cm, 400);\n\n\t\t    var lendiff = change.text.length - (to.line - from.line) - 1;\n\t\t    // Remember that these lines changed, for updating the display\n\t\t    if (change.full)\n\t\t      { regChange(cm); }\n\t\t    else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change))\n\t\t      { regLineChange(cm, from.line, \"text\"); }\n\t\t    else\n\t\t      { regChange(cm, from.line, to.line + 1, lendiff); }\n\n\t\t    var changesHandler = hasHandler(cm, \"changes\"), changeHandler = hasHandler(cm, \"change\");\n\t\t    if (changeHandler || changesHandler) {\n\t\t      var obj = {\n\t\t        from: from, to: to,\n\t\t        text: change.text,\n\t\t        removed: change.removed,\n\t\t        origin: change.origin\n\t\t      };\n\t\t      if (changeHandler) { signalLater(cm, \"change\", cm, obj); }\n\t\t      if (changesHandler) { (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj); }\n\t\t    }\n\t\t    cm.display.selForContextMenu = null;\n\t\t  }\n\n\t\t  function replaceRange(doc, code, from, to, origin) {\n\t\t    var assign;\n\n\t\t    if (!to) { to = from; }\n\t\t    if (cmp(to, from) < 0) { (assign = [to, from], from = assign[0], to = assign[1]); }\n\t\t    if (typeof code == \"string\") { code = doc.splitLines(code); }\n\t\t    makeChange(doc, {from: from, to: to, text: code, origin: origin});\n\t\t  }\n\n\t\t  // Rebasing/resetting history to deal with externally-sourced changes\n\n\t\t  function rebaseHistSelSingle(pos, from, to, diff) {\n\t\t    if (to < pos.line) {\n\t\t      pos.line += diff;\n\t\t    } else if (from < pos.line) {\n\t\t      pos.line = from;\n\t\t      pos.ch = 0;\n\t\t    }\n\t\t  }\n\n\t\t  // Tries to rebase an array of history events given a change in the\n\t\t  // document. If the change touches the same lines as the event, the\n\t\t  // event, and everything 'behind' it, is discarded. If the change is\n\t\t  // before the event, the event's positions are updated. Uses a\n\t\t  // copy-on-write scheme for the positions, to avoid having to\n\t\t  // reallocate them all on every rebase, but also avoid problems with\n\t\t  // shared position objects being unsafely updated.\n\t\t  function rebaseHistArray(array, from, to, diff) {\n\t\t    for (var i = 0; i < array.length; ++i) {\n\t\t      var sub = array[i], ok = true;\n\t\t      if (sub.ranges) {\n\t\t        if (!sub.copied) { sub = array[i] = sub.deepCopy(); sub.copied = true; }\n\t\t        for (var j = 0; j < sub.ranges.length; j++) {\n\t\t          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n\t\t          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n\t\t        }\n\t\t        continue\n\t\t      }\n\t\t      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n\t\t        var cur = sub.changes[j$1];\n\t\t        if (to < cur.from.line) {\n\t\t          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n\t\t          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n\t\t        } else if (from <= cur.to.line) {\n\t\t          ok = false;\n\t\t          break\n\t\t        }\n\t\t      }\n\t\t      if (!ok) {\n\t\t        array.splice(0, i + 1);\n\t\t        i = 0;\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  function rebaseHist(hist, change) {\n\t\t    var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;\n\t\t    rebaseHistArray(hist.done, from, to, diff);\n\t\t    rebaseHistArray(hist.undone, from, to, diff);\n\t\t  }\n\n\t\t  // Utility for applying a change to a line by handle or number,\n\t\t  // returning the number and optionally registering the line as\n\t\t  // changed.\n\t\t  function changeLine(doc, handle, changeType, op) {\n\t\t    var no = handle, line = handle;\n\t\t    if (typeof handle == \"number\") { line = getLine(doc, clipLine(doc, handle)); }\n\t\t    else { no = lineNo(handle); }\n\t\t    if (no == null) { return null }\n\t\t    if (op(line, no) && doc.cm) { regLineChange(doc.cm, no, changeType); }\n\t\t    return line\n\t\t  }\n\n\t\t  // The document is represented as a BTree consisting of leaves, with\n\t\t  // chunk of lines in them, and branches, with up to ten leaves or\n\t\t  // other branch nodes below them. The top node is always a branch\n\t\t  // node, and is the document object itself (meaning it has\n\t\t  // additional methods and properties).\n\t\t  //\n\t\t  // All nodes have parent links. The tree is used both to go from\n\t\t  // line numbers to line objects, and to go from objects to numbers.\n\t\t  // It also indexes by height, and is used to convert between height\n\t\t  // and line object, and to find the total height of the document.\n\t\t  //\n\t\t  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\t\t  function LeafChunk(lines) {\n\t\t    this.lines = lines;\n\t\t    this.parent = null;\n\t\t    var height = 0;\n\t\t    for (var i = 0; i < lines.length; ++i) {\n\t\t      lines[i].parent = this;\n\t\t      height += lines[i].height;\n\t\t    }\n\t\t    this.height = height;\n\t\t  }\n\n\t\t  LeafChunk.prototype = {\n\t\t    chunkSize: function() { return this.lines.length },\n\n\t\t    // Remove the n lines at offset 'at'.\n\t\t    removeInner: function(at, n) {\n\t\t      for (var i = at, e = at + n; i < e; ++i) {\n\t\t        var line = this.lines[i];\n\t\t        this.height -= line.height;\n\t\t        cleanUpLine(line);\n\t\t        signalLater(line, \"delete\");\n\t\t      }\n\t\t      this.lines.splice(at, n);\n\t\t    },\n\n\t\t    // Helper used to collapse a small branch into a single leaf.\n\t\t    collapse: function(lines) {\n\t\t      lines.push.apply(lines, this.lines);\n\t\t    },\n\n\t\t    // Insert the given array of lines at offset 'at', count them as\n\t\t    // having the given height.\n\t\t    insertInner: function(at, lines, height) {\n\t\t      this.height += height;\n\t\t      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\t\t      for (var i = 0; i < lines.length; ++i) { lines[i].parent = this; }\n\t\t    },\n\n\t\t    // Used to iterate over a part of the tree.\n\t\t    iterN: function(at, n, op) {\n\t\t      for (var e = at + n; at < e; ++at)\n\t\t        { if (op(this.lines[at])) { return true } }\n\t\t    }\n\t\t  };\n\n\t\t  function BranchChunk(children) {\n\t\t    this.children = children;\n\t\t    var size = 0, height = 0;\n\t\t    for (var i = 0; i < children.length; ++i) {\n\t\t      var ch = children[i];\n\t\t      size += ch.chunkSize(); height += ch.height;\n\t\t      ch.parent = this;\n\t\t    }\n\t\t    this.size = size;\n\t\t    this.height = height;\n\t\t    this.parent = null;\n\t\t  }\n\n\t\t  BranchChunk.prototype = {\n\t\t    chunkSize: function() { return this.size },\n\n\t\t    removeInner: function(at, n) {\n\t\t      this.size -= n;\n\t\t      for (var i = 0; i < this.children.length; ++i) {\n\t\t        var child = this.children[i], sz = child.chunkSize();\n\t\t        if (at < sz) {\n\t\t          var rm = Math.min(n, sz - at), oldHeight = child.height;\n\t\t          child.removeInner(at, rm);\n\t\t          this.height -= oldHeight - child.height;\n\t\t          if (sz == rm) { this.children.splice(i--, 1); child.parent = null; }\n\t\t          if ((n -= rm) == 0) { break }\n\t\t          at = 0;\n\t\t        } else { at -= sz; }\n\t\t      }\n\t\t      // If the result is smaller than 25 lines, ensure that it is a\n\t\t      // single leaf node.\n\t\t      if (this.size - n < 25 &&\n\t\t          (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n\t\t        var lines = [];\n\t\t        this.collapse(lines);\n\t\t        this.children = [new LeafChunk(lines)];\n\t\t        this.children[0].parent = this;\n\t\t      }\n\t\t    },\n\n\t\t    collapse: function(lines) {\n\t\t      for (var i = 0; i < this.children.length; ++i) { this.children[i].collapse(lines); }\n\t\t    },\n\n\t\t    insertInner: function(at, lines, height) {\n\t\t      this.size += lines.length;\n\t\t      this.height += height;\n\t\t      for (var i = 0; i < this.children.length; ++i) {\n\t\t        var child = this.children[i], sz = child.chunkSize();\n\t\t        if (at <= sz) {\n\t\t          child.insertInner(at, lines, height);\n\t\t          if (child.lines && child.lines.length > 50) {\n\t\t            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n\t\t            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n\t\t            var remaining = child.lines.length % 25 + 25;\n\t\t            for (var pos = remaining; pos < child.lines.length;) {\n\t\t              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n\t\t              child.height -= leaf.height;\n\t\t              this.children.splice(++i, 0, leaf);\n\t\t              leaf.parent = this;\n\t\t            }\n\t\t            child.lines = child.lines.slice(0, remaining);\n\t\t            this.maybeSpill();\n\t\t          }\n\t\t          break\n\t\t        }\n\t\t        at -= sz;\n\t\t      }\n\t\t    },\n\n\t\t    // When a node has grown, check whether it should be split.\n\t\t    maybeSpill: function() {\n\t\t      if (this.children.length <= 10) { return }\n\t\t      var me = this;\n\t\t      do {\n\t\t        var spilled = me.children.splice(me.children.length - 5, 5);\n\t\t        var sibling = new BranchChunk(spilled);\n\t\t        if (!me.parent) { // Become the parent node\n\t\t          var copy = new BranchChunk(me.children);\n\t\t          copy.parent = me;\n\t\t          me.children = [copy, sibling];\n\t\t          me = copy;\n\t\t       } else {\n\t\t          me.size -= sibling.size;\n\t\t          me.height -= sibling.height;\n\t\t          var myIndex = indexOf(me.parent.children, me);\n\t\t          me.parent.children.splice(myIndex + 1, 0, sibling);\n\t\t        }\n\t\t        sibling.parent = me.parent;\n\t\t      } while (me.children.length > 10)\n\t\t      me.parent.maybeSpill();\n\t\t    },\n\n\t\t    iterN: function(at, n, op) {\n\t\t      for (var i = 0; i < this.children.length; ++i) {\n\t\t        var child = this.children[i], sz = child.chunkSize();\n\t\t        if (at < sz) {\n\t\t          var used = Math.min(n, sz - at);\n\t\t          if (child.iterN(at, used, op)) { return true }\n\t\t          if ((n -= used) == 0) { break }\n\t\t          at = 0;\n\t\t        } else { at -= sz; }\n\t\t      }\n\t\t    }\n\t\t  };\n\n\t\t  // Line widgets are block elements displayed above or below a line.\n\n\t\t  var LineWidget = function(doc, node, options) {\n\t\t    if (options) { for (var opt in options) { if (options.hasOwnProperty(opt))\n\t\t      { this[opt] = options[opt]; } } }\n\t\t    this.doc = doc;\n\t\t    this.node = node;\n\t\t  };\n\n\t\t  LineWidget.prototype.clear = function () {\n\t\t    var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);\n\t\t    if (no == null || !ws) { return }\n\t\t    for (var i = 0; i < ws.length; ++i) { if (ws[i] == this) { ws.splice(i--, 1); } }\n\t\t    if (!ws.length) { line.widgets = null; }\n\t\t    var height = widgetHeight(this);\n\t\t    updateLineHeight(line, Math.max(0, line.height - height));\n\t\t    if (cm) {\n\t\t      runInOp(cm, function () {\n\t\t        adjustScrollWhenAboveVisible(cm, line, -height);\n\t\t        regLineChange(cm, no, \"widget\");\n\t\t      });\n\t\t      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n\t\t    }\n\t\t  };\n\n\t\t  LineWidget.prototype.changed = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    var oldH = this.height, cm = this.doc.cm, line = this.line;\n\t\t    this.height = null;\n\t\t    var diff = widgetHeight(this) - oldH;\n\t\t    if (!diff) { return }\n\t\t    if (!lineIsHidden(this.doc, line)) { updateLineHeight(line, line.height + diff); }\n\t\t    if (cm) {\n\t\t      runInOp(cm, function () {\n\t\t        cm.curOp.forceUpdate = true;\n\t\t        adjustScrollWhenAboveVisible(cm, line, diff);\n\t\t        signalLater(cm, \"lineWidgetChanged\", cm, this$1$1, lineNo(line));\n\t\t      });\n\t\t    }\n\t\t  };\n\t\t  eventMixin(LineWidget);\n\n\t\t  function adjustScrollWhenAboveVisible(cm, line, diff) {\n\t\t    if (heightAtLine(line) < ((cm.curOp && cm.curOp.scrollTop) || cm.doc.scrollTop))\n\t\t      { addToScrollTop(cm, diff); }\n\t\t  }\n\n\t\t  function addLineWidget(doc, handle, node, options) {\n\t\t    var widget = new LineWidget(doc, node, options);\n\t\t    var cm = doc.cm;\n\t\t    if (cm && widget.noHScroll) { cm.display.alignWidgets = true; }\n\t\t    changeLine(doc, handle, \"widget\", function (line) {\n\t\t      var widgets = line.widgets || (line.widgets = []);\n\t\t      if (widget.insertAt == null) { widgets.push(widget); }\n\t\t      else { widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget); }\n\t\t      widget.line = line;\n\t\t      if (cm && !lineIsHidden(doc, line)) {\n\t\t        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n\t\t        updateLineHeight(line, line.height + widgetHeight(widget));\n\t\t        if (aboveVisible) { addToScrollTop(cm, widget.height); }\n\t\t        cm.curOp.forceUpdate = true;\n\t\t      }\n\t\t      return true\n\t\t    });\n\t\t    if (cm) { signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle)); }\n\t\t    return widget\n\t\t  }\n\n\t\t  // TEXTMARKERS\n\n\t\t  // Created with markText and setBookmark methods. A TextMarker is a\n\t\t  // handle that can be used to clear or find a marked position in the\n\t\t  // document. Line objects hold arrays (markedSpans) containing\n\t\t  // {from, to, marker} object pointing to such marker objects, and\n\t\t  // indicating that such a marker is present on that line. Multiple\n\t\t  // lines may point to the same marker when it spans across lines.\n\t\t  // The spans will have null for their from/to properties when the\n\t\t  // marker continues beyond the start/end of the line. Markers have\n\t\t  // links back to the lines they currently touch.\n\n\t\t  // Collapsed markers have unique ids, in order to be able to order\n\t\t  // them, which is needed for uniquely determining an outer marker\n\t\t  // when they overlap (they may nest, but not partially overlap).\n\t\t  var nextMarkerId = 0;\n\n\t\t  var TextMarker = function(doc, type) {\n\t\t    this.lines = [];\n\t\t    this.type = type;\n\t\t    this.doc = doc;\n\t\t    this.id = ++nextMarkerId;\n\t\t  };\n\n\t\t  // Clear the marker.\n\t\t  TextMarker.prototype.clear = function () {\n\t\t    if (this.explicitlyCleared) { return }\n\t\t    var cm = this.doc.cm, withOp = cm && !cm.curOp;\n\t\t    if (withOp) { startOperation(cm); }\n\t\t    if (hasHandler(this, \"clear\")) {\n\t\t      var found = this.find();\n\t\t      if (found) { signalLater(this, \"clear\", found.from, found.to); }\n\t\t    }\n\t\t    var min = null, max = null;\n\t\t    for (var i = 0; i < this.lines.length; ++i) {\n\t\t      var line = this.lines[i];\n\t\t      var span = getMarkedSpanFor(line.markedSpans, this);\n\t\t      if (cm && !this.collapsed) { regLineChange(cm, lineNo(line), \"text\"); }\n\t\t      else if (cm) {\n\t\t        if (span.to != null) { max = lineNo(line); }\n\t\t        if (span.from != null) { min = lineNo(line); }\n\t\t      }\n\t\t      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\t\t      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm)\n\t\t        { updateLineHeight(line, textHeight(cm.display)); }\n\t\t    }\n\t\t    if (cm && this.collapsed && !cm.options.lineWrapping) { for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n\t\t      var visual = visualLine(this.lines[i$1]), len = lineLength(visual);\n\t\t      if (len > cm.display.maxLineLength) {\n\t\t        cm.display.maxLine = visual;\n\t\t        cm.display.maxLineLength = len;\n\t\t        cm.display.maxLineChanged = true;\n\t\t      }\n\t\t    } }\n\n\t\t    if (min != null && cm && this.collapsed) { regChange(cm, min, max + 1); }\n\t\t    this.lines.length = 0;\n\t\t    this.explicitlyCleared = true;\n\t\t    if (this.atomic && this.doc.cantEdit) {\n\t\t      this.doc.cantEdit = false;\n\t\t      if (cm) { reCheckSelection(cm.doc); }\n\t\t    }\n\t\t    if (cm) { signalLater(cm, \"markerCleared\", cm, this, min, max); }\n\t\t    if (withOp) { endOperation(cm); }\n\t\t    if (this.parent) { this.parent.clear(); }\n\t\t  };\n\n\t\t  // Find the position of the marker in the document. Returns a {from,\n\t\t  // to} object by default. Side can be passed to get a specific side\n\t\t  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n\t\t  // Pos objects returned contain a line object, rather than a line\n\t\t  // number (used to prevent looking up the same line twice).\n\t\t  TextMarker.prototype.find = function (side, lineObj) {\n\t\t    if (side == null && this.type == \"bookmark\") { side = 1; }\n\t\t    var from, to;\n\t\t    for (var i = 0; i < this.lines.length; ++i) {\n\t\t      var line = this.lines[i];\n\t\t      var span = getMarkedSpanFor(line.markedSpans, this);\n\t\t      if (span.from != null) {\n\t\t        from = Pos(lineObj ? line : lineNo(line), span.from);\n\t\t        if (side == -1) { return from }\n\t\t      }\n\t\t      if (span.to != null) {\n\t\t        to = Pos(lineObj ? line : lineNo(line), span.to);\n\t\t        if (side == 1) { return to }\n\t\t      }\n\t\t    }\n\t\t    return from && {from: from, to: to}\n\t\t  };\n\n\t\t  // Signals that the marker's widget changed, and surrounding layout\n\t\t  // should be recomputed.\n\t\t  TextMarker.prototype.changed = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    var pos = this.find(-1, true), widget = this, cm = this.doc.cm;\n\t\t    if (!pos || !cm) { return }\n\t\t    runInOp(cm, function () {\n\t\t      var line = pos.line, lineN = lineNo(pos.line);\n\t\t      var view = findViewForLine(cm, lineN);\n\t\t      if (view) {\n\t\t        clearLineMeasurementCacheFor(view);\n\t\t        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n\t\t      }\n\t\t      cm.curOp.updateMaxLine = true;\n\t\t      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n\t\t        var oldHeight = widget.height;\n\t\t        widget.height = null;\n\t\t        var dHeight = widgetHeight(widget) - oldHeight;\n\t\t        if (dHeight)\n\t\t          { updateLineHeight(line, line.height + dHeight); }\n\t\t      }\n\t\t      signalLater(cm, \"markerChanged\", cm, this$1$1);\n\t\t    });\n\t\t  };\n\n\t\t  TextMarker.prototype.attachLine = function (line) {\n\t\t    if (!this.lines.length && this.doc.cm) {\n\t\t      var op = this.doc.cm.curOp;\n\t\t      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1)\n\t\t        { (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this); }\n\t\t    }\n\t\t    this.lines.push(line);\n\t\t  };\n\n\t\t  TextMarker.prototype.detachLine = function (line) {\n\t\t    this.lines.splice(indexOf(this.lines, line), 1);\n\t\t    if (!this.lines.length && this.doc.cm) {\n\t\t      var op = this.doc.cm.curOp\n\t\t      ;(op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n\t\t    }\n\t\t  };\n\t\t  eventMixin(TextMarker);\n\n\t\t  // Create a marker, wire it up to the right lines, and\n\t\t  function markText(doc, from, to, options, type) {\n\t\t    // Shared markers (across linked documents) are handled separately\n\t\t    // (markTextShared will call out to this again, once per\n\t\t    // document).\n\t\t    if (options && options.shared) { return markTextShared(doc, from, to, options, type) }\n\t\t    // Ensure we are in an operation.\n\t\t    if (doc.cm && !doc.cm.curOp) { return operation(doc.cm, markText)(doc, from, to, options, type) }\n\n\t\t    var marker = new TextMarker(doc, type), diff = cmp(from, to);\n\t\t    if (options) { copyObj(options, marker, false); }\n\t\t    // Don't connect empty markers unless clearWhenEmpty is false\n\t\t    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false)\n\t\t      { return marker }\n\t\t    if (marker.replacedWith) {\n\t\t      // Showing up as a widget implies collapsed (widget replaces text)\n\t\t      marker.collapsed = true;\n\t\t      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\t\t      if (!options.handleMouseEvents) { marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\"); }\n\t\t      if (options.insertLeft) { marker.widgetNode.insertLeft = true; }\n\t\t    }\n\t\t    if (marker.collapsed) {\n\t\t      if (conflictingCollapsedRange(doc, from.line, from, to, marker) ||\n\t\t          from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker))\n\t\t        { throw new Error(\"Inserting collapsed marker partially overlapping an existing one\") }\n\t\t      seeCollapsedSpans();\n\t\t    }\n\n\t\t    if (marker.addToHistory)\n\t\t      { addChangeToHistory(doc, {from: from, to: to, origin: \"markText\"}, doc.sel, NaN); }\n\n\t\t    var curLine = from.line, cm = doc.cm, updateMaxLine;\n\t\t    doc.iter(curLine, to.line + 1, function (line) {\n\t\t      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine)\n\t\t        { updateMaxLine = true; }\n\t\t      if (marker.collapsed && curLine != from.line) { updateLineHeight(line, 0); }\n\t\t      addMarkedSpan(line, new MarkedSpan(marker,\n\t\t                                         curLine == from.line ? from.ch : null,\n\t\t                                         curLine == to.line ? to.ch : null), doc.cm && doc.cm.curOp);\n\t\t      ++curLine;\n\t\t    });\n\t\t    // lineIsHidden depends on the presence of the spans, so needs a second pass\n\t\t    if (marker.collapsed) { doc.iter(from.line, to.line + 1, function (line) {\n\t\t      if (lineIsHidden(doc, line)) { updateLineHeight(line, 0); }\n\t\t    }); }\n\n\t\t    if (marker.clearOnEnter) { on(marker, \"beforeCursorEnter\", function () { return marker.clear(); }); }\n\n\t\t    if (marker.readOnly) {\n\t\t      seeReadOnlySpans();\n\t\t      if (doc.history.done.length || doc.history.undone.length)\n\t\t        { doc.clearHistory(); }\n\t\t    }\n\t\t    if (marker.collapsed) {\n\t\t      marker.id = ++nextMarkerId;\n\t\t      marker.atomic = true;\n\t\t    }\n\t\t    if (cm) {\n\t\t      // Sync editor state\n\t\t      if (updateMaxLine) { cm.curOp.updateMaxLine = true; }\n\t\t      if (marker.collapsed)\n\t\t        { regChange(cm, from.line, to.line + 1); }\n\t\t      else if (marker.className || marker.startStyle || marker.endStyle || marker.css ||\n\t\t               marker.attributes || marker.title)\n\t\t        { for (var i = from.line; i <= to.line; i++) { regLineChange(cm, i, \"text\"); } }\n\t\t      if (marker.atomic) { reCheckSelection(cm.doc); }\n\t\t      signalLater(cm, \"markerAdded\", cm, marker);\n\t\t    }\n\t\t    return marker\n\t\t  }\n\n\t\t  // SHARED TEXTMARKERS\n\n\t\t  // A shared marker spans multiple linked documents. It is\n\t\t  // implemented as a meta-marker-object controlling multiple normal\n\t\t  // markers.\n\t\t  var SharedTextMarker = function(markers, primary) {\n\t\t    this.markers = markers;\n\t\t    this.primary = primary;\n\t\t    for (var i = 0; i < markers.length; ++i)\n\t\t      { markers[i].parent = this; }\n\t\t  };\n\n\t\t  SharedTextMarker.prototype.clear = function () {\n\t\t    if (this.explicitlyCleared) { return }\n\t\t    this.explicitlyCleared = true;\n\t\t    for (var i = 0; i < this.markers.length; ++i)\n\t\t      { this.markers[i].clear(); }\n\t\t    signalLater(this, \"clear\");\n\t\t  };\n\n\t\t  SharedTextMarker.prototype.find = function (side, lineObj) {\n\t\t    return this.primary.find(side, lineObj)\n\t\t  };\n\t\t  eventMixin(SharedTextMarker);\n\n\t\t  function markTextShared(doc, from, to, options, type) {\n\t\t    options = copyObj(options);\n\t\t    options.shared = false;\n\t\t    var markers = [markText(doc, from, to, options, type)], primary = markers[0];\n\t\t    var widget = options.widgetNode;\n\t\t    linkedDocs(doc, function (doc) {\n\t\t      if (widget) { options.widgetNode = widget.cloneNode(true); }\n\t\t      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n\t\t      for (var i = 0; i < doc.linked.length; ++i)\n\t\t        { if (doc.linked[i].isParent) { return } }\n\t\t      primary = lst(markers);\n\t\t    });\n\t\t    return new SharedTextMarker(markers, primary)\n\t\t  }\n\n\t\t  function findSharedMarkers(doc) {\n\t\t    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) { return m.parent; })\n\t\t  }\n\n\t\t  function copySharedMarkers(doc, markers) {\n\t\t    for (var i = 0; i < markers.length; i++) {\n\t\t      var marker = markers[i], pos = marker.find();\n\t\t      var mFrom = doc.clipPos(pos.from), mTo = doc.clipPos(pos.to);\n\t\t      if (cmp(mFrom, mTo)) {\n\t\t        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n\t\t        marker.markers.push(subMark);\n\t\t        subMark.parent = marker;\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  function detachSharedMarkers(markers) {\n\t\t    var loop = function ( i ) {\n\t\t      var marker = markers[i], linked = [marker.primary.doc];\n\t\t      linkedDocs(marker.primary.doc, function (d) { return linked.push(d); });\n\t\t      for (var j = 0; j < marker.markers.length; j++) {\n\t\t        var subMarker = marker.markers[j];\n\t\t        if (indexOf(linked, subMarker.doc) == -1) {\n\t\t          subMarker.parent = null;\n\t\t          marker.markers.splice(j--, 1);\n\t\t        }\n\t\t      }\n\t\t    };\n\n\t\t    for (var i = 0; i < markers.length; i++) loop( i );\n\t\t  }\n\n\t\t  var nextDocId = 0;\n\t\t  var Doc = function(text, mode, firstLine, lineSep, direction) {\n\t\t    if (!(this instanceof Doc)) { return new Doc(text, mode, firstLine, lineSep, direction) }\n\t\t    if (firstLine == null) { firstLine = 0; }\n\n\t\t    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n\t\t    this.first = firstLine;\n\t\t    this.scrollTop = this.scrollLeft = 0;\n\t\t    this.cantEdit = false;\n\t\t    this.cleanGeneration = 1;\n\t\t    this.modeFrontier = this.highlightFrontier = firstLine;\n\t\t    var start = Pos(firstLine, 0);\n\t\t    this.sel = simpleSelection(start);\n\t\t    this.history = new History(null);\n\t\t    this.id = ++nextDocId;\n\t\t    this.modeOption = mode;\n\t\t    this.lineSep = lineSep;\n\t\t    this.direction = (direction == \"rtl\") ? \"rtl\" : \"ltr\";\n\t\t    this.extend = false;\n\n\t\t    if (typeof text == \"string\") { text = this.splitLines(text); }\n\t\t    updateDoc(this, {from: start, to: start, text: text});\n\t\t    setSelection(this, simpleSelection(start), sel_dontScroll);\n\t\t  };\n\n\t\t  Doc.prototype = createObj(BranchChunk.prototype, {\n\t\t    constructor: Doc,\n\t\t    // Iterate over the document. Supports two forms -- with only one\n\t\t    // argument, it calls that for each line in the document. With\n\t\t    // three, it iterates over the range given by the first two (with\n\t\t    // the second being non-inclusive).\n\t\t    iter: function(from, to, op) {\n\t\t      if (op) { this.iterN(from - this.first, to - from, op); }\n\t\t      else { this.iterN(this.first, this.first + this.size, from); }\n\t\t    },\n\n\t\t    // Non-public interface for adding and removing lines.\n\t\t    insert: function(at, lines) {\n\t\t      var height = 0;\n\t\t      for (var i = 0; i < lines.length; ++i) { height += lines[i].height; }\n\t\t      this.insertInner(at - this.first, lines, height);\n\t\t    },\n\t\t    remove: function(at, n) { this.removeInner(at - this.first, n); },\n\n\t\t    // From here, the methods are part of the public interface. Most\n\t\t    // are also available from CodeMirror (editor) instances.\n\n\t\t    getValue: function(lineSep) {\n\t\t      var lines = getLines(this, this.first, this.first + this.size);\n\t\t      if (lineSep === false) { return lines }\n\t\t      return lines.join(lineSep || this.lineSeparator())\n\t\t    },\n\t\t    setValue: docMethodOp(function(code) {\n\t\t      var top = Pos(this.first, 0), last = this.first + this.size - 1;\n\t\t      makeChange(this, {from: top, to: Pos(last, getLine(this, last).text.length),\n\t\t                        text: this.splitLines(code), origin: \"setValue\", full: true}, true);\n\t\t      if (this.cm) { scrollToCoords(this.cm, 0, 0); }\n\t\t      setSelection(this, simpleSelection(top), sel_dontScroll);\n\t\t    }),\n\t\t    replaceRange: function(code, from, to, origin) {\n\t\t      from = clipPos(this, from);\n\t\t      to = to ? clipPos(this, to) : from;\n\t\t      replaceRange(this, code, from, to, origin);\n\t\t    },\n\t\t    getRange: function(from, to, lineSep) {\n\t\t      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n\t\t      if (lineSep === false) { return lines }\n\t\t      if (lineSep === '') { return lines.join('') }\n\t\t      return lines.join(lineSep || this.lineSeparator())\n\t\t    },\n\n\t\t    getLine: function(line) {var l = this.getLineHandle(line); return l && l.text},\n\n\t\t    getLineHandle: function(line) {if (isLine(this, line)) { return getLine(this, line) }},\n\t\t    getLineNumber: function(line) {return lineNo(line)},\n\n\t\t    getLineHandleVisualStart: function(line) {\n\t\t      if (typeof line == \"number\") { line = getLine(this, line); }\n\t\t      return visualLine(line)\n\t\t    },\n\n\t\t    lineCount: function() {return this.size},\n\t\t    firstLine: function() {return this.first},\n\t\t    lastLine: function() {return this.first + this.size - 1},\n\n\t\t    clipPos: function(pos) {return clipPos(this, pos)},\n\n\t\t    getCursor: function(start) {\n\t\t      var range = this.sel.primary(), pos;\n\t\t      if (start == null || start == \"head\") { pos = range.head; }\n\t\t      else if (start == \"anchor\") { pos = range.anchor; }\n\t\t      else if (start == \"end\" || start == \"to\" || start === false) { pos = range.to(); }\n\t\t      else { pos = range.from(); }\n\t\t      return pos\n\t\t    },\n\t\t    listSelections: function() { return this.sel.ranges },\n\t\t    somethingSelected: function() {return this.sel.somethingSelected()},\n\n\t\t    setCursor: docMethodOp(function(line, ch, options) {\n\t\t      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n\t\t    }),\n\t\t    setSelection: docMethodOp(function(anchor, head, options) {\n\t\t      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n\t\t    }),\n\t\t    extendSelection: docMethodOp(function(head, other, options) {\n\t\t      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n\t\t    }),\n\t\t    extendSelections: docMethodOp(function(heads, options) {\n\t\t      extendSelections(this, clipPosArray(this, heads), options);\n\t\t    }),\n\t\t    extendSelectionsBy: docMethodOp(function(f, options) {\n\t\t      var heads = map(this.sel.ranges, f);\n\t\t      extendSelections(this, clipPosArray(this, heads), options);\n\t\t    }),\n\t\t    setSelections: docMethodOp(function(ranges, primary, options) {\n\t\t      if (!ranges.length) { return }\n\t\t      var out = [];\n\t\t      for (var i = 0; i < ranges.length; i++)\n\t\t        { out[i] = new Range(clipPos(this, ranges[i].anchor),\n\t\t                           clipPos(this, ranges[i].head || ranges[i].anchor)); }\n\t\t      if (primary == null) { primary = Math.min(ranges.length - 1, this.sel.primIndex); }\n\t\t      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n\t\t    }),\n\t\t    addSelection: docMethodOp(function(anchor, head, options) {\n\t\t      var ranges = this.sel.ranges.slice(0);\n\t\t      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n\t\t      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n\t\t    }),\n\n\t\t    getSelection: function(lineSep) {\n\t\t      var ranges = this.sel.ranges, lines;\n\t\t      for (var i = 0; i < ranges.length; i++) {\n\t\t        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\t\t        lines = lines ? lines.concat(sel) : sel;\n\t\t      }\n\t\t      if (lineSep === false) { return lines }\n\t\t      else { return lines.join(lineSep || this.lineSeparator()) }\n\t\t    },\n\t\t    getSelections: function(lineSep) {\n\t\t      var parts = [], ranges = this.sel.ranges;\n\t\t      for (var i = 0; i < ranges.length; i++) {\n\t\t        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\t\t        if (lineSep !== false) { sel = sel.join(lineSep || this.lineSeparator()); }\n\t\t        parts[i] = sel;\n\t\t      }\n\t\t      return parts\n\t\t    },\n\t\t    replaceSelection: function(code, collapse, origin) {\n\t\t      var dup = [];\n\t\t      for (var i = 0; i < this.sel.ranges.length; i++)\n\t\t        { dup[i] = code; }\n\t\t      this.replaceSelections(dup, collapse, origin || \"+input\");\n\t\t    },\n\t\t    replaceSelections: docMethodOp(function(code, collapse, origin) {\n\t\t      var changes = [], sel = this.sel;\n\t\t      for (var i = 0; i < sel.ranges.length; i++) {\n\t\t        var range = sel.ranges[i];\n\t\t        changes[i] = {from: range.from(), to: range.to(), text: this.splitLines(code[i]), origin: origin};\n\t\t      }\n\t\t      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\t\t      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--)\n\t\t        { makeChange(this, changes[i$1]); }\n\t\t      if (newSel) { setSelectionReplaceHistory(this, newSel); }\n\t\t      else if (this.cm) { ensureCursorVisible(this.cm); }\n\t\t    }),\n\t\t    undo: docMethodOp(function() {makeChangeFromHistory(this, \"undo\");}),\n\t\t    redo: docMethodOp(function() {makeChangeFromHistory(this, \"redo\");}),\n\t\t    undoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"undo\", true);}),\n\t\t    redoSelection: docMethodOp(function() {makeChangeFromHistory(this, \"redo\", true);}),\n\n\t\t    setExtending: function(val) {this.extend = val;},\n\t\t    getExtending: function() {return this.extend},\n\n\t\t    historySize: function() {\n\t\t      var hist = this.history, done = 0, undone = 0;\n\t\t      for (var i = 0; i < hist.done.length; i++) { if (!hist.done[i].ranges) { ++done; } }\n\t\t      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) { if (!hist.undone[i$1].ranges) { ++undone; } }\n\t\t      return {undo: done, redo: undone}\n\t\t    },\n\t\t    clearHistory: function() {\n\t\t      var this$1$1 = this;\n\n\t\t      this.history = new History(this.history);\n\t\t      linkedDocs(this, function (doc) { return doc.history = this$1$1.history; }, true);\n\t\t    },\n\n\t\t    markClean: function() {\n\t\t      this.cleanGeneration = this.changeGeneration(true);\n\t\t    },\n\t\t    changeGeneration: function(forceSplit) {\n\t\t      if (forceSplit)\n\t\t        { this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null; }\n\t\t      return this.history.generation\n\t\t    },\n\t\t    isClean: function (gen) {\n\t\t      return this.history.generation == (gen || this.cleanGeneration)\n\t\t    },\n\n\t\t    getHistory: function() {\n\t\t      return {done: copyHistoryArray(this.history.done),\n\t\t              undone: copyHistoryArray(this.history.undone)}\n\t\t    },\n\t\t    setHistory: function(histData) {\n\t\t      var hist = this.history = new History(this.history);\n\t\t      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n\t\t      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n\t\t    },\n\n\t\t    setGutterMarker: docMethodOp(function(line, gutterID, value) {\n\t\t      return changeLine(this, line, \"gutter\", function (line) {\n\t\t        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n\t\t        markers[gutterID] = value;\n\t\t        if (!value && isEmpty(markers)) { line.gutterMarkers = null; }\n\t\t        return true\n\t\t      })\n\t\t    }),\n\n\t\t    clearGutter: docMethodOp(function(gutterID) {\n\t\t      var this$1$1 = this;\n\n\t\t      this.iter(function (line) {\n\t\t        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n\t\t          changeLine(this$1$1, line, \"gutter\", function () {\n\t\t            line.gutterMarkers[gutterID] = null;\n\t\t            if (isEmpty(line.gutterMarkers)) { line.gutterMarkers = null; }\n\t\t            return true\n\t\t          });\n\t\t        }\n\t\t      });\n\t\t    }),\n\n\t\t    lineInfo: function(line) {\n\t\t      var n;\n\t\t      if (typeof line == \"number\") {\n\t\t        if (!isLine(this, line)) { return null }\n\t\t        n = line;\n\t\t        line = getLine(this, line);\n\t\t        if (!line) { return null }\n\t\t      } else {\n\t\t        n = lineNo(line);\n\t\t        if (n == null) { return null }\n\t\t      }\n\t\t      return {line: n, handle: line, text: line.text, gutterMarkers: line.gutterMarkers,\n\t\t              textClass: line.textClass, bgClass: line.bgClass, wrapClass: line.wrapClass,\n\t\t              widgets: line.widgets}\n\t\t    },\n\n\t\t    addLineClass: docMethodOp(function(handle, where, cls) {\n\t\t      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n\t\t        var prop = where == \"text\" ? \"textClass\"\n\t\t                 : where == \"background\" ? \"bgClass\"\n\t\t                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\t\t        if (!line[prop]) { line[prop] = cls; }\n\t\t        else if (classTest(cls).test(line[prop])) { return false }\n\t\t        else { line[prop] += \" \" + cls; }\n\t\t        return true\n\t\t      })\n\t\t    }),\n\t\t    removeLineClass: docMethodOp(function(handle, where, cls) {\n\t\t      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n\t\t        var prop = where == \"text\" ? \"textClass\"\n\t\t                 : where == \"background\" ? \"bgClass\"\n\t\t                 : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\t\t        var cur = line[prop];\n\t\t        if (!cur) { return false }\n\t\t        else if (cls == null) { line[prop] = null; }\n\t\t        else {\n\t\t          var found = cur.match(classTest(cls));\n\t\t          if (!found) { return false }\n\t\t          var end = found.index + found[0].length;\n\t\t          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n\t\t        }\n\t\t        return true\n\t\t      })\n\t\t    }),\n\n\t\t    addLineWidget: docMethodOp(function(handle, node, options) {\n\t\t      return addLineWidget(this, handle, node, options)\n\t\t    }),\n\t\t    removeLineWidget: function(widget) { widget.clear(); },\n\n\t\t    markText: function(from, to, options) {\n\t\t      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\")\n\t\t    },\n\t\t    setBookmark: function(pos, options) {\n\t\t      var realOpts = {replacedWith: options && (options.nodeType == null ? options.widget : options),\n\t\t                      insertLeft: options && options.insertLeft,\n\t\t                      clearWhenEmpty: false, shared: options && options.shared,\n\t\t                      handleMouseEvents: options && options.handleMouseEvents};\n\t\t      pos = clipPos(this, pos);\n\t\t      return markText(this, pos, pos, realOpts, \"bookmark\")\n\t\t    },\n\t\t    findMarksAt: function(pos) {\n\t\t      pos = clipPos(this, pos);\n\t\t      var markers = [], spans = getLine(this, pos.line).markedSpans;\n\t\t      if (spans) { for (var i = 0; i < spans.length; ++i) {\n\t\t        var span = spans[i];\n\t\t        if ((span.from == null || span.from <= pos.ch) &&\n\t\t            (span.to == null || span.to >= pos.ch))\n\t\t          { markers.push(span.marker.parent || span.marker); }\n\t\t      } }\n\t\t      return markers\n\t\t    },\n\t\t    findMarks: function(from, to, filter) {\n\t\t      from = clipPos(this, from); to = clipPos(this, to);\n\t\t      var found = [], lineNo = from.line;\n\t\t      this.iter(from.line, to.line + 1, function (line) {\n\t\t        var spans = line.markedSpans;\n\t\t        if (spans) { for (var i = 0; i < spans.length; i++) {\n\t\t          var span = spans[i];\n\t\t          if (!(span.to != null && lineNo == from.line && from.ch >= span.to ||\n\t\t                span.from == null && lineNo != from.line ||\n\t\t                span.from != null && lineNo == to.line && span.from >= to.ch) &&\n\t\t              (!filter || filter(span.marker)))\n\t\t            { found.push(span.marker.parent || span.marker); }\n\t\t        } }\n\t\t        ++lineNo;\n\t\t      });\n\t\t      return found\n\t\t    },\n\t\t    getAllMarks: function() {\n\t\t      var markers = [];\n\t\t      this.iter(function (line) {\n\t\t        var sps = line.markedSpans;\n\t\t        if (sps) { for (var i = 0; i < sps.length; ++i)\n\t\t          { if (sps[i].from != null) { markers.push(sps[i].marker); } } }\n\t\t      });\n\t\t      return markers\n\t\t    },\n\n\t\t    posFromIndex: function(off) {\n\t\t      var ch, lineNo = this.first, sepSize = this.lineSeparator().length;\n\t\t      this.iter(function (line) {\n\t\t        var sz = line.text.length + sepSize;\n\t\t        if (sz > off) { ch = off; return true }\n\t\t        off -= sz;\n\t\t        ++lineNo;\n\t\t      });\n\t\t      return clipPos(this, Pos(lineNo, ch))\n\t\t    },\n\t\t    indexFromPos: function (coords) {\n\t\t      coords = clipPos(this, coords);\n\t\t      var index = coords.ch;\n\t\t      if (coords.line < this.first || coords.ch < 0) { return 0 }\n\t\t      var sepSize = this.lineSeparator().length;\n\t\t      this.iter(this.first, coords.line, function (line) { // iter aborts when callback returns a truthy value\n\t\t        index += line.text.length + sepSize;\n\t\t      });\n\t\t      return index\n\t\t    },\n\n\t\t    copy: function(copyHistory) {\n\t\t      var doc = new Doc(getLines(this, this.first, this.first + this.size),\n\t\t                        this.modeOption, this.first, this.lineSep, this.direction);\n\t\t      doc.scrollTop = this.scrollTop; doc.scrollLeft = this.scrollLeft;\n\t\t      doc.sel = this.sel;\n\t\t      doc.extend = false;\n\t\t      if (copyHistory) {\n\t\t        doc.history.undoDepth = this.history.undoDepth;\n\t\t        doc.setHistory(this.getHistory());\n\t\t      }\n\t\t      return doc\n\t\t    },\n\n\t\t    linkedDoc: function(options) {\n\t\t      if (!options) { options = {}; }\n\t\t      var from = this.first, to = this.first + this.size;\n\t\t      if (options.from != null && options.from > from) { from = options.from; }\n\t\t      if (options.to != null && options.to < to) { to = options.to; }\n\t\t      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\t\t      if (options.sharedHist) { copy.history = this.history\n\t\t      ; }(this.linked || (this.linked = [])).push({doc: copy, sharedHist: options.sharedHist});\n\t\t      copy.linked = [{doc: this, isParent: true, sharedHist: options.sharedHist}];\n\t\t      copySharedMarkers(copy, findSharedMarkers(this));\n\t\t      return copy\n\t\t    },\n\t\t    unlinkDoc: function(other) {\n\t\t      if (other instanceof CodeMirror) { other = other.doc; }\n\t\t      if (this.linked) { for (var i = 0; i < this.linked.length; ++i) {\n\t\t        var link = this.linked[i];\n\t\t        if (link.doc != other) { continue }\n\t\t        this.linked.splice(i, 1);\n\t\t        other.unlinkDoc(this);\n\t\t        detachSharedMarkers(findSharedMarkers(this));\n\t\t        break\n\t\t      } }\n\t\t      // If the histories were shared, split them again\n\t\t      if (other.history == this.history) {\n\t\t        var splitIds = [other.id];\n\t\t        linkedDocs(other, function (doc) { return splitIds.push(doc.id); }, true);\n\t\t        other.history = new History(null);\n\t\t        other.history.done = copyHistoryArray(this.history.done, splitIds);\n\t\t        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n\t\t      }\n\t\t    },\n\t\t    iterLinkedDocs: function(f) {linkedDocs(this, f);},\n\n\t\t    getMode: function() {return this.mode},\n\t\t    getEditor: function() {return this.cm},\n\n\t\t    splitLines: function(str) {\n\t\t      if (this.lineSep) { return str.split(this.lineSep) }\n\t\t      return splitLinesAuto(str)\n\t\t    },\n\t\t    lineSeparator: function() { return this.lineSep || \"\\n\" },\n\n\t\t    setDirection: docMethodOp(function (dir) {\n\t\t      if (dir != \"rtl\") { dir = \"ltr\"; }\n\t\t      if (dir == this.direction) { return }\n\t\t      this.direction = dir;\n\t\t      this.iter(function (line) { return line.order = null; });\n\t\t      if (this.cm) { directionChanged(this.cm); }\n\t\t    })\n\t\t  });\n\n\t\t  // Public alias.\n\t\t  Doc.prototype.eachLine = Doc.prototype.iter;\n\n\t\t  // Kludge to work around strange IE behavior where it'll sometimes\n\t\t  // re-fire a series of drag-related events right after the drop (#1551)\n\t\t  var lastDrop = 0;\n\n\t\t  function onDrop(e) {\n\t\t    var cm = this;\n\t\t    clearDragCursor(cm);\n\t\t    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e))\n\t\t      { return }\n\t\t    e_preventDefault(e);\n\t\t    if (ie) { lastDrop = +new Date; }\n\t\t    var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;\n\t\t    if (!pos || cm.isReadOnly()) { return }\n\t\t    // Might be a file drop, in which case we simply extract the text\n\t\t    // and insert it.\n\t\t    if (files && files.length && window.FileReader && window.File) {\n\t\t      var n = files.length, text = Array(n), read = 0;\n\t\t      var markAsReadAndPasteIfAllFilesAreRead = function () {\n\t\t        if (++read == n) {\n\t\t          operation(cm, function () {\n\t\t            pos = clipPos(cm.doc, pos);\n\t\t            var change = {from: pos, to: pos,\n\t\t                          text: cm.doc.splitLines(\n\t\t                              text.filter(function (t) { return t != null; }).join(cm.doc.lineSeparator())),\n\t\t                          origin: \"paste\"};\n\t\t            makeChange(cm.doc, change);\n\t\t            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n\t\t          })();\n\t\t        }\n\t\t      };\n\t\t      var readTextFromFile = function (file, i) {\n\t\t        if (cm.options.allowDropFileTypes &&\n\t\t            indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n\t\t          markAsReadAndPasteIfAllFilesAreRead();\n\t\t          return\n\t\t        }\n\t\t        var reader = new FileReader;\n\t\t        reader.onerror = function () { return markAsReadAndPasteIfAllFilesAreRead(); };\n\t\t        reader.onload = function () {\n\t\t          var content = reader.result;\n\t\t          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n\t\t            markAsReadAndPasteIfAllFilesAreRead();\n\t\t            return\n\t\t          }\n\t\t          text[i] = content;\n\t\t          markAsReadAndPasteIfAllFilesAreRead();\n\t\t        };\n\t\t        reader.readAsText(file);\n\t\t      };\n\t\t      for (var i = 0; i < files.length; i++) { readTextFromFile(files[i], i); }\n\t\t    } else { // Normal drop\n\t\t      // Don't do a replace if the drop happened inside of the selected text.\n\t\t      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n\t\t        cm.state.draggingText(e);\n\t\t        // Ensure the editor is re-focused\n\t\t        setTimeout(function () { return cm.display.input.focus(); }, 20);\n\t\t        return\n\t\t      }\n\t\t      try {\n\t\t        var text$1 = e.dataTransfer.getData(\"Text\");\n\t\t        if (text$1) {\n\t\t          var selected;\n\t\t          if (cm.state.draggingText && !cm.state.draggingText.copy)\n\t\t            { selected = cm.listSelections(); }\n\t\t          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\t\t          if (selected) { for (var i$1 = 0; i$1 < selected.length; ++i$1)\n\t\t            { replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\"); } }\n\t\t          cm.replaceSelection(text$1, \"around\", \"paste\");\n\t\t          cm.display.input.focus();\n\t\t        }\n\t\t      }\n\t\t      catch(e$1){}\n\t\t    }\n\t\t  }\n\n\t\t  function onDragStart(cm, e) {\n\t\t    if (ie && (!cm.state.draggingText || +new Date - lastDrop < 100)) { e_stop(e); return }\n\t\t    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) { return }\n\n\t\t    e.dataTransfer.setData(\"Text\", cm.getSelection());\n\t\t    e.dataTransfer.effectAllowed = \"copyMove\";\n\n\t\t    // Use dummy image instead of default browsers image.\n\t\t    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\t\t    if (e.dataTransfer.setDragImage && !safari) {\n\t\t      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n\t\t      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\t\t      if (presto) {\n\t\t        img.width = img.height = 1;\n\t\t        cm.display.wrapper.appendChild(img);\n\t\t        // Force a relayout, or Opera won't use our image for some obscure reason\n\t\t        img._top = img.offsetTop;\n\t\t      }\n\t\t      e.dataTransfer.setDragImage(img, 0, 0);\n\t\t      if (presto) { img.parentNode.removeChild(img); }\n\t\t    }\n\t\t  }\n\n\t\t  function onDragOver(cm, e) {\n\t\t    var pos = posFromMouse(cm, e);\n\t\t    if (!pos) { return }\n\t\t    var frag = document.createDocumentFragment();\n\t\t    drawSelectionCursor(cm, pos, frag);\n\t\t    if (!cm.display.dragCursor) {\n\t\t      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n\t\t      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n\t\t    }\n\t\t    removeChildrenAndAdd(cm.display.dragCursor, frag);\n\t\t  }\n\n\t\t  function clearDragCursor(cm) {\n\t\t    if (cm.display.dragCursor) {\n\t\t      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n\t\t      cm.display.dragCursor = null;\n\t\t    }\n\t\t  }\n\n\t\t  // These must be handled carefully, because naively registering a\n\t\t  // handler for each editor will cause the editors to never be\n\t\t  // garbage collected.\n\n\t\t  function forEachCodeMirror(f) {\n\t\t    if (!document.getElementsByClassName) { return }\n\t\t    var byClass = document.getElementsByClassName(\"CodeMirror\"), editors = [];\n\t\t    for (var i = 0; i < byClass.length; i++) {\n\t\t      var cm = byClass[i].CodeMirror;\n\t\t      if (cm) { editors.push(cm); }\n\t\t    }\n\t\t    if (editors.length) { editors[0].operation(function () {\n\t\t      for (var i = 0; i < editors.length; i++) { f(editors[i]); }\n\t\t    }); }\n\t\t  }\n\n\t\t  var globalsRegistered = false;\n\t\t  function ensureGlobalHandlers() {\n\t\t    if (globalsRegistered) { return }\n\t\t    registerGlobalHandlers();\n\t\t    globalsRegistered = true;\n\t\t  }\n\t\t  function registerGlobalHandlers() {\n\t\t    // When the window resizes, we need to refresh active editors.\n\t\t    var resizeTimer;\n\t\t    on(window, \"resize\", function () {\n\t\t      if (resizeTimer == null) { resizeTimer = setTimeout(function () {\n\t\t        resizeTimer = null;\n\t\t        forEachCodeMirror(onResize);\n\t\t      }, 100); }\n\t\t    });\n\t\t    // When the window loses focus, we want to show the editor as blurred\n\t\t    on(window, \"blur\", function () { return forEachCodeMirror(onBlur); });\n\t\t  }\n\t\t  // Called when the window resizes\n\t\t  function onResize(cm) {\n\t\t    var d = cm.display;\n\t\t    // Might be a text scaling operation, clear size caches.\n\t\t    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n\t\t    d.scrollbarsClipped = false;\n\t\t    cm.setSize();\n\t\t  }\n\n\t\t  var keyNames = {\n\t\t    3: \"Pause\", 8: \"Backspace\", 9: \"Tab\", 13: \"Enter\", 16: \"Shift\", 17: \"Ctrl\", 18: \"Alt\",\n\t\t    19: \"Pause\", 20: \"CapsLock\", 27: \"Esc\", 32: \"Space\", 33: \"PageUp\", 34: \"PageDown\", 35: \"End\",\n\t\t    36: \"Home\", 37: \"Left\", 38: \"Up\", 39: \"Right\", 40: \"Down\", 44: \"PrintScrn\", 45: \"Insert\",\n\t\t    46: \"Delete\", 59: \";\", 61: \"=\", 91: \"Mod\", 92: \"Mod\", 93: \"Mod\",\n\t\t    106: \"*\", 107: \"=\", 109: \"-\", 110: \".\", 111: \"/\", 145: \"ScrollLock\",\n\t\t    173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\",\n\t\t    221: \"]\", 222: \"'\", 224: \"Mod\", 63232: \"Up\", 63233: \"Down\", 63234: \"Left\", 63235: \"Right\", 63272: \"Delete\",\n\t\t    63273: \"Home\", 63275: \"End\", 63276: \"PageUp\", 63277: \"PageDown\", 63302: \"Insert\"\n\t\t  };\n\n\t\t  // Number keys\n\t\t  for (var i = 0; i < 10; i++) { keyNames[i + 48] = keyNames[i + 96] = String(i); }\n\t\t  // Alphabetic keys\n\t\t  for (var i$1 = 65; i$1 <= 90; i$1++) { keyNames[i$1] = String.fromCharCode(i$1); }\n\t\t  // Function keys\n\t\t  for (var i$2 = 1; i$2 <= 12; i$2++) { keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2; }\n\n\t\t  var keyMap = {};\n\n\t\t  keyMap.basic = {\n\t\t    \"Left\": \"goCharLeft\", \"Right\": \"goCharRight\", \"Up\": \"goLineUp\", \"Down\": \"goLineDown\",\n\t\t    \"End\": \"goLineEnd\", \"Home\": \"goLineStartSmart\", \"PageUp\": \"goPageUp\", \"PageDown\": \"goPageDown\",\n\t\t    \"Delete\": \"delCharAfter\", \"Backspace\": \"delCharBefore\", \"Shift-Backspace\": \"delCharBefore\",\n\t\t    \"Tab\": \"defaultTab\", \"Shift-Tab\": \"indentAuto\",\n\t\t    \"Enter\": \"newlineAndIndent\", \"Insert\": \"toggleOverwrite\",\n\t\t    \"Esc\": \"singleSelection\"\n\t\t  };\n\t\t  // Note that the save and find-related commands aren't defined by\n\t\t  // default. User code or addons can define them. Unknown commands\n\t\t  // are simply ignored.\n\t\t  keyMap.pcDefault = {\n\t\t    \"Ctrl-A\": \"selectAll\", \"Ctrl-D\": \"deleteLine\", \"Ctrl-Z\": \"undo\", \"Shift-Ctrl-Z\": \"redo\", \"Ctrl-Y\": \"redo\",\n\t\t    \"Ctrl-Home\": \"goDocStart\", \"Ctrl-End\": \"goDocEnd\", \"Ctrl-Up\": \"goLineUp\", \"Ctrl-Down\": \"goLineDown\",\n\t\t    \"Ctrl-Left\": \"goGroupLeft\", \"Ctrl-Right\": \"goGroupRight\", \"Alt-Left\": \"goLineStart\", \"Alt-Right\": \"goLineEnd\",\n\t\t    \"Ctrl-Backspace\": \"delGroupBefore\", \"Ctrl-Delete\": \"delGroupAfter\", \"Ctrl-S\": \"save\", \"Ctrl-F\": \"find\",\n\t\t    \"Ctrl-G\": \"findNext\", \"Shift-Ctrl-G\": \"findPrev\", \"Shift-Ctrl-F\": \"replace\", \"Shift-Ctrl-R\": \"replaceAll\",\n\t\t    \"Ctrl-[\": \"indentLess\", \"Ctrl-]\": \"indentMore\",\n\t\t    \"Ctrl-U\": \"undoSelection\", \"Shift-Ctrl-U\": \"redoSelection\", \"Alt-U\": \"redoSelection\",\n\t\t    \"fallthrough\": \"basic\"\n\t\t  };\n\t\t  // Very basic readline/emacs-style bindings, which are standard on Mac.\n\t\t  keyMap.emacsy = {\n\t\t    \"Ctrl-F\": \"goCharRight\", \"Ctrl-B\": \"goCharLeft\", \"Ctrl-P\": \"goLineUp\", \"Ctrl-N\": \"goLineDown\",\n\t\t    \"Ctrl-A\": \"goLineStart\", \"Ctrl-E\": \"goLineEnd\", \"Ctrl-V\": \"goPageDown\", \"Shift-Ctrl-V\": \"goPageUp\",\n\t\t    \"Ctrl-D\": \"delCharAfter\", \"Ctrl-H\": \"delCharBefore\", \"Alt-Backspace\": \"delWordBefore\", \"Ctrl-K\": \"killLine\",\n\t\t    \"Ctrl-T\": \"transposeChars\", \"Ctrl-O\": \"openLine\"\n\t\t  };\n\t\t  keyMap.macDefault = {\n\t\t    \"Cmd-A\": \"selectAll\", \"Cmd-D\": \"deleteLine\", \"Cmd-Z\": \"undo\", \"Shift-Cmd-Z\": \"redo\", \"Cmd-Y\": \"redo\",\n\t\t    \"Cmd-Home\": \"goDocStart\", \"Cmd-Up\": \"goDocStart\", \"Cmd-End\": \"goDocEnd\", \"Cmd-Down\": \"goDocEnd\", \"Alt-Left\": \"goGroupLeft\",\n\t\t    \"Alt-Right\": \"goGroupRight\", \"Cmd-Left\": \"goLineLeft\", \"Cmd-Right\": \"goLineRight\", \"Alt-Backspace\": \"delGroupBefore\",\n\t\t    \"Ctrl-Alt-Backspace\": \"delGroupAfter\", \"Alt-Delete\": \"delGroupAfter\", \"Cmd-S\": \"save\", \"Cmd-F\": \"find\",\n\t\t    \"Cmd-G\": \"findNext\", \"Shift-Cmd-G\": \"findPrev\", \"Cmd-Alt-F\": \"replace\", \"Shift-Cmd-Alt-F\": \"replaceAll\",\n\t\t    \"Cmd-[\": \"indentLess\", \"Cmd-]\": \"indentMore\", \"Cmd-Backspace\": \"delWrappedLineLeft\", \"Cmd-Delete\": \"delWrappedLineRight\",\n\t\t    \"Cmd-U\": \"undoSelection\", \"Shift-Cmd-U\": \"redoSelection\", \"Ctrl-Up\": \"goDocStart\", \"Ctrl-Down\": \"goDocEnd\",\n\t\t    \"fallthrough\": [\"basic\", \"emacsy\"]\n\t\t  };\n\t\t  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault;\n\n\t\t  // KEYMAP DISPATCH\n\n\t\t  function normalizeKeyName(name) {\n\t\t    var parts = name.split(/-(?!$)/);\n\t\t    name = parts[parts.length - 1];\n\t\t    var alt, ctrl, shift, cmd;\n\t\t    for (var i = 0; i < parts.length - 1; i++) {\n\t\t      var mod = parts[i];\n\t\t      if (/^(cmd|meta|m)$/i.test(mod)) { cmd = true; }\n\t\t      else if (/^a(lt)?$/i.test(mod)) { alt = true; }\n\t\t      else if (/^(c|ctrl|control)$/i.test(mod)) { ctrl = true; }\n\t\t      else if (/^s(hift)?$/i.test(mod)) { shift = true; }\n\t\t      else { throw new Error(\"Unrecognized modifier name: \" + mod) }\n\t\t    }\n\t\t    if (alt) { name = \"Alt-\" + name; }\n\t\t    if (ctrl) { name = \"Ctrl-\" + name; }\n\t\t    if (cmd) { name = \"Cmd-\" + name; }\n\t\t    if (shift) { name = \"Shift-\" + name; }\n\t\t    return name\n\t\t  }\n\n\t\t  // This is a kludge to keep keymaps mostly working as raw objects\n\t\t  // (backwards compatibility) while at the same time support features\n\t\t  // like normalization and multi-stroke key bindings. It compiles a\n\t\t  // new normalized keymap, and then updates the old object to reflect\n\t\t  // this.\n\t\t  function normalizeKeyMap(keymap) {\n\t\t    var copy = {};\n\t\t    for (var keyname in keymap) { if (keymap.hasOwnProperty(keyname)) {\n\t\t      var value = keymap[keyname];\n\t\t      if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) { continue }\n\t\t      if (value == \"...\") { delete keymap[keyname]; continue }\n\n\t\t      var keys = map(keyname.split(\" \"), normalizeKeyName);\n\t\t      for (var i = 0; i < keys.length; i++) {\n\t\t        var val = (undefined), name = (undefined);\n\t\t        if (i == keys.length - 1) {\n\t\t          name = keys.join(\" \");\n\t\t          val = value;\n\t\t        } else {\n\t\t          name = keys.slice(0, i + 1).join(\" \");\n\t\t          val = \"...\";\n\t\t        }\n\t\t        var prev = copy[name];\n\t\t        if (!prev) { copy[name] = val; }\n\t\t        else if (prev != val) { throw new Error(\"Inconsistent bindings for \" + name) }\n\t\t      }\n\t\t      delete keymap[keyname];\n\t\t    } }\n\t\t    for (var prop in copy) { keymap[prop] = copy[prop]; }\n\t\t    return keymap\n\t\t  }\n\n\t\t  function lookupKey(key, map, handle, context) {\n\t\t    map = getKeyMap(map);\n\t\t    var found = map.call ? map.call(key, context) : map[key];\n\t\t    if (found === false) { return \"nothing\" }\n\t\t    if (found === \"...\") { return \"multi\" }\n\t\t    if (found != null && handle(found)) { return \"handled\" }\n\n\t\t    if (map.fallthrough) {\n\t\t      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\")\n\t\t        { return lookupKey(key, map.fallthrough, handle, context) }\n\t\t      for (var i = 0; i < map.fallthrough.length; i++) {\n\t\t        var result = lookupKey(key, map.fallthrough[i], handle, context);\n\t\t        if (result) { return result }\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  // Modifier key presses don't count as 'real' key presses for the\n\t\t  // purpose of keymap fallthrough.\n\t\t  function isModifierKey(value) {\n\t\t    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n\t\t    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\"\n\t\t  }\n\n\t\t  function addModifierNames(name, event, noShift) {\n\t\t    var base = name;\n\t\t    if (event.altKey && base != \"Alt\") { name = \"Alt-\" + name; }\n\t\t    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") { name = \"Ctrl-\" + name; }\n\t\t    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Mod\") { name = \"Cmd-\" + name; }\n\t\t    if (!noShift && event.shiftKey && base != \"Shift\") { name = \"Shift-\" + name; }\n\t\t    return name\n\t\t  }\n\n\t\t  // Look up the name of a key as indicated by an event object.\n\t\t  function keyName(event, noShift) {\n\t\t    if (presto && event.keyCode == 34 && event[\"char\"]) { return false }\n\t\t    var name = keyNames[event.keyCode];\n\t\t    if (name == null || event.altGraphKey) { return false }\n\t\t    // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n\t\t    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\t\t    if (event.keyCode == 3 && event.code) { name = event.code; }\n\t\t    return addModifierNames(name, event, noShift)\n\t\t  }\n\n\t\t  function getKeyMap(val) {\n\t\t    return typeof val == \"string\" ? keyMap[val] : val\n\t\t  }\n\n\t\t  // Helper for deleting text near the selection(s), used to implement\n\t\t  // backspace, delete, and similar functionality.\n\t\t  function deleteNearSelection(cm, compute) {\n\t\t    var ranges = cm.doc.sel.ranges, kill = [];\n\t\t    // Build up a set of ranges to kill first, merging overlapping\n\t\t    // ranges.\n\t\t    for (var i = 0; i < ranges.length; i++) {\n\t\t      var toKill = compute(ranges[i]);\n\t\t      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n\t\t        var replaced = kill.pop();\n\t\t        if (cmp(replaced.from, toKill.from) < 0) {\n\t\t          toKill.from = replaced.from;\n\t\t          break\n\t\t        }\n\t\t      }\n\t\t      kill.push(toKill);\n\t\t    }\n\t\t    // Next, remove those actual ranges.\n\t\t    runInOp(cm, function () {\n\t\t      for (var i = kill.length - 1; i >= 0; i--)\n\t\t        { replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\"); }\n\t\t      ensureCursorVisible(cm);\n\t\t    });\n\t\t  }\n\n\t\t  function moveCharLogically(line, ch, dir) {\n\t\t    var target = skipExtendingChars(line.text, ch + dir, dir);\n\t\t    return target < 0 || target > line.text.length ? null : target\n\t\t  }\n\n\t\t  function moveLogically(line, start, dir) {\n\t\t    var ch = moveCharLogically(line, start.ch, dir);\n\t\t    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\")\n\t\t  }\n\n\t\t  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n\t\t    if (visually) {\n\t\t      if (cm.doc.direction == \"rtl\") { dir = -dir; }\n\t\t      var order = getOrder(lineObj, cm.doc.direction);\n\t\t      if (order) {\n\t\t        var part = dir < 0 ? lst(order) : order[0];\n\t\t        var moveInStorageOrder = (dir < 0) == (part.level == 1);\n\t\t        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n\t\t        var ch;\n\t\t        // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n\t\t        // it could be that the last bidi part is not on the last visual line,\n\t\t        // since visual lines contain content order-consecutive chunks.\n\t\t        // Thus, in rtl, we are looking for the first (content-order) character\n\t\t        // in the rtl chunk that is on the last line (that is, the same line\n\t\t        // as the last (content-order) character).\n\t\t        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n\t\t          var prep = prepareMeasureForLine(cm, lineObj);\n\t\t          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n\t\t          var targetTop = measureCharPrepared(cm, prep, ch).top;\n\t\t          ch = findFirst(function (ch) { return measureCharPrepared(cm, prep, ch).top == targetTop; }, (dir < 0) == (part.level == 1) ? part.from : part.to - 1, ch);\n\t\t          if (sticky == \"before\") { ch = moveCharLogically(lineObj, ch, 1); }\n\t\t        } else { ch = dir < 0 ? part.to : part.from; }\n\t\t        return new Pos(lineNo, ch, sticky)\n\t\t      }\n\t\t    }\n\t\t    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\")\n\t\t  }\n\n\t\t  function moveVisually(cm, line, start, dir) {\n\t\t    var bidi = getOrder(line, cm.doc.direction);\n\t\t    if (!bidi) { return moveLogically(line, start, dir) }\n\t\t    if (start.ch >= line.text.length) {\n\t\t      start.ch = line.text.length;\n\t\t      start.sticky = \"before\";\n\t\t    } else if (start.ch <= 0) {\n\t\t      start.ch = 0;\n\t\t      start.sticky = \"after\";\n\t\t    }\n\t\t    var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];\n\t\t    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n\t\t      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n\t\t      // nothing interesting happens.\n\t\t      return moveLogically(line, start, dir)\n\t\t    }\n\n\t\t    var mv = function (pos, dir) { return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir); };\n\t\t    var prep;\n\t\t    var getWrappedLineExtent = function (ch) {\n\t\t      if (!cm.options.lineWrapping) { return {begin: 0, end: line.text.length} }\n\t\t      prep = prep || prepareMeasureForLine(cm, line);\n\t\t      return wrappedLineExtentChar(cm, line, prep, ch)\n\t\t    };\n\t\t    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n\t\t    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n\t\t      var moveInStorageOrder = (part.level == 1) == (dir < 0);\n\t\t      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\t\t      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n\t\t        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n\t\t        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n\t\t        return new Pos(start.line, ch, sticky)\n\t\t      }\n\t\t    }\n\n\t\t    // Case 3: Could not move within this bidi part in this visual line, so leave\n\t\t    // the current bidi part\n\n\t\t    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n\t\t      var getRes = function (ch, moveInStorageOrder) { return moveInStorageOrder\n\t\t        ? new Pos(start.line, mv(ch, 1), \"before\")\n\t\t        : new Pos(start.line, ch, \"after\"); };\n\n\t\t      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n\t\t        var part = bidi[partPos];\n\t\t        var moveInStorageOrder = (dir > 0) == (part.level != 1);\n\t\t        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\t\t        if (part.from <= ch && ch < part.to) { return getRes(ch, moveInStorageOrder) }\n\t\t        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\t\t        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) { return getRes(ch, moveInStorageOrder) }\n\t\t      }\n\t\t    };\n\n\t\t    // Case 3a: Look for other bidi parts on the same visual line\n\t\t    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\t\t    if (res) { return res }\n\n\t\t    // Case 3b: Look for other bidi parts on the next visual line\n\t\t    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\t\t    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n\t\t      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\t\t      if (res) { return res }\n\t\t    }\n\n\t\t    // Case 4: Nowhere to move\n\t\t    return null\n\t\t  }\n\n\t\t  // Commands are parameter-less actions that can be performed on an\n\t\t  // editor, mostly used for keybindings.\n\t\t  var commands = {\n\t\t    selectAll: selectAll,\n\t\t    singleSelection: function (cm) { return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll); },\n\t\t    killLine: function (cm) { return deleteNearSelection(cm, function (range) {\n\t\t      if (range.empty()) {\n\t\t        var len = getLine(cm.doc, range.head.line).text.length;\n\t\t        if (range.head.ch == len && range.head.line < cm.lastLine())\n\t\t          { return {from: range.head, to: Pos(range.head.line + 1, 0)} }\n\t\t        else\n\t\t          { return {from: range.head, to: Pos(range.head.line, len)} }\n\t\t      } else {\n\t\t        return {from: range.from(), to: range.to()}\n\t\t      }\n\t\t    }); },\n\t\t    deleteLine: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n\t\t      from: Pos(range.from().line, 0),\n\t\t      to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n\t\t    }); }); },\n\t\t    delLineLeft: function (cm) { return deleteNearSelection(cm, function (range) { return ({\n\t\t      from: Pos(range.from().line, 0), to: range.from()\n\t\t    }); }); },\n\t\t    delWrappedLineLeft: function (cm) { return deleteNearSelection(cm, function (range) {\n\t\t      var top = cm.charCoords(range.head, \"div\").top + 5;\n\t\t      var leftPos = cm.coordsChar({left: 0, top: top}, \"div\");\n\t\t      return {from: leftPos, to: range.from()}\n\t\t    }); },\n\t\t    delWrappedLineRight: function (cm) { return deleteNearSelection(cm, function (range) {\n\t\t      var top = cm.charCoords(range.head, \"div\").top + 5;\n\t\t      var rightPos = cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\");\n\t\t      return {from: range.from(), to: rightPos }\n\t\t    }); },\n\t\t    undo: function (cm) { return cm.undo(); },\n\t\t    redo: function (cm) { return cm.redo(); },\n\t\t    undoSelection: function (cm) { return cm.undoSelection(); },\n\t\t    redoSelection: function (cm) { return cm.redoSelection(); },\n\t\t    goDocStart: function (cm) { return cm.extendSelection(Pos(cm.firstLine(), 0)); },\n\t\t    goDocEnd: function (cm) { return cm.extendSelection(Pos(cm.lastLine())); },\n\t\t    goLineStart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStart(cm, range.head.line); },\n\t\t      {origin: \"+move\", bias: 1}\n\t\t    ); },\n\t\t    goLineStartSmart: function (cm) { return cm.extendSelectionsBy(function (range) { return lineStartSmart(cm, range.head); },\n\t\t      {origin: \"+move\", bias: 1}\n\t\t    ); },\n\t\t    goLineEnd: function (cm) { return cm.extendSelectionsBy(function (range) { return lineEnd(cm, range.head.line); },\n\t\t      {origin: \"+move\", bias: -1}\n\t\t    ); },\n\t\t    goLineRight: function (cm) { return cm.extendSelectionsBy(function (range) {\n\t\t      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n\t\t      return cm.coordsChar({left: cm.display.lineDiv.offsetWidth + 100, top: top}, \"div\")\n\t\t    }, sel_move); },\n\t\t    goLineLeft: function (cm) { return cm.extendSelectionsBy(function (range) {\n\t\t      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n\t\t      return cm.coordsChar({left: 0, top: top}, \"div\")\n\t\t    }, sel_move); },\n\t\t    goLineLeftSmart: function (cm) { return cm.extendSelectionsBy(function (range) {\n\t\t      var top = cm.cursorCoords(range.head, \"div\").top + 5;\n\t\t      var pos = cm.coordsChar({left: 0, top: top}, \"div\");\n\t\t      if (pos.ch < cm.getLine(pos.line).search(/\\S/)) { return lineStartSmart(cm, range.head) }\n\t\t      return pos\n\t\t    }, sel_move); },\n\t\t    goLineUp: function (cm) { return cm.moveV(-1, \"line\"); },\n\t\t    goLineDown: function (cm) { return cm.moveV(1, \"line\"); },\n\t\t    goPageUp: function (cm) { return cm.moveV(-1, \"page\"); },\n\t\t    goPageDown: function (cm) { return cm.moveV(1, \"page\"); },\n\t\t    goCharLeft: function (cm) { return cm.moveH(-1, \"char\"); },\n\t\t    goCharRight: function (cm) { return cm.moveH(1, \"char\"); },\n\t\t    goColumnLeft: function (cm) { return cm.moveH(-1, \"column\"); },\n\t\t    goColumnRight: function (cm) { return cm.moveH(1, \"column\"); },\n\t\t    goWordLeft: function (cm) { return cm.moveH(-1, \"word\"); },\n\t\t    goGroupRight: function (cm) { return cm.moveH(1, \"group\"); },\n\t\t    goGroupLeft: function (cm) { return cm.moveH(-1, \"group\"); },\n\t\t    goWordRight: function (cm) { return cm.moveH(1, \"word\"); },\n\t\t    delCharBefore: function (cm) { return cm.deleteH(-1, \"codepoint\"); },\n\t\t    delCharAfter: function (cm) { return cm.deleteH(1, \"char\"); },\n\t\t    delWordBefore: function (cm) { return cm.deleteH(-1, \"word\"); },\n\t\t    delWordAfter: function (cm) { return cm.deleteH(1, \"word\"); },\n\t\t    delGroupBefore: function (cm) { return cm.deleteH(-1, \"group\"); },\n\t\t    delGroupAfter: function (cm) { return cm.deleteH(1, \"group\"); },\n\t\t    indentAuto: function (cm) { return cm.indentSelection(\"smart\"); },\n\t\t    indentMore: function (cm) { return cm.indentSelection(\"add\"); },\n\t\t    indentLess: function (cm) { return cm.indentSelection(\"subtract\"); },\n\t\t    insertTab: function (cm) { return cm.replaceSelection(\"\\t\"); },\n\t\t    insertSoftTab: function (cm) {\n\t\t      var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;\n\t\t      for (var i = 0; i < ranges.length; i++) {\n\t\t        var pos = ranges[i].from();\n\t\t        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n\t\t        spaces.push(spaceStr(tabSize - col % tabSize));\n\t\t      }\n\t\t      cm.replaceSelections(spaces);\n\t\t    },\n\t\t    defaultTab: function (cm) {\n\t\t      if (cm.somethingSelected()) { cm.indentSelection(\"add\"); }\n\t\t      else { cm.execCommand(\"insertTab\"); }\n\t\t    },\n\t\t    // Swap the two chars left and right of each selection's head.\n\t\t    // Move cursor behind the two swapped characters afterwards.\n\t\t    //\n\t\t    // Doesn't consider line feeds a character.\n\t\t    // Doesn't scan more than one line above to find a character.\n\t\t    // Doesn't do anything on an empty line.\n\t\t    // Doesn't do anything with non-empty selections.\n\t\t    transposeChars: function (cm) { return runInOp(cm, function () {\n\t\t      var ranges = cm.listSelections(), newSel = [];\n\t\t      for (var i = 0; i < ranges.length; i++) {\n\t\t        if (!ranges[i].empty()) { continue }\n\t\t        var cur = ranges[i].head, line = getLine(cm.doc, cur.line).text;\n\t\t        if (line) {\n\t\t          if (cur.ch == line.length) { cur = new Pos(cur.line, cur.ch - 1); }\n\t\t          if (cur.ch > 0) {\n\t\t            cur = new Pos(cur.line, cur.ch + 1);\n\t\t            cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),\n\t\t                            Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n\t\t          } else if (cur.line > cm.doc.first) {\n\t\t            var prev = getLine(cm.doc, cur.line - 1).text;\n\t\t            if (prev) {\n\t\t              cur = new Pos(cur.line, 1);\n\t\t              cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() +\n\t\t                              prev.charAt(prev.length - 1),\n\t\t                              Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n\t\t            }\n\t\t          }\n\t\t        }\n\t\t        newSel.push(new Range(cur, cur));\n\t\t      }\n\t\t      cm.setSelections(newSel);\n\t\t    }); },\n\t\t    newlineAndIndent: function (cm) { return runInOp(cm, function () {\n\t\t      var sels = cm.listSelections();\n\t\t      for (var i = sels.length - 1; i >= 0; i--)\n\t\t        { cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\"); }\n\t\t      sels = cm.listSelections();\n\t\t      for (var i$1 = 0; i$1 < sels.length; i$1++)\n\t\t        { cm.indentLine(sels[i$1].from().line, null, true); }\n\t\t      ensureCursorVisible(cm);\n\t\t    }); },\n\t\t    openLine: function (cm) { return cm.replaceSelection(\"\\n\", \"start\"); },\n\t\t    toggleOverwrite: function (cm) { return cm.toggleOverwrite(); }\n\t\t  };\n\n\n\t\t  function lineStart(cm, lineN) {\n\t\t    var line = getLine(cm.doc, lineN);\n\t\t    var visual = visualLine(line);\n\t\t    if (visual != line) { lineN = lineNo(visual); }\n\t\t    return endOfLine(true, cm, visual, lineN, 1)\n\t\t  }\n\t\t  function lineEnd(cm, lineN) {\n\t\t    var line = getLine(cm.doc, lineN);\n\t\t    var visual = visualLineEnd(line);\n\t\t    if (visual != line) { lineN = lineNo(visual); }\n\t\t    return endOfLine(true, cm, line, lineN, -1)\n\t\t  }\n\t\t  function lineStartSmart(cm, pos) {\n\t\t    var start = lineStart(cm, pos.line);\n\t\t    var line = getLine(cm.doc, start.line);\n\t\t    var order = getOrder(line, cm.doc.direction);\n\t\t    if (!order || order[0].level == 0) {\n\t\t      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n\t\t      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n\t\t      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky)\n\t\t    }\n\t\t    return start\n\t\t  }\n\n\t\t  // Run a handler that was bound to a key.\n\t\t  function doHandleBinding(cm, bound, dropShift) {\n\t\t    if (typeof bound == \"string\") {\n\t\t      bound = commands[bound];\n\t\t      if (!bound) { return false }\n\t\t    }\n\t\t    // Ensure previous input has been read, so that the handler sees a\n\t\t    // consistent view of the document\n\t\t    cm.display.input.ensurePolled();\n\t\t    var prevShift = cm.display.shift, done = false;\n\t\t    try {\n\t\t      if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n\t\t      if (dropShift) { cm.display.shift = false; }\n\t\t      done = bound(cm) != Pass;\n\t\t    } finally {\n\t\t      cm.display.shift = prevShift;\n\t\t      cm.state.suppressEdits = false;\n\t\t    }\n\t\t    return done\n\t\t  }\n\n\t\t  function lookupKeyForEditor(cm, name, handle) {\n\t\t    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n\t\t      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\t\t      if (result) { return result }\n\t\t    }\n\t\t    return (cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm))\n\t\t      || lookupKey(name, cm.options.keyMap, handle, cm)\n\t\t  }\n\n\t\t  // Note that, despite the name, this function is also used to check\n\t\t  // for bound mouse clicks.\n\n\t\t  var stopSeq = new Delayed;\n\n\t\t  function dispatchKey(cm, name, e, handle) {\n\t\t    var seq = cm.state.keySeq;\n\t\t    if (seq) {\n\t\t      if (isModifierKey(name)) { return \"handled\" }\n\t\t      if (/\\'$/.test(name))\n\t\t        { cm.state.keySeq = null; }\n\t\t      else\n\t\t        { stopSeq.set(50, function () {\n\t\t          if (cm.state.keySeq == seq) {\n\t\t            cm.state.keySeq = null;\n\t\t            cm.display.input.reset();\n\t\t          }\n\t\t        }); }\n\t\t      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) { return true }\n\t\t    }\n\t\t    return dispatchKeyInner(cm, name, e, handle)\n\t\t  }\n\n\t\t  function dispatchKeyInner(cm, name, e, handle) {\n\t\t    var result = lookupKeyForEditor(cm, name, handle);\n\n\t\t    if (result == \"multi\")\n\t\t      { cm.state.keySeq = name; }\n\t\t    if (result == \"handled\")\n\t\t      { signalLater(cm, \"keyHandled\", cm, name, e); }\n\n\t\t    if (result == \"handled\" || result == \"multi\") {\n\t\t      e_preventDefault(e);\n\t\t      restartBlink(cm);\n\t\t    }\n\n\t\t    return !!result\n\t\t  }\n\n\t\t  // Handle a key from the keydown event.\n\t\t  function handleKeyBinding(cm, e) {\n\t\t    var name = keyName(e, true);\n\t\t    if (!name) { return false }\n\n\t\t    if (e.shiftKey && !cm.state.keySeq) {\n\t\t      // First try to resolve full name (including 'Shift-'). Failing\n\t\t      // that, see if there is a cursor-motion command (starting with\n\t\t      // 'go') bound to the keyname without 'Shift-'.\n\t\t      return dispatchKey(cm, \"Shift-\" + name, e, function (b) { return doHandleBinding(cm, b, true); })\n\t\t          || dispatchKey(cm, name, e, function (b) {\n\t\t               if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion)\n\t\t                 { return doHandleBinding(cm, b) }\n\t\t             })\n\t\t    } else {\n\t\t      return dispatchKey(cm, name, e, function (b) { return doHandleBinding(cm, b); })\n\t\t    }\n\t\t  }\n\n\t\t  // Handle a key from the keypress event\n\t\t  function handleCharBinding(cm, e, ch) {\n\t\t    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) { return doHandleBinding(cm, b, true); })\n\t\t  }\n\n\t\t  var lastStoppedKey = null;\n\t\t  function onKeyDown(e) {\n\t\t    var cm = this;\n\t\t    if (e.target && e.target != cm.display.input.getField()) { return }\n\t\t    cm.curOp.focus = activeElt(root(cm));\n\t\t    if (signalDOMEvent(cm, e)) { return }\n\t\t    // IE does strange things with escape.\n\t\t    if (ie && ie_version < 11 && e.keyCode == 27) { e.returnValue = false; }\n\t\t    var code = e.keyCode;\n\t\t    cm.display.shift = code == 16 || e.shiftKey;\n\t\t    var handled = handleKeyBinding(cm, e);\n\t\t    if (presto) {\n\t\t      lastStoppedKey = handled ? code : null;\n\t\t      // Opera has no cut event... we try to at least catch the key combo\n\t\t      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey))\n\t\t        { cm.replaceSelection(\"\", null, \"cut\"); }\n\t\t    }\n\t\t    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand)\n\t\t      { document.execCommand(\"cut\"); }\n\n\t\t    // Turn mouse into crosshair when Alt is held on Mac.\n\t\t    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className))\n\t\t      { showCrossHair(cm); }\n\t\t  }\n\n\t\t  function showCrossHair(cm) {\n\t\t    var lineDiv = cm.display.lineDiv;\n\t\t    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n\t\t    function up(e) {\n\t\t      if (e.keyCode == 18 || !e.altKey) {\n\t\t        rmClass(lineDiv, \"CodeMirror-crosshair\");\n\t\t        off(document, \"keyup\", up);\n\t\t        off(document, \"mouseover\", up);\n\t\t      }\n\t\t    }\n\t\t    on(document, \"keyup\", up);\n\t\t    on(document, \"mouseover\", up);\n\t\t  }\n\n\t\t  function onKeyUp(e) {\n\t\t    if (e.keyCode == 16) { this.doc.sel.shift = false; }\n\t\t    signalDOMEvent(this, e);\n\t\t  }\n\n\t\t  function onKeyPress(e) {\n\t\t    var cm = this;\n\t\t    if (e.target && e.target != cm.display.input.getField()) { return }\n\t\t    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) { return }\n\t\t    var keyCode = e.keyCode, charCode = e.charCode;\n\t\t    if (presto && keyCode == lastStoppedKey) {lastStoppedKey = null; e_preventDefault(e); return}\n\t\t    if ((presto && (!e.which || e.which < 10)) && handleKeyBinding(cm, e)) { return }\n\t\t    var ch = String.fromCharCode(charCode == null ? keyCode : charCode);\n\t\t    // Some browsers fire keypress events for backspace\n\t\t    if (ch == \"\\x08\") { return }\n\t\t    if (handleCharBinding(cm, e, ch)) { return }\n\t\t    cm.display.input.onKeyPress(e);\n\t\t  }\n\n\t\t  var DOUBLECLICK_DELAY = 400;\n\n\t\t  var PastClick = function(time, pos, button) {\n\t\t    this.time = time;\n\t\t    this.pos = pos;\n\t\t    this.button = button;\n\t\t  };\n\n\t\t  PastClick.prototype.compare = function (time, pos, button) {\n\t\t    return this.time + DOUBLECLICK_DELAY > time &&\n\t\t      cmp(pos, this.pos) == 0 && button == this.button\n\t\t  };\n\n\t\t  var lastClick, lastDoubleClick;\n\t\t  function clickRepeat(pos, button) {\n\t\t    var now = +new Date;\n\t\t    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n\t\t      lastClick = lastDoubleClick = null;\n\t\t      return \"triple\"\n\t\t    } else if (lastClick && lastClick.compare(now, pos, button)) {\n\t\t      lastDoubleClick = new PastClick(now, pos, button);\n\t\t      lastClick = null;\n\t\t      return \"double\"\n\t\t    } else {\n\t\t      lastClick = new PastClick(now, pos, button);\n\t\t      lastDoubleClick = null;\n\t\t      return \"single\"\n\t\t    }\n\t\t  }\n\n\t\t  // A mouse down can be a single click, double click, triple click,\n\t\t  // start of selection drag, start of text drag, new cursor\n\t\t  // (ctrl-click), rectangle drag (alt-drag), or xwin\n\t\t  // middle-click-paste. Or it might be a click on something we should\n\t\t  // not interfere with, such as a scrollbar or widget.\n\t\t  function onMouseDown(e) {\n\t\t    var cm = this, display = cm.display;\n\t\t    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) { return }\n\t\t    display.input.ensurePolled();\n\t\t    display.shift = e.shiftKey;\n\n\t\t    if (eventInWidget(display, e)) {\n\t\t      if (!webkit) {\n\t\t        // Briefly turn off draggability, to allow widgets to do\n\t\t        // normal dragging things.\n\t\t        display.scroller.draggable = false;\n\t\t        setTimeout(function () { return display.scroller.draggable = true; }, 100);\n\t\t      }\n\t\t      return\n\t\t    }\n\t\t    if (clickInGutter(cm, e)) { return }\n\t\t    var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : \"single\";\n\t\t    win(cm).focus();\n\n\t\t    // #3261: make sure, that we're not starting a second selection\n\t\t    if (button == 1 && cm.state.selectingText)\n\t\t      { cm.state.selectingText(e); }\n\n\t\t    if (pos && handleMappedButton(cm, button, pos, repeat, e)) { return }\n\n\t\t    if (button == 1) {\n\t\t      if (pos) { leftButtonDown(cm, pos, repeat, e); }\n\t\t      else if (e_target(e) == display.scroller) { e_preventDefault(e); }\n\t\t    } else if (button == 2) {\n\t\t      if (pos) { extendSelection(cm.doc, pos); }\n\t\t      setTimeout(function () { return display.input.focus(); }, 20);\n\t\t    } else if (button == 3) {\n\t\t      if (captureRightClick) { cm.display.input.onContextMenu(e); }\n\t\t      else { delayBlurEvent(cm); }\n\t\t    }\n\t\t  }\n\n\t\t  function handleMappedButton(cm, button, pos, repeat, event) {\n\t\t    var name = \"Click\";\n\t\t    if (repeat == \"double\") { name = \"Double\" + name; }\n\t\t    else if (repeat == \"triple\") { name = \"Triple\" + name; }\n\t\t    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n\n\t\t    return dispatchKey(cm,  addModifierNames(name, event), event, function (bound) {\n\t\t      if (typeof bound == \"string\") { bound = commands[bound]; }\n\t\t      if (!bound) { return false }\n\t\t      var done = false;\n\t\t      try {\n\t\t        if (cm.isReadOnly()) { cm.state.suppressEdits = true; }\n\t\t        done = bound(cm, pos) != Pass;\n\t\t      } finally {\n\t\t        cm.state.suppressEdits = false;\n\t\t      }\n\t\t      return done\n\t\t    })\n\t\t  }\n\n\t\t  function configureMouse(cm, repeat, event) {\n\t\t    var option = cm.getOption(\"configureMouse\");\n\t\t    var value = option ? option(cm, repeat, event) : {};\n\t\t    if (value.unit == null) {\n\t\t      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n\t\t      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n\t\t    }\n\t\t    if (value.extend == null || cm.doc.extend) { value.extend = cm.doc.extend || event.shiftKey; }\n\t\t    if (value.addNew == null) { value.addNew = mac ? event.metaKey : event.ctrlKey; }\n\t\t    if (value.moveOnDrag == null) { value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey); }\n\t\t    return value\n\t\t  }\n\n\t\t  function leftButtonDown(cm, pos, repeat, event) {\n\t\t    if (ie) { setTimeout(bind(ensureFocus, cm), 0); }\n\t\t    else { cm.curOp.focus = activeElt(root(cm)); }\n\n\t\t    var behavior = configureMouse(cm, repeat, event);\n\n\t\t    var sel = cm.doc.sel, contained;\n\t\t    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() &&\n\t\t        repeat == \"single\" && (contained = sel.contains(pos)) > -1 &&\n\t\t        (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) &&\n\t\t        (cmp(contained.to(), pos) > 0 || pos.xRel < 0))\n\t\t      { leftButtonStartDrag(cm, event, pos, behavior); }\n\t\t    else\n\t\t      { leftButtonSelect(cm, event, pos, behavior); }\n\t\t  }\n\n\t\t  // Start a text drag. When it ends, see if any dragging actually\n\t\t  // happen, and treat as a click if it didn't.\n\t\t  function leftButtonStartDrag(cm, event, pos, behavior) {\n\t\t    var display = cm.display, moved = false;\n\t\t    var dragEnd = operation(cm, function (e) {\n\t\t      if (webkit) { display.scroller.draggable = false; }\n\t\t      cm.state.draggingText = false;\n\t\t      if (cm.state.delayingBlurEvent) {\n\t\t        if (cm.hasFocus()) { cm.state.delayingBlurEvent = false; }\n\t\t        else { delayBlurEvent(cm); }\n\t\t      }\n\t\t      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n\t\t      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n\t\t      off(display.scroller, \"dragstart\", dragStart);\n\t\t      off(display.scroller, \"drop\", dragEnd);\n\t\t      if (!moved) {\n\t\t        e_preventDefault(e);\n\t\t        if (!behavior.addNew)\n\t\t          { extendSelection(cm.doc, pos, null, null, behavior.extend); }\n\t\t        // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\t\t        if ((webkit && !safari) || ie && ie_version == 9)\n\t\t          { setTimeout(function () {display.wrapper.ownerDocument.body.focus({preventScroll: true}); display.input.focus();}, 20); }\n\t\t        else\n\t\t          { display.input.focus(); }\n\t\t      }\n\t\t    });\n\t\t    var mouseMove = function(e2) {\n\t\t      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n\t\t    };\n\t\t    var dragStart = function () { return moved = true; };\n\t\t    // Let the drag handler handle this.\n\t\t    if (webkit) { display.scroller.draggable = true; }\n\t\t    cm.state.draggingText = dragEnd;\n\t\t    dragEnd.copy = !behavior.moveOnDrag;\n\t\t    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n\t\t    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n\t\t    on(display.scroller, \"dragstart\", dragStart);\n\t\t    on(display.scroller, \"drop\", dragEnd);\n\n\t\t    cm.state.delayingBlurEvent = true;\n\t\t    setTimeout(function () { return display.input.focus(); }, 20);\n\t\t    // IE's approach to draggable\n\t\t    if (display.scroller.dragDrop) { display.scroller.dragDrop(); }\n\t\t  }\n\n\t\t  function rangeForUnit(cm, pos, unit) {\n\t\t    if (unit == \"char\") { return new Range(pos, pos) }\n\t\t    if (unit == \"word\") { return cm.findWordAt(pos) }\n\t\t    if (unit == \"line\") { return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))) }\n\t\t    var result = unit(cm, pos);\n\t\t    return new Range(result.from, result.to)\n\t\t  }\n\n\t\t  // Normal selection, as opposed to text dragging.\n\t\t  function leftButtonSelect(cm, event, start, behavior) {\n\t\t    if (ie) { delayBlurEvent(cm); }\n\t\t    var display = cm.display, doc = cm.doc;\n\t\t    e_preventDefault(event);\n\n\t\t    var ourRange, ourIndex, startSel = doc.sel, ranges = startSel.ranges;\n\t\t    if (behavior.addNew && !behavior.extend) {\n\t\t      ourIndex = doc.sel.contains(start);\n\t\t      if (ourIndex > -1)\n\t\t        { ourRange = ranges[ourIndex]; }\n\t\t      else\n\t\t        { ourRange = new Range(start, start); }\n\t\t    } else {\n\t\t      ourRange = doc.sel.primary();\n\t\t      ourIndex = doc.sel.primIndex;\n\t\t    }\n\n\t\t    if (behavior.unit == \"rectangle\") {\n\t\t      if (!behavior.addNew) { ourRange = new Range(start, start); }\n\t\t      start = posFromMouse(cm, event, true, true);\n\t\t      ourIndex = -1;\n\t\t    } else {\n\t\t      var range = rangeForUnit(cm, start, behavior.unit);\n\t\t      if (behavior.extend)\n\t\t        { ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend); }\n\t\t      else\n\t\t        { ourRange = range; }\n\t\t    }\n\n\t\t    if (!behavior.addNew) {\n\t\t      ourIndex = 0;\n\t\t      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n\t\t      startSel = doc.sel;\n\t\t    } else if (ourIndex == -1) {\n\t\t      ourIndex = ranges.length;\n\t\t      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),\n\t\t                   {scroll: false, origin: \"*mouse\"});\n\t\t    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n\t\t      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),\n\t\t                   {scroll: false, origin: \"*mouse\"});\n\t\t      startSel = doc.sel;\n\t\t    } else {\n\t\t      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n\t\t    }\n\n\t\t    var lastPos = start;\n\t\t    function extendTo(pos) {\n\t\t      if (cmp(lastPos, pos) == 0) { return }\n\t\t      lastPos = pos;\n\n\t\t      if (behavior.unit == \"rectangle\") {\n\t\t        var ranges = [], tabSize = cm.options.tabSize;\n\t\t        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n\t\t        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n\t\t        var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);\n\t\t        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line));\n\t\t             line <= end; line++) {\n\t\t          var text = getLine(doc, line).text, leftPos = findColumn(text, left, tabSize);\n\t\t          if (left == right)\n\t\t            { ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos))); }\n\t\t          else if (text.length > leftPos)\n\t\t            { ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize)))); }\n\t\t        }\n\t\t        if (!ranges.length) { ranges.push(new Range(start, start)); }\n\t\t        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex),\n\t\t                     {origin: \"*mouse\", scroll: false});\n\t\t        cm.scrollIntoView(pos);\n\t\t      } else {\n\t\t        var oldRange = ourRange;\n\t\t        var range = rangeForUnit(cm, pos, behavior.unit);\n\t\t        var anchor = oldRange.anchor, head;\n\t\t        if (cmp(range.anchor, anchor) > 0) {\n\t\t          head = range.head;\n\t\t          anchor = minPos(oldRange.from(), range.anchor);\n\t\t        } else {\n\t\t          head = range.anchor;\n\t\t          anchor = maxPos(oldRange.to(), range.head);\n\t\t        }\n\t\t        var ranges$1 = startSel.ranges.slice(0);\n\t\t        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n\t\t        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n\t\t      }\n\t\t    }\n\n\t\t    var editorSize = display.wrapper.getBoundingClientRect();\n\t\t    // Used to ensure timeout re-tries don't fire when another extend\n\t\t    // happened in the meantime (clearTimeout isn't reliable -- at\n\t\t    // least on Chrome, the timeouts still happen even when cleared,\n\t\t    // if the clear happens after their scheduled firing time).\n\t\t    var counter = 0;\n\n\t\t    function extend(e) {\n\t\t      var curCount = ++counter;\n\t\t      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\t\t      if (!cur) { return }\n\t\t      if (cmp(cur, lastPos) != 0) {\n\t\t        cm.curOp.focus = activeElt(root(cm));\n\t\t        extendTo(cur);\n\t\t        var visible = visibleLines(display, doc);\n\t\t        if (cur.line >= visible.to || cur.line < visible.from)\n\t\t          { setTimeout(operation(cm, function () {if (counter == curCount) { extend(e); }}), 150); }\n\t\t      } else {\n\t\t        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\t\t        if (outside) { setTimeout(operation(cm, function () {\n\t\t          if (counter != curCount) { return }\n\t\t          display.scroller.scrollTop += outside;\n\t\t          extend(e);\n\t\t        }), 50); }\n\t\t      }\n\t\t    }\n\n\t\t    function done(e) {\n\t\t      cm.state.selectingText = false;\n\t\t      counter = Infinity;\n\t\t      // If e is null or undefined we interpret this as someone trying\n\t\t      // to explicitly cancel the selection rather than the user\n\t\t      // letting go of the mouse button.\n\t\t      if (e) {\n\t\t        e_preventDefault(e);\n\t\t        display.input.focus();\n\t\t      }\n\t\t      off(display.wrapper.ownerDocument, \"mousemove\", move);\n\t\t      off(display.wrapper.ownerDocument, \"mouseup\", up);\n\t\t      doc.history.lastSelOrigin = null;\n\t\t    }\n\n\t\t    var move = operation(cm, function (e) {\n\t\t      if (e.buttons === 0 || !e_button(e)) { done(e); }\n\t\t      else { extend(e); }\n\t\t    });\n\t\t    var up = operation(cm, done);\n\t\t    cm.state.selectingText = up;\n\t\t    on(display.wrapper.ownerDocument, \"mousemove\", move);\n\t\t    on(display.wrapper.ownerDocument, \"mouseup\", up);\n\t\t  }\n\n\t\t  // Used when mouse-selecting to adjust the anchor to the proper side\n\t\t  // of a bidi jump depending on the visual position of the head.\n\t\t  function bidiSimplify(cm, range) {\n\t\t    var anchor = range.anchor;\n\t\t    var head = range.head;\n\t\t    var anchorLine = getLine(cm.doc, anchor.line);\n\t\t    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) { return range }\n\t\t    var order = getOrder(anchorLine);\n\t\t    if (!order) { return range }\n\t\t    var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];\n\t\t    if (part.from != anchor.ch && part.to != anchor.ch) { return range }\n\t\t    var boundary = index + ((part.from == anchor.ch) == (part.level != 1) ? 0 : 1);\n\t\t    if (boundary == 0 || boundary == order.length) { return range }\n\n\t\t    // Compute the relative visual position of the head compared to the\n\t\t    // anchor (<0 is to the left, >0 to the right)\n\t\t    var leftSide;\n\t\t    if (head.line != anchor.line) {\n\t\t      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n\t\t    } else {\n\t\t      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n\t\t      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\t\t      if (headIndex == boundary - 1 || headIndex == boundary)\n\t\t        { leftSide = dir < 0; }\n\t\t      else\n\t\t        { leftSide = dir > 0; }\n\t\t    }\n\n\t\t    var usePart = order[boundary + (leftSide ? -1 : 0)];\n\t\t    var from = leftSide == (usePart.level == 1);\n\t\t    var ch = from ? usePart.from : usePart.to, sticky = from ? \"after\" : \"before\";\n\t\t    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head)\n\t\t  }\n\n\n\t\t  // Determines whether an event happened in the gutter, and fires the\n\t\t  // handlers for the corresponding event.\n\t\t  function gutterEvent(cm, e, type, prevent) {\n\t\t    var mX, mY;\n\t\t    if (e.touches) {\n\t\t      mX = e.touches[0].clientX;\n\t\t      mY = e.touches[0].clientY;\n\t\t    } else {\n\t\t      try { mX = e.clientX; mY = e.clientY; }\n\t\t      catch(e$1) { return false }\n\t\t    }\n\t\t    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) { return false }\n\t\t    if (prevent) { e_preventDefault(e); }\n\n\t\t    var display = cm.display;\n\t\t    var lineBox = display.lineDiv.getBoundingClientRect();\n\n\t\t    if (mY > lineBox.bottom || !hasHandler(cm, type)) { return e_defaultPrevented(e) }\n\t\t    mY -= lineBox.top - display.viewOffset;\n\n\t\t    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n\t\t      var g = display.gutters.childNodes[i];\n\t\t      if (g && g.getBoundingClientRect().right >= mX) {\n\t\t        var line = lineAtHeight(cm.doc, mY);\n\t\t        var gutter = cm.display.gutterSpecs[i];\n\t\t        signal(cm, type, cm, line, gutter.className, e);\n\t\t        return e_defaultPrevented(e)\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  function clickInGutter(cm, e) {\n\t\t    return gutterEvent(cm, e, \"gutterClick\", true)\n\t\t  }\n\n\t\t  // CONTEXT MENU HANDLING\n\n\t\t  // To make the context menu work, we need to briefly unhide the\n\t\t  // textarea (making it as unobtrusive as possible) to let the\n\t\t  // right-click take effect on it.\n\t\t  function onContextMenu(cm, e) {\n\t\t    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) { return }\n\t\t    if (signalDOMEvent(cm, e, \"contextmenu\")) { return }\n\t\t    if (!captureRightClick) { cm.display.input.onContextMenu(e); }\n\t\t  }\n\n\t\t  function contextMenuInGutter(cm, e) {\n\t\t    if (!hasHandler(cm, \"gutterContextMenu\")) { return false }\n\t\t    return gutterEvent(cm, e, \"gutterContextMenu\", false)\n\t\t  }\n\n\t\t  function themeChanged(cm) {\n\t\t    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") +\n\t\t      cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n\t\t    clearCaches(cm);\n\t\t  }\n\n\t\t  var Init = {toString: function(){return \"CodeMirror.Init\"}};\n\n\t\t  var defaults = {};\n\t\t  var optionHandlers = {};\n\n\t\t  function defineOptions(CodeMirror) {\n\t\t    var optionHandlers = CodeMirror.optionHandlers;\n\n\t\t    function option(name, deflt, handle, notOnInit) {\n\t\t      CodeMirror.defaults[name] = deflt;\n\t\t      if (handle) { optionHandlers[name] =\n\t\t        notOnInit ? function (cm, val, old) {if (old != Init) { handle(cm, val, old); }} : handle; }\n\t\t    }\n\n\t\t    CodeMirror.defineOption = option;\n\n\t\t    // Passed to option handlers when there is no old value.\n\t\t    CodeMirror.Init = Init;\n\n\t\t    // These two are, on init, called from the constructor because they\n\t\t    // have to be initialized before the editor can start at all.\n\t\t    option(\"value\", \"\", function (cm, val) { return cm.setValue(val); }, true);\n\t\t    option(\"mode\", null, function (cm, val) {\n\t\t      cm.doc.modeOption = val;\n\t\t      loadMode(cm);\n\t\t    }, true);\n\n\t\t    option(\"indentUnit\", 2, loadMode, true);\n\t\t    option(\"indentWithTabs\", false);\n\t\t    option(\"smartIndent\", true);\n\t\t    option(\"tabSize\", 4, function (cm) {\n\t\t      resetModeState(cm);\n\t\t      clearCaches(cm);\n\t\t      regChange(cm);\n\t\t    }, true);\n\n\t\t    option(\"lineSeparator\", null, function (cm, val) {\n\t\t      cm.doc.lineSep = val;\n\t\t      if (!val) { return }\n\t\t      var newBreaks = [], lineNo = cm.doc.first;\n\t\t      cm.doc.iter(function (line) {\n\t\t        for (var pos = 0;;) {\n\t\t          var found = line.text.indexOf(val, pos);\n\t\t          if (found == -1) { break }\n\t\t          pos = found + val.length;\n\t\t          newBreaks.push(Pos(lineNo, found));\n\t\t        }\n\t\t        lineNo++;\n\t\t      });\n\t\t      for (var i = newBreaks.length - 1; i >= 0; i--)\n\t\t        { replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length)); }\n\t\t    });\n\t\t    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b\\u200e\\u200f\\u2028\\u2029\\u202d\\u202e\\u2066\\u2067\\u2069\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n\t\t      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\t\t      if (old != Init) { cm.refresh(); }\n\t\t    });\n\t\t    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) { return cm.refresh(); }, true);\n\t\t    option(\"electricChars\", true);\n\t\t    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n\t\t      throw new Error(\"inputStyle can not (yet) be changed in a running editor\") // FIXME\n\t\t    }, true);\n\t\t    option(\"spellcheck\", false, function (cm, val) { return cm.getInputField().spellcheck = val; }, true);\n\t\t    option(\"autocorrect\", false, function (cm, val) { return cm.getInputField().autocorrect = val; }, true);\n\t\t    option(\"autocapitalize\", false, function (cm, val) { return cm.getInputField().autocapitalize = val; }, true);\n\t\t    option(\"rtlMoveVisually\", !windows);\n\t\t    option(\"wholeLineUpdateBefore\", true);\n\n\t\t    option(\"theme\", \"default\", function (cm) {\n\t\t      themeChanged(cm);\n\t\t      updateGutters(cm);\n\t\t    }, true);\n\t\t    option(\"keyMap\", \"default\", function (cm, val, old) {\n\t\t      var next = getKeyMap(val);\n\t\t      var prev = old != Init && getKeyMap(old);\n\t\t      if (prev && prev.detach) { prev.detach(cm, next); }\n\t\t      if (next.attach) { next.attach(cm, prev || null); }\n\t\t    });\n\t\t    option(\"extraKeys\", null);\n\t\t    option(\"configureMouse\", null);\n\n\t\t    option(\"lineWrapping\", false, wrappingChanged, true);\n\t\t    option(\"gutters\", [], function (cm, val) {\n\t\t      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n\t\t      updateGutters(cm);\n\t\t    }, true);\n\t\t    option(\"fixedGutter\", true, function (cm, val) {\n\t\t      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n\t\t      cm.refresh();\n\t\t    }, true);\n\t\t    option(\"coverGutterNextToScrollbar\", false, function (cm) { return updateScrollbars(cm); }, true);\n\t\t    option(\"scrollbarStyle\", \"native\", function (cm) {\n\t\t      initScrollbars(cm);\n\t\t      updateScrollbars(cm);\n\t\t      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n\t\t      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n\t\t    }, true);\n\t\t    option(\"lineNumbers\", false, function (cm, val) {\n\t\t      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n\t\t      updateGutters(cm);\n\t\t    }, true);\n\t\t    option(\"firstLineNumber\", 1, updateGutters, true);\n\t\t    option(\"lineNumberFormatter\", function (integer) { return integer; }, updateGutters, true);\n\t\t    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n\n\t\t    option(\"resetSelectionOnContextMenu\", true);\n\t\t    option(\"lineWiseCopyCut\", true);\n\t\t    option(\"pasteLinesPerSelection\", true);\n\t\t    option(\"selectionsMayTouch\", false);\n\n\t\t    option(\"readOnly\", false, function (cm, val) {\n\t\t      if (val == \"nocursor\") {\n\t\t        onBlur(cm);\n\t\t        cm.display.input.blur();\n\t\t      }\n\t\t      cm.display.input.readOnlyChanged(val);\n\t\t    });\n\n\t\t    option(\"screenReaderLabel\", null, function (cm, val) {\n\t\t      val = (val === '') ? null : val;\n\t\t      cm.display.input.screenReaderLabelChanged(val);\n\t\t    });\n\n\t\t    option(\"disableInput\", false, function (cm, val) {if (!val) { cm.display.input.reset(); }}, true);\n\t\t    option(\"dragDrop\", true, dragDropChanged);\n\t\t    option(\"allowDropFileTypes\", null);\n\n\t\t    option(\"cursorBlinkRate\", 530);\n\t\t    option(\"cursorScrollMargin\", 0);\n\t\t    option(\"cursorHeight\", 1, updateSelection, true);\n\t\t    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n\t\t    option(\"workTime\", 100);\n\t\t    option(\"workDelay\", 100);\n\t\t    option(\"flattenSpans\", true, resetModeState, true);\n\t\t    option(\"addModeClass\", false, resetModeState, true);\n\t\t    option(\"pollInterval\", 100);\n\t\t    option(\"undoDepth\", 200, function (cm, val) { return cm.doc.history.undoDepth = val; });\n\t\t    option(\"historyEventDelay\", 1250);\n\t\t    option(\"viewportMargin\", 10, function (cm) { return cm.refresh(); }, true);\n\t\t    option(\"maxHighlightLength\", 10000, resetModeState, true);\n\t\t    option(\"moveInputWithCursor\", true, function (cm, val) {\n\t\t      if (!val) { cm.display.input.resetPosition(); }\n\t\t    });\n\n\t\t    option(\"tabindex\", null, function (cm, val) { return cm.display.input.getField().tabIndex = val || \"\"; });\n\t\t    option(\"autofocus\", null);\n\t\t    option(\"direction\", \"ltr\", function (cm, val) { return cm.doc.setDirection(val); }, true);\n\t\t    option(\"phrases\", null);\n\t\t  }\n\n\t\t  function dragDropChanged(cm, value, old) {\n\t\t    var wasOn = old && old != Init;\n\t\t    if (!value != !wasOn) {\n\t\t      var funcs = cm.display.dragFunctions;\n\t\t      var toggle = value ? on : off;\n\t\t      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n\t\t      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n\t\t      toggle(cm.display.scroller, \"dragover\", funcs.over);\n\t\t      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n\t\t      toggle(cm.display.scroller, \"drop\", funcs.drop);\n\t\t    }\n\t\t  }\n\n\t\t  function wrappingChanged(cm) {\n\t\t    if (cm.options.lineWrapping) {\n\t\t      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n\t\t      cm.display.sizer.style.minWidth = \"\";\n\t\t      cm.display.sizerWidth = null;\n\t\t    } else {\n\t\t      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n\t\t      findMaxLine(cm);\n\t\t    }\n\t\t    estimateLineHeights(cm);\n\t\t    regChange(cm);\n\t\t    clearCaches(cm);\n\t\t    setTimeout(function () { return updateScrollbars(cm); }, 100);\n\t\t  }\n\n\t\t  // A CodeMirror instance represents an editor. This is the object\n\t\t  // that user code is usually dealing with.\n\n\t\t  function CodeMirror(place, options) {\n\t\t    var this$1$1 = this;\n\n\t\t    if (!(this instanceof CodeMirror)) { return new CodeMirror(place, options) }\n\n\t\t    this.options = options = options ? copyObj(options) : {};\n\t\t    // Determine effective options based on given values and defaults.\n\t\t    copyObj(defaults, options, false);\n\n\t\t    var doc = options.value;\n\t\t    if (typeof doc == \"string\") { doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction); }\n\t\t    else if (options.mode) { doc.modeOption = options.mode; }\n\t\t    this.doc = doc;\n\n\t\t    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n\t\t    var display = this.display = new Display(place, doc, input, options);\n\t\t    display.wrapper.CodeMirror = this;\n\t\t    themeChanged(this);\n\t\t    if (options.lineWrapping)\n\t\t      { this.display.wrapper.className += \" CodeMirror-wrap\"; }\n\t\t    initScrollbars(this);\n\n\t\t    this.state = {\n\t\t      keyMaps: [],  // stores maps added by addKeyMap\n\t\t      overlays: [], // highlighting overlays, as added by addOverlay\n\t\t      modeGen: 0,   // bumped when mode/overlay changes, used to invalidate highlighting info\n\t\t      overwrite: false,\n\t\t      delayingBlurEvent: false,\n\t\t      focused: false,\n\t\t      suppressEdits: false, // used to disable editing during key handlers when in readOnly mode\n\t\t      pasteIncoming: -1, cutIncoming: -1, // help recognize paste/cut edits in input.poll\n\t\t      selectingText: false,\n\t\t      draggingText: false,\n\t\t      highlight: new Delayed(), // stores highlight worker timeout\n\t\t      keySeq: null,  // Unfinished key sequence\n\t\t      specialChars: null\n\t\t    };\n\n\t\t    if (options.autofocus && !mobile) { display.input.focus(); }\n\n\t\t    // Override magic textarea content restore that IE sometimes does\n\t\t    // on our hidden textarea on reload\n\t\t    if (ie && ie_version < 11) { setTimeout(function () { return this$1$1.display.input.reset(true); }, 20); }\n\n\t\t    registerEventHandlers(this);\n\t\t    ensureGlobalHandlers();\n\n\t\t    startOperation(this);\n\t\t    this.curOp.forceUpdate = true;\n\t\t    attachDoc(this, doc);\n\n\t\t    if ((options.autofocus && !mobile) || this.hasFocus())\n\t\t      { setTimeout(function () {\n\t\t        if (this$1$1.hasFocus() && !this$1$1.state.focused) { onFocus(this$1$1); }\n\t\t      }, 20); }\n\t\t    else\n\t\t      { onBlur(this); }\n\n\t\t    for (var opt in optionHandlers) { if (optionHandlers.hasOwnProperty(opt))\n\t\t      { optionHandlers[opt](this, options[opt], Init); } }\n\t\t    maybeUpdateLineNumberWidth(this);\n\t\t    if (options.finishInit) { options.finishInit(this); }\n\t\t    for (var i = 0; i < initHooks.length; ++i) { initHooks[i](this); }\n\t\t    endOperation(this);\n\t\t    // Suppress optimizelegibility in Webkit, since it breaks text\n\t\t    // measuring on line wrapping boundaries.\n\t\t    if (webkit && options.lineWrapping &&\n\t\t        getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\")\n\t\t      { display.lineDiv.style.textRendering = \"auto\"; }\n\t\t  }\n\n\t\t  // The default configuration options.\n\t\t  CodeMirror.defaults = defaults;\n\t\t  // Functions to run when options are changed.\n\t\t  CodeMirror.optionHandlers = optionHandlers;\n\n\t\t  // Attach the necessary event handlers when initializing the editor\n\t\t  function registerEventHandlers(cm) {\n\t\t    var d = cm.display;\n\t\t    on(d.scroller, \"mousedown\", operation(cm, onMouseDown));\n\t\t    // Older IE's will not fire a second mousedown for a double click\n\t\t    if (ie && ie_version < 11)\n\t\t      { on(d.scroller, \"dblclick\", operation(cm, function (e) {\n\t\t        if (signalDOMEvent(cm, e)) { return }\n\t\t        var pos = posFromMouse(cm, e);\n\t\t        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) { return }\n\t\t        e_preventDefault(e);\n\t\t        var word = cm.findWordAt(pos);\n\t\t        extendSelection(cm.doc, word.anchor, word.head);\n\t\t      })); }\n\t\t    else\n\t\t      { on(d.scroller, \"dblclick\", function (e) { return signalDOMEvent(cm, e) || e_preventDefault(e); }); }\n\t\t    // Some browsers fire contextmenu *after* opening the menu, at\n\t\t    // which point we can't mess with it anymore. Context menu is\n\t\t    // handled in onMouseDown for these browsers.\n\t\t    on(d.scroller, \"contextmenu\", function (e) { return onContextMenu(cm, e); });\n\t\t    on(d.input.getField(), \"contextmenu\", function (e) {\n\t\t      if (!d.scroller.contains(e.target)) { onContextMenu(cm, e); }\n\t\t    });\n\n\t\t    // Used to suppress mouse event handling when a touch happens\n\t\t    var touchFinished, prevTouch = {end: 0};\n\t\t    function finishTouch() {\n\t\t      if (d.activeTouch) {\n\t\t        touchFinished = setTimeout(function () { return d.activeTouch = null; }, 1000);\n\t\t        prevTouch = d.activeTouch;\n\t\t        prevTouch.end = +new Date;\n\t\t      }\n\t\t    }\n\t\t    function isMouseLikeTouchEvent(e) {\n\t\t      if (e.touches.length != 1) { return false }\n\t\t      var touch = e.touches[0];\n\t\t      return touch.radiusX <= 1 && touch.radiusY <= 1\n\t\t    }\n\t\t    function farAway(touch, other) {\n\t\t      if (other.left == null) { return true }\n\t\t      var dx = other.left - touch.left, dy = other.top - touch.top;\n\t\t      return dx * dx + dy * dy > 20 * 20\n\t\t    }\n\t\t    on(d.scroller, \"touchstart\", function (e) {\n\t\t      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n\t\t        d.input.ensurePolled();\n\t\t        clearTimeout(touchFinished);\n\t\t        var now = +new Date;\n\t\t        d.activeTouch = {start: now, moved: false,\n\t\t                         prev: now - prevTouch.end <= 300 ? prevTouch : null};\n\t\t        if (e.touches.length == 1) {\n\t\t          d.activeTouch.left = e.touches[0].pageX;\n\t\t          d.activeTouch.top = e.touches[0].pageY;\n\t\t        }\n\t\t      }\n\t\t    });\n\t\t    on(d.scroller, \"touchmove\", function () {\n\t\t      if (d.activeTouch) { d.activeTouch.moved = true; }\n\t\t    });\n\t\t    on(d.scroller, \"touchend\", function (e) {\n\t\t      var touch = d.activeTouch;\n\t\t      if (touch && !eventInWidget(d, e) && touch.left != null &&\n\t\t          !touch.moved && new Date - touch.start < 300) {\n\t\t        var pos = cm.coordsChar(d.activeTouch, \"page\"), range;\n\t\t        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n\t\t          { range = new Range(pos, pos); }\n\t\t        else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n\t\t          { range = cm.findWordAt(pos); }\n\t\t        else // Triple tap\n\t\t          { range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0))); }\n\t\t        cm.setSelection(range.anchor, range.head);\n\t\t        cm.focus();\n\t\t        e_preventDefault(e);\n\t\t      }\n\t\t      finishTouch();\n\t\t    });\n\t\t    on(d.scroller, \"touchcancel\", finishTouch);\n\n\t\t    // Sync scrolling between fake scrollbars and real scrollable\n\t\t    // area, ensure viewport is updated when scrolling.\n\t\t    on(d.scroller, \"scroll\", function () {\n\t\t      if (d.scroller.clientHeight) {\n\t\t        updateScrollTop(cm, d.scroller.scrollTop);\n\t\t        setScrollLeft(cm, d.scroller.scrollLeft, true);\n\t\t        signal(cm, \"scroll\", cm);\n\t\t      }\n\t\t    });\n\n\t\t    // Listen to wheel events in order to try and update the viewport on time.\n\t\t    on(d.scroller, \"mousewheel\", function (e) { return onScrollWheel(cm, e); });\n\t\t    on(d.scroller, \"DOMMouseScroll\", function (e) { return onScrollWheel(cm, e); });\n\n\t\t    // Prevent wrapper from ever scrolling\n\t\t    on(d.wrapper, \"scroll\", function () { return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0; });\n\n\t\t    d.dragFunctions = {\n\t\t      enter: function (e) {if (!signalDOMEvent(cm, e)) { e_stop(e); }},\n\t\t      over: function (e) {if (!signalDOMEvent(cm, e)) { onDragOver(cm, e); e_stop(e); }},\n\t\t      start: function (e) { return onDragStart(cm, e); },\n\t\t      drop: operation(cm, onDrop),\n\t\t      leave: function (e) {if (!signalDOMEvent(cm, e)) { clearDragCursor(cm); }}\n\t\t    };\n\n\t\t    var inp = d.input.getField();\n\t\t    on(inp, \"keyup\", function (e) { return onKeyUp.call(cm, e); });\n\t\t    on(inp, \"keydown\", operation(cm, onKeyDown));\n\t\t    on(inp, \"keypress\", operation(cm, onKeyPress));\n\t\t    on(inp, \"focus\", function (e) { return onFocus(cm, e); });\n\t\t    on(inp, \"blur\", function (e) { return onBlur(cm, e); });\n\t\t  }\n\n\t\t  var initHooks = [];\n\t\t  CodeMirror.defineInitHook = function (f) { return initHooks.push(f); };\n\n\t\t  // Indent the given line. The how parameter can be \"smart\",\n\t\t  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n\t\t  // (typically set to true for forced single-line indents), empty\n\t\t  // lines are not indented, and places where the mode returns Pass\n\t\t  // are left alone.\n\t\t  function indentLine(cm, n, how, aggressive) {\n\t\t    var doc = cm.doc, state;\n\t\t    if (how == null) { how = \"add\"; }\n\t\t    if (how == \"smart\") {\n\t\t      // Fall back to \"prev\" when the mode doesn't have an indentation\n\t\t      // method.\n\t\t      if (!doc.mode.indent) { how = \"prev\"; }\n\t\t      else { state = getContextBefore(cm, n).state; }\n\t\t    }\n\n\t\t    var tabSize = cm.options.tabSize;\n\t\t    var line = getLine(doc, n), curSpace = countColumn(line.text, null, tabSize);\n\t\t    if (line.stateAfter) { line.stateAfter = null; }\n\t\t    var curSpaceString = line.text.match(/^\\s*/)[0], indentation;\n\t\t    if (!aggressive && !/\\S/.test(line.text)) {\n\t\t      indentation = 0;\n\t\t      how = \"not\";\n\t\t    } else if (how == \"smart\") {\n\t\t      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\t\t      if (indentation == Pass || indentation > 150) {\n\t\t        if (!aggressive) { return }\n\t\t        how = \"prev\";\n\t\t      }\n\t\t    }\n\t\t    if (how == \"prev\") {\n\t\t      if (n > doc.first) { indentation = countColumn(getLine(doc, n-1).text, null, tabSize); }\n\t\t      else { indentation = 0; }\n\t\t    } else if (how == \"add\") {\n\t\t      indentation = curSpace + cm.options.indentUnit;\n\t\t    } else if (how == \"subtract\") {\n\t\t      indentation = curSpace - cm.options.indentUnit;\n\t\t    } else if (typeof how == \"number\") {\n\t\t      indentation = curSpace + how;\n\t\t    }\n\t\t    indentation = Math.max(0, indentation);\n\n\t\t    var indentString = \"\", pos = 0;\n\t\t    if (cm.options.indentWithTabs)\n\t\t      { for (var i = Math.floor(indentation / tabSize); i; --i) {pos += tabSize; indentString += \"\\t\";} }\n\t\t    if (pos < indentation) { indentString += spaceStr(indentation - pos); }\n\n\t\t    if (indentString != curSpaceString) {\n\t\t      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n\t\t      line.stateAfter = null;\n\t\t      return true\n\t\t    } else {\n\t\t      // Ensure that, if the cursor was in the whitespace at the start\n\t\t      // of the line, it is moved to the end of that space.\n\t\t      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n\t\t        var range = doc.sel.ranges[i$1];\n\t\t        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n\t\t          var pos$1 = Pos(n, curSpaceString.length);\n\t\t          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n\t\t          break\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  // This will be set to a {lineWise: bool, text: [string]} object, so\n\t\t  // that, when pasting, we know what kind of selections the copied\n\t\t  // text was made out of.\n\t\t  var lastCopied = null;\n\n\t\t  function setLastCopied(newLastCopied) {\n\t\t    lastCopied = newLastCopied;\n\t\t  }\n\n\t\t  function applyTextInput(cm, inserted, deleted, sel, origin) {\n\t\t    var doc = cm.doc;\n\t\t    cm.display.shift = false;\n\t\t    if (!sel) { sel = doc.sel; }\n\n\t\t    var recent = +new Date - 200;\n\t\t    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n\t\t    var textLines = splitLinesAuto(inserted), multiPaste = null;\n\t\t    // When pasting N lines into N selections, insert one line per selection\n\t\t    if (paste && sel.ranges.length > 1) {\n\t\t      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n\t\t        if (sel.ranges.length % lastCopied.text.length == 0) {\n\t\t          multiPaste = [];\n\t\t          for (var i = 0; i < lastCopied.text.length; i++)\n\t\t            { multiPaste.push(doc.splitLines(lastCopied.text[i])); }\n\t\t        }\n\t\t      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n\t\t        multiPaste = map(textLines, function (l) { return [l]; });\n\t\t      }\n\t\t    }\n\n\t\t    var updateInput = cm.curOp.updateInput;\n\t\t    // Normal behavior is to insert the new text into every selection\n\t\t    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n\t\t      var range = sel.ranges[i$1];\n\t\t      var from = range.from(), to = range.to();\n\t\t      if (range.empty()) {\n\t\t        if (deleted && deleted > 0) // Handle deletion\n\t\t          { from = Pos(from.line, from.ch - deleted); }\n\t\t        else if (cm.state.overwrite && !paste) // Handle overwrite\n\t\t          { to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length)); }\n\t\t        else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == textLines.join(\"\\n\"))\n\t\t          { from = to = Pos(from.line, 0); }\n\t\t      }\n\t\t      var changeEvent = {from: from, to: to, text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n\t\t                         origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")};\n\t\t      makeChange(cm.doc, changeEvent);\n\t\t      signalLater(cm, \"inputRead\", cm, changeEvent);\n\t\t    }\n\t\t    if (inserted && !paste)\n\t\t      { triggerElectric(cm, inserted); }\n\n\t\t    ensureCursorVisible(cm);\n\t\t    if (cm.curOp.updateInput < 2) { cm.curOp.updateInput = updateInput; }\n\t\t    cm.curOp.typing = true;\n\t\t    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n\t\t  }\n\n\t\t  function handlePaste(e, cm) {\n\t\t    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\t\t    if (pasted) {\n\t\t      e.preventDefault();\n\t\t      if (!cm.isReadOnly() && !cm.options.disableInput && cm.hasFocus())\n\t\t        { runInOp(cm, function () { return applyTextInput(cm, pasted, 0, null, \"paste\"); }); }\n\t\t      return true\n\t\t    }\n\t\t  }\n\n\t\t  function triggerElectric(cm, inserted) {\n\t\t    // When an 'electric' character is inserted, immediately trigger a reindent\n\t\t    if (!cm.options.electricChars || !cm.options.smartIndent) { return }\n\t\t    var sel = cm.doc.sel;\n\n\t\t    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n\t\t      var range = sel.ranges[i];\n\t\t      if (range.head.ch > 100 || (i && sel.ranges[i - 1].head.line == range.head.line)) { continue }\n\t\t      var mode = cm.getModeAt(range.head);\n\t\t      var indented = false;\n\t\t      if (mode.electricChars) {\n\t\t        for (var j = 0; j < mode.electricChars.length; j++)\n\t\t          { if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n\t\t            indented = indentLine(cm, range.head.line, \"smart\");\n\t\t            break\n\t\t          } }\n\t\t      } else if (mode.electricInput) {\n\t\t        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch)))\n\t\t          { indented = indentLine(cm, range.head.line, \"smart\"); }\n\t\t      }\n\t\t      if (indented) { signalLater(cm, \"electricInput\", cm, range.head.line); }\n\t\t    }\n\t\t  }\n\n\t\t  function copyableRanges(cm) {\n\t\t    var text = [], ranges = [];\n\t\t    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n\t\t      var line = cm.doc.sel.ranges[i].head.line;\n\t\t      var lineRange = {anchor: Pos(line, 0), head: Pos(line + 1, 0)};\n\t\t      ranges.push(lineRange);\n\t\t      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n\t\t    }\n\t\t    return {text: text, ranges: ranges}\n\t\t  }\n\n\t\t  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n\t\t    field.setAttribute(\"autocorrect\", autocorrect ? \"on\" : \"off\");\n\t\t    field.setAttribute(\"autocapitalize\", autocapitalize ? \"on\" : \"off\");\n\t\t    field.setAttribute(\"spellcheck\", !!spellcheck);\n\t\t  }\n\n\t\t  function hiddenTextarea() {\n\t\t    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none\");\n\t\t    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\");\n\t\t    // The textarea is kept positioned near the cursor to prevent the\n\t\t    // fact that it'll be scrolled into view on input from scrolling\n\t\t    // our fake cursor out of view. On webkit, when wrap=off, paste is\n\t\t    // very slow. So make the area wide instead.\n\t\t    if (webkit) { te.style.width = \"1000px\"; }\n\t\t    else { te.setAttribute(\"wrap\", \"off\"); }\n\t\t    // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\t\t    if (ios) { te.style.border = \"1px solid black\"; }\n\t\t    return div\n\t\t  }\n\n\t\t  // The publicly visible API. Note that methodOp(f) means\n\t\t  // 'wrap f in an operation, performed on its `this` parameter'.\n\n\t\t  // This is not the complete set of editor methods. Most of the\n\t\t  // methods defined on the Doc type are also injected into\n\t\t  // CodeMirror.prototype, for backwards compatibility and\n\t\t  // convenience.\n\n\t\t  function addEditorMethods(CodeMirror) {\n\t\t    var optionHandlers = CodeMirror.optionHandlers;\n\n\t\t    var helpers = CodeMirror.helpers = {};\n\n\t\t    CodeMirror.prototype = {\n\t\t      constructor: CodeMirror,\n\t\t      focus: function(){win(this).focus(); this.display.input.focus();},\n\n\t\t      setOption: function(option, value) {\n\t\t        var options = this.options, old = options[option];\n\t\t        if (options[option] == value && option != \"mode\") { return }\n\t\t        options[option] = value;\n\t\t        if (optionHandlers.hasOwnProperty(option))\n\t\t          { operation(this, optionHandlers[option])(this, value, old); }\n\t\t        signal(this, \"optionChange\", this, option);\n\t\t      },\n\n\t\t      getOption: function(option) {return this.options[option]},\n\t\t      getDoc: function() {return this.doc},\n\n\t\t      addKeyMap: function(map, bottom) {\n\t\t        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n\t\t      },\n\t\t      removeKeyMap: function(map) {\n\t\t        var maps = this.state.keyMaps;\n\t\t        for (var i = 0; i < maps.length; ++i)\n\t\t          { if (maps[i] == map || maps[i].name == map) {\n\t\t            maps.splice(i, 1);\n\t\t            return true\n\t\t          } }\n\t\t      },\n\n\t\t      addOverlay: methodOp(function(spec, options) {\n\t\t        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\t\t        if (mode.startState) { throw new Error(\"Overlays may not be stateful.\") }\n\t\t        insertSorted(this.state.overlays,\n\t\t                     {mode: mode, modeSpec: spec, opaque: options && options.opaque,\n\t\t                      priority: (options && options.priority) || 0},\n\t\t                     function (overlay) { return overlay.priority; });\n\t\t        this.state.modeGen++;\n\t\t        regChange(this);\n\t\t      }),\n\t\t      removeOverlay: methodOp(function(spec) {\n\t\t        var overlays = this.state.overlays;\n\t\t        for (var i = 0; i < overlays.length; ++i) {\n\t\t          var cur = overlays[i].modeSpec;\n\t\t          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n\t\t            overlays.splice(i, 1);\n\t\t            this.state.modeGen++;\n\t\t            regChange(this);\n\t\t            return\n\t\t          }\n\t\t        }\n\t\t      }),\n\n\t\t      indentLine: methodOp(function(n, dir, aggressive) {\n\t\t        if (typeof dir != \"string\" && typeof dir != \"number\") {\n\t\t          if (dir == null) { dir = this.options.smartIndent ? \"smart\" : \"prev\"; }\n\t\t          else { dir = dir ? \"add\" : \"subtract\"; }\n\t\t        }\n\t\t        if (isLine(this.doc, n)) { indentLine(this, n, dir, aggressive); }\n\t\t      }),\n\t\t      indentSelection: methodOp(function(how) {\n\t\t        var ranges = this.doc.sel.ranges, end = -1;\n\t\t        for (var i = 0; i < ranges.length; i++) {\n\t\t          var range = ranges[i];\n\t\t          if (!range.empty()) {\n\t\t            var from = range.from(), to = range.to();\n\t\t            var start = Math.max(end, from.line);\n\t\t            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\t\t            for (var j = start; j < end; ++j)\n\t\t              { indentLine(this, j, how); }\n\t\t            var newRanges = this.doc.sel.ranges;\n\t\t            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0)\n\t\t              { replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll); }\n\t\t          } else if (range.head.line > end) {\n\t\t            indentLine(this, range.head.line, how, true);\n\t\t            end = range.head.line;\n\t\t            if (i == this.doc.sel.primIndex) { ensureCursorVisible(this); }\n\t\t          }\n\t\t        }\n\t\t      }),\n\n\t\t      // Fetch the parser token for a given character. Useful for hacks\n\t\t      // that want to inspect the mode state (say, for completion).\n\t\t      getTokenAt: function(pos, precise) {\n\t\t        return takeToken(this, pos, precise)\n\t\t      },\n\n\t\t      getLineTokens: function(line, precise) {\n\t\t        return takeToken(this, Pos(line), precise, true)\n\t\t      },\n\n\t\t      getTokenTypeAt: function(pos) {\n\t\t        pos = clipPos(this.doc, pos);\n\t\t        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n\t\t        var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;\n\t\t        var type;\n\t\t        if (ch == 0) { type = styles[2]; }\n\t\t        else { for (;;) {\n\t\t          var mid = (before + after) >> 1;\n\t\t          if ((mid ? styles[mid * 2 - 1] : 0) >= ch) { after = mid; }\n\t\t          else if (styles[mid * 2 + 1] < ch) { before = mid + 1; }\n\t\t          else { type = styles[mid * 2 + 2]; break }\n\t\t        } }\n\t\t        var cut = type ? type.indexOf(\"overlay \") : -1;\n\t\t        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1)\n\t\t      },\n\n\t\t      getModeAt: function(pos) {\n\t\t        var mode = this.doc.mode;\n\t\t        if (!mode.innerMode) { return mode }\n\t\t        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode\n\t\t      },\n\n\t\t      getHelper: function(pos, type) {\n\t\t        return this.getHelpers(pos, type)[0]\n\t\t      },\n\n\t\t      getHelpers: function(pos, type) {\n\t\t        var found = [];\n\t\t        if (!helpers.hasOwnProperty(type)) { return found }\n\t\t        var help = helpers[type], mode = this.getModeAt(pos);\n\t\t        if (typeof mode[type] == \"string\") {\n\t\t          if (help[mode[type]]) { found.push(help[mode[type]]); }\n\t\t        } else if (mode[type]) {\n\t\t          for (var i = 0; i < mode[type].length; i++) {\n\t\t            var val = help[mode[type][i]];\n\t\t            if (val) { found.push(val); }\n\t\t          }\n\t\t        } else if (mode.helperType && help[mode.helperType]) {\n\t\t          found.push(help[mode.helperType]);\n\t\t        } else if (help[mode.name]) {\n\t\t          found.push(help[mode.name]);\n\t\t        }\n\t\t        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n\t\t          var cur = help._global[i$1];\n\t\t          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1)\n\t\t            { found.push(cur.val); }\n\t\t        }\n\t\t        return found\n\t\t      },\n\n\t\t      getStateAfter: function(line, precise) {\n\t\t        var doc = this.doc;\n\t\t        line = clipLine(doc, line == null ? doc.first + doc.size - 1: line);\n\t\t        return getContextBefore(this, line + 1, precise).state\n\t\t      },\n\n\t\t      cursorCoords: function(start, mode) {\n\t\t        var pos, range = this.doc.sel.primary();\n\t\t        if (start == null) { pos = range.head; }\n\t\t        else if (typeof start == \"object\") { pos = clipPos(this.doc, start); }\n\t\t        else { pos = start ? range.from() : range.to(); }\n\t\t        return cursorCoords(this, pos, mode || \"page\")\n\t\t      },\n\n\t\t      charCoords: function(pos, mode) {\n\t\t        return charCoords(this, clipPos(this.doc, pos), mode || \"page\")\n\t\t      },\n\n\t\t      coordsChar: function(coords, mode) {\n\t\t        coords = fromCoordSystem(this, coords, mode || \"page\");\n\t\t        return coordsChar(this, coords.left, coords.top)\n\t\t      },\n\n\t\t      lineAtHeight: function(height, mode) {\n\t\t        height = fromCoordSystem(this, {top: height, left: 0}, mode || \"page\").top;\n\t\t        return lineAtHeight(this.doc, height + this.display.viewOffset)\n\t\t      },\n\t\t      heightAtLine: function(line, mode, includeWidgets) {\n\t\t        var end = false, lineObj;\n\t\t        if (typeof line == \"number\") {\n\t\t          var last = this.doc.first + this.doc.size - 1;\n\t\t          if (line < this.doc.first) { line = this.doc.first; }\n\t\t          else if (line > last) { line = last; end = true; }\n\t\t          lineObj = getLine(this.doc, line);\n\t\t        } else {\n\t\t          lineObj = line;\n\t\t        }\n\t\t        return intoCoordSystem(this, lineObj, {top: 0, left: 0}, mode || \"page\", includeWidgets || end).top +\n\t\t          (end ? this.doc.height - heightAtLine(lineObj) : 0)\n\t\t      },\n\n\t\t      defaultTextHeight: function() { return textHeight(this.display) },\n\t\t      defaultCharWidth: function() { return charWidth(this.display) },\n\n\t\t      getViewport: function() { return {from: this.display.viewFrom, to: this.display.viewTo}},\n\n\t\t      addWidget: function(pos, node, scroll, vert, horiz) {\n\t\t        var display = this.display;\n\t\t        pos = cursorCoords(this, clipPos(this.doc, pos));\n\t\t        var top = pos.bottom, left = pos.left;\n\t\t        node.style.position = \"absolute\";\n\t\t        node.setAttribute(\"cm-ignore-events\", \"true\");\n\t\t        this.display.input.setUneditable(node);\n\t\t        display.sizer.appendChild(node);\n\t\t        if (vert == \"over\") {\n\t\t          top = pos.top;\n\t\t        } else if (vert == \"above\" || vert == \"near\") {\n\t\t          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n\t\t          hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);\n\t\t          // Default to positioning above (if specified and possible); otherwise default to positioning below\n\t\t          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight)\n\t\t            { top = pos.top - node.offsetHeight; }\n\t\t          else if (pos.bottom + node.offsetHeight <= vspace)\n\t\t            { top = pos.bottom; }\n\t\t          if (left + node.offsetWidth > hspace)\n\t\t            { left = hspace - node.offsetWidth; }\n\t\t        }\n\t\t        node.style.top = top + \"px\";\n\t\t        node.style.left = node.style.right = \"\";\n\t\t        if (horiz == \"right\") {\n\t\t          left = display.sizer.clientWidth - node.offsetWidth;\n\t\t          node.style.right = \"0px\";\n\t\t        } else {\n\t\t          if (horiz == \"left\") { left = 0; }\n\t\t          else if (horiz == \"middle\") { left = (display.sizer.clientWidth - node.offsetWidth) / 2; }\n\t\t          node.style.left = left + \"px\";\n\t\t        }\n\t\t        if (scroll)\n\t\t          { scrollIntoView(this, {left: left, top: top, right: left + node.offsetWidth, bottom: top + node.offsetHeight}); }\n\t\t      },\n\n\t\t      triggerOnKeyDown: methodOp(onKeyDown),\n\t\t      triggerOnKeyPress: methodOp(onKeyPress),\n\t\t      triggerOnKeyUp: onKeyUp,\n\t\t      triggerOnMouseDown: methodOp(onMouseDown),\n\n\t\t      execCommand: function(cmd) {\n\t\t        if (commands.hasOwnProperty(cmd))\n\t\t          { return commands[cmd].call(null, this) }\n\t\t      },\n\n\t\t      triggerElectric: methodOp(function(text) { triggerElectric(this, text); }),\n\n\t\t      findPosH: function(from, amount, unit, visually) {\n\t\t        var dir = 1;\n\t\t        if (amount < 0) { dir = -1; amount = -amount; }\n\t\t        var cur = clipPos(this.doc, from);\n\t\t        for (var i = 0; i < amount; ++i) {\n\t\t          cur = findPosH(this.doc, cur, dir, unit, visually);\n\t\t          if (cur.hitSide) { break }\n\t\t        }\n\t\t        return cur\n\t\t      },\n\n\t\t      moveH: methodOp(function(dir, unit) {\n\t\t        var this$1$1 = this;\n\n\t\t        this.extendSelectionsBy(function (range) {\n\t\t          if (this$1$1.display.shift || this$1$1.doc.extend || range.empty())\n\t\t            { return findPosH(this$1$1.doc, range.head, dir, unit, this$1$1.options.rtlMoveVisually) }\n\t\t          else\n\t\t            { return dir < 0 ? range.from() : range.to() }\n\t\t        }, sel_move);\n\t\t      }),\n\n\t\t      deleteH: methodOp(function(dir, unit) {\n\t\t        var sel = this.doc.sel, doc = this.doc;\n\t\t        if (sel.somethingSelected())\n\t\t          { doc.replaceSelection(\"\", null, \"+delete\"); }\n\t\t        else\n\t\t          { deleteNearSelection(this, function (range) {\n\t\t            var other = findPosH(doc, range.head, dir, unit, false);\n\t\t            return dir < 0 ? {from: other, to: range.head} : {from: range.head, to: other}\n\t\t          }); }\n\t\t      }),\n\n\t\t      findPosV: function(from, amount, unit, goalColumn) {\n\t\t        var dir = 1, x = goalColumn;\n\t\t        if (amount < 0) { dir = -1; amount = -amount; }\n\t\t        var cur = clipPos(this.doc, from);\n\t\t        for (var i = 0; i < amount; ++i) {\n\t\t          var coords = cursorCoords(this, cur, \"div\");\n\t\t          if (x == null) { x = coords.left; }\n\t\t          else { coords.left = x; }\n\t\t          cur = findPosV(this, coords, dir, unit);\n\t\t          if (cur.hitSide) { break }\n\t\t        }\n\t\t        return cur\n\t\t      },\n\n\t\t      moveV: methodOp(function(dir, unit) {\n\t\t        var this$1$1 = this;\n\n\t\t        var doc = this.doc, goals = [];\n\t\t        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n\t\t        doc.extendSelectionsBy(function (range) {\n\t\t          if (collapse)\n\t\t            { return dir < 0 ? range.from() : range.to() }\n\t\t          var headPos = cursorCoords(this$1$1, range.head, \"div\");\n\t\t          if (range.goalColumn != null) { headPos.left = range.goalColumn; }\n\t\t          goals.push(headPos.left);\n\t\t          var pos = findPosV(this$1$1, headPos, dir, unit);\n\t\t          if (unit == \"page\" && range == doc.sel.primary())\n\t\t            { addToScrollTop(this$1$1, charCoords(this$1$1, pos, \"div\").top - headPos.top); }\n\t\t          return pos\n\t\t        }, sel_move);\n\t\t        if (goals.length) { for (var i = 0; i < doc.sel.ranges.length; i++)\n\t\t          { doc.sel.ranges[i].goalColumn = goals[i]; } }\n\t\t      }),\n\n\t\t      // Find the word at the given position (as returned by coordsChar).\n\t\t      findWordAt: function(pos) {\n\t\t        var doc = this.doc, line = getLine(doc, pos.line).text;\n\t\t        var start = pos.ch, end = pos.ch;\n\t\t        if (line) {\n\t\t          var helper = this.getHelper(pos, \"wordChars\");\n\t\t          if ((pos.sticky == \"before\" || end == line.length) && start) { --start; } else { ++end; }\n\t\t          var startChar = line.charAt(start);\n\t\t          var check = isWordChar(startChar, helper)\n\t\t            ? function (ch) { return isWordChar(ch, helper); }\n\t\t            : /\\s/.test(startChar) ? function (ch) { return /\\s/.test(ch); }\n\t\t            : function (ch) { return (!/\\s/.test(ch) && !isWordChar(ch)); };\n\t\t          while (start > 0 && check(line.charAt(start - 1))) { --start; }\n\t\t          while (end < line.length && check(line.charAt(end))) { ++end; }\n\t\t        }\n\t\t        return new Range(Pos(pos.line, start), Pos(pos.line, end))\n\t\t      },\n\n\t\t      toggleOverwrite: function(value) {\n\t\t        if (value != null && value == this.state.overwrite) { return }\n\t\t        if (this.state.overwrite = !this.state.overwrite)\n\t\t          { addClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\t\t        else\n\t\t          { rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\"); }\n\n\t\t        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n\t\t      },\n\t\t      hasFocus: function() { return this.display.input.getField() == activeElt(root(this)) },\n\t\t      isReadOnly: function() { return !!(this.options.readOnly || this.doc.cantEdit) },\n\n\t\t      scrollTo: methodOp(function (x, y) { scrollToCoords(this, x, y); }),\n\t\t      getScrollInfo: function() {\n\t\t        var scroller = this.display.scroller;\n\t\t        return {left: scroller.scrollLeft, top: scroller.scrollTop,\n\t\t                height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n\t\t                width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n\t\t                clientHeight: displayHeight(this), clientWidth: displayWidth(this)}\n\t\t      },\n\n\t\t      scrollIntoView: methodOp(function(range, margin) {\n\t\t        if (range == null) {\n\t\t          range = {from: this.doc.sel.primary().head, to: null};\n\t\t          if (margin == null) { margin = this.options.cursorScrollMargin; }\n\t\t        } else if (typeof range == \"number\") {\n\t\t          range = {from: Pos(range, 0), to: null};\n\t\t        } else if (range.from == null) {\n\t\t          range = {from: range, to: null};\n\t\t        }\n\t\t        if (!range.to) { range.to = range.from; }\n\t\t        range.margin = margin || 0;\n\n\t\t        if (range.from.line != null) {\n\t\t          scrollToRange(this, range);\n\t\t        } else {\n\t\t          scrollToCoordsRange(this, range.from, range.to, range.margin);\n\t\t        }\n\t\t      }),\n\n\t\t      setSize: methodOp(function(width, height) {\n\t\t        var this$1$1 = this;\n\n\t\t        var interpret = function (val) { return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val; };\n\t\t        if (width != null) { this.display.wrapper.style.width = interpret(width); }\n\t\t        if (height != null) { this.display.wrapper.style.height = interpret(height); }\n\t\t        if (this.options.lineWrapping) { clearLineMeasurementCache(this); }\n\t\t        var lineNo = this.display.viewFrom;\n\t\t        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n\t\t          if (line.widgets) { for (var i = 0; i < line.widgets.length; i++)\n\t\t            { if (line.widgets[i].noHScroll) { regLineChange(this$1$1, lineNo, \"widget\"); break } } }\n\t\t          ++lineNo;\n\t\t        });\n\t\t        this.curOp.forceUpdate = true;\n\t\t        signal(this, \"refresh\", this);\n\t\t      }),\n\n\t\t      operation: function(f){return runInOp(this, f)},\n\t\t      startOperation: function(){return startOperation(this)},\n\t\t      endOperation: function(){return endOperation(this)},\n\n\t\t      refresh: methodOp(function() {\n\t\t        var oldHeight = this.display.cachedTextHeight;\n\t\t        regChange(this);\n\t\t        this.curOp.forceUpdate = true;\n\t\t        clearCaches(this);\n\t\t        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n\t\t        updateGutterSpace(this.display);\n\t\t        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping)\n\t\t          { estimateLineHeights(this); }\n\t\t        signal(this, \"refresh\", this);\n\t\t      }),\n\n\t\t      swapDoc: methodOp(function(doc) {\n\t\t        var old = this.doc;\n\t\t        old.cm = null;\n\t\t        // Cancel the current text selection if any (#5821)\n\t\t        if (this.state.selectingText) { this.state.selectingText(); }\n\t\t        attachDoc(this, doc);\n\t\t        clearCaches(this);\n\t\t        this.display.input.reset();\n\t\t        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n\t\t        this.curOp.forceScroll = true;\n\t\t        signalLater(this, \"swapDoc\", this, old);\n\t\t        return old\n\t\t      }),\n\n\t\t      phrase: function(phraseText) {\n\t\t        var phrases = this.options.phrases;\n\t\t        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText\n\t\t      },\n\n\t\t      getInputField: function(){return this.display.input.getField()},\n\t\t      getWrapperElement: function(){return this.display.wrapper},\n\t\t      getScrollerElement: function(){return this.display.scroller},\n\t\t      getGutterElement: function(){return this.display.gutters}\n\t\t    };\n\t\t    eventMixin(CodeMirror);\n\n\t\t    CodeMirror.registerHelper = function(type, name, value) {\n\t\t      if (!helpers.hasOwnProperty(type)) { helpers[type] = CodeMirror[type] = {_global: []}; }\n\t\t      helpers[type][name] = value;\n\t\t    };\n\t\t    CodeMirror.registerGlobalHelper = function(type, name, predicate, value) {\n\t\t      CodeMirror.registerHelper(type, name, value);\n\t\t      helpers[type]._global.push({pred: predicate, val: value});\n\t\t    };\n\t\t  }\n\n\t\t  // Used for horizontal relative motion. Dir is -1 or 1 (left or\n\t\t  // right), unit can be \"codepoint\", \"char\", \"column\" (like char, but\n\t\t  // doesn't cross line boundaries), \"word\" (across next word), or\n\t\t  // \"group\" (to the start of next group of word or\n\t\t  // non-word-non-whitespace chars). The visually param controls\n\t\t  // whether, in right-to-left text, direction 1 means to move towards\n\t\t  // the next index in the string, or towards the character to the right\n\t\t  // of the current position. The resulting position will have a\n\t\t  // hitSide=true property if it reached the end of the document.\n\t\t  function findPosH(doc, pos, dir, unit, visually) {\n\t\t    var oldPos = pos;\n\t\t    var origDir = dir;\n\t\t    var lineObj = getLine(doc, pos.line);\n\t\t    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n\t\t    function findNextLine() {\n\t\t      var l = pos.line + lineDir;\n\t\t      if (l < doc.first || l >= doc.first + doc.size) { return false }\n\t\t      pos = new Pos(l, pos.ch, pos.sticky);\n\t\t      return lineObj = getLine(doc, l)\n\t\t    }\n\t\t    function moveOnce(boundToLine) {\n\t\t      var next;\n\t\t      if (unit == \"codepoint\") {\n\t\t        var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));\n\t\t        if (isNaN(ch)) {\n\t\t          next = null;\n\t\t        } else {\n\t\t          var astral = dir > 0 ? ch >= 0xD800 && ch < 0xDC00 : ch >= 0xDC00 && ch < 0xDFFF;\n\t\t          next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);\n\t\t        }\n\t\t      } else if (visually) {\n\t\t        next = moveVisually(doc.cm, lineObj, pos, dir);\n\t\t      } else {\n\t\t        next = moveLogically(lineObj, pos, dir);\n\t\t      }\n\t\t      if (next == null) {\n\t\t        if (!boundToLine && findNextLine())\n\t\t          { pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir); }\n\t\t        else\n\t\t          { return false }\n\t\t      } else {\n\t\t        pos = next;\n\t\t      }\n\t\t      return true\n\t\t    }\n\n\t\t    if (unit == \"char\" || unit == \"codepoint\") {\n\t\t      moveOnce();\n\t\t    } else if (unit == \"column\") {\n\t\t      moveOnce(true);\n\t\t    } else if (unit == \"word\" || unit == \"group\") {\n\t\t      var sawType = null, group = unit == \"group\";\n\t\t      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\t\t      for (var first = true;; first = false) {\n\t\t        if (dir < 0 && !moveOnce(!first)) { break }\n\t\t        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n\t\t        var type = isWordChar(cur, helper) ? \"w\"\n\t\t          : group && cur == \"\\n\" ? \"n\"\n\t\t          : !group || /\\s/.test(cur) ? null\n\t\t          : \"p\";\n\t\t        if (group && !first && !type) { type = \"s\"; }\n\t\t        if (sawType && sawType != type) {\n\t\t          if (dir < 0) {dir = 1; moveOnce(); pos.sticky = \"after\";}\n\t\t          break\n\t\t        }\n\n\t\t        if (type) { sawType = type; }\n\t\t        if (dir > 0 && !moveOnce(!first)) { break }\n\t\t      }\n\t\t    }\n\t\t    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\t\t    if (equalCursorPos(oldPos, result)) { result.hitSide = true; }\n\t\t    return result\n\t\t  }\n\n\t\t  // For relative vertical movement. Dir may be -1 or 1. Unit can be\n\t\t  // \"page\" or \"line\". The resulting position will have a hitSide=true\n\t\t  // property if it reached the end of the document.\n\t\t  function findPosV(cm, pos, dir, unit) {\n\t\t    var doc = cm.doc, x = pos.left, y;\n\t\t    if (unit == \"page\") {\n\t\t      var pageSize = Math.min(cm.display.wrapper.clientHeight, win(cm).innerHeight || doc(cm).documentElement.clientHeight);\n\t\t      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n\t\t      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n\n\t\t    } else if (unit == \"line\") {\n\t\t      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n\t\t    }\n\t\t    var target;\n\t\t    for (;;) {\n\t\t      target = coordsChar(cm, x, y);\n\t\t      if (!target.outside) { break }\n\t\t      if (dir < 0 ? y <= 0 : y >= doc.height) { target.hitSide = true; break }\n\t\t      y += dir * 5;\n\t\t    }\n\t\t    return target\n\t\t  }\n\n\t\t  // CONTENTEDITABLE INPUT STYLE\n\n\t\t  var ContentEditableInput = function(cm) {\n\t\t    this.cm = cm;\n\t\t    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n\t\t    this.polling = new Delayed();\n\t\t    this.composing = null;\n\t\t    this.gracePeriod = false;\n\t\t    this.readDOMTimeout = null;\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.init = function (display) {\n\t\t      var this$1$1 = this;\n\n\t\t    var input = this, cm = input.cm;\n\t\t    var div = input.div = display.lineDiv;\n\t\t    div.contentEditable = true;\n\t\t    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n\n\t\t    function belongsToInput(e) {\n\t\t      for (var t = e.target; t; t = t.parentNode) {\n\t\t        if (t == div) { return true }\n\t\t        if (/\\bCodeMirror-(?:line)?widget\\b/.test(t.className)) { break }\n\t\t      }\n\t\t      return false\n\t\t    }\n\n\t\t    on(div, \"paste\", function (e) {\n\t\t      if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\t\t      // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\t\t      if (ie_version <= 11) { setTimeout(operation(cm, function () { return this$1$1.updateFromDOM(); }), 20); }\n\t\t    });\n\n\t\t    on(div, \"compositionstart\", function (e) {\n\t\t      this$1$1.composing = {data: e.data, done: false};\n\t\t    });\n\t\t    on(div, \"compositionupdate\", function (e) {\n\t\t      if (!this$1$1.composing) { this$1$1.composing = {data: e.data, done: false}; }\n\t\t    });\n\t\t    on(div, \"compositionend\", function (e) {\n\t\t      if (this$1$1.composing) {\n\t\t        if (e.data != this$1$1.composing.data) { this$1$1.readFromDOMSoon(); }\n\t\t        this$1$1.composing.done = true;\n\t\t      }\n\t\t    });\n\n\t\t    on(div, \"touchstart\", function () { return input.forceCompositionEnd(); });\n\n\t\t    on(div, \"input\", function () {\n\t\t      if (!this$1$1.composing) { this$1$1.readFromDOMSoon(); }\n\t\t    });\n\n\t\t    function onCopyCut(e) {\n\t\t      if (!belongsToInput(e) || signalDOMEvent(cm, e)) { return }\n\t\t      if (cm.somethingSelected()) {\n\t\t        setLastCopied({lineWise: false, text: cm.getSelections()});\n\t\t        if (e.type == \"cut\") { cm.replaceSelection(\"\", null, \"cut\"); }\n\t\t      } else if (!cm.options.lineWiseCopyCut) {\n\t\t        return\n\t\t      } else {\n\t\t        var ranges = copyableRanges(cm);\n\t\t        setLastCopied({lineWise: true, text: ranges.text});\n\t\t        if (e.type == \"cut\") {\n\t\t          cm.operation(function () {\n\t\t            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n\t\t            cm.replaceSelection(\"\", null, \"cut\");\n\t\t          });\n\t\t        }\n\t\t      }\n\t\t      if (e.clipboardData) {\n\t\t        e.clipboardData.clearData();\n\t\t        var content = lastCopied.text.join(\"\\n\");\n\t\t        // iOS exposes the clipboard API, but seems to discard content inserted into it\n\t\t        e.clipboardData.setData(\"Text\", content);\n\t\t        if (e.clipboardData.getData(\"Text\") == content) {\n\t\t          e.preventDefault();\n\t\t          return\n\t\t        }\n\t\t      }\n\t\t      // Old-fashioned briefly-focus-a-textarea hack\n\t\t      var kludge = hiddenTextarea(), te = kludge.firstChild;\n\t\t      disableBrowserMagic(te);\n\t\t      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n\t\t      te.value = lastCopied.text.join(\"\\n\");\n\t\t      var hadFocus = activeElt(rootNode(div));\n\t\t      selectInput(te);\n\t\t      setTimeout(function () {\n\t\t        cm.display.lineSpace.removeChild(kludge);\n\t\t        hadFocus.focus();\n\t\t        if (hadFocus == div) { input.showPrimarySelection(); }\n\t\t      }, 50);\n\t\t    }\n\t\t    on(div, \"copy\", onCopyCut);\n\t\t    on(div, \"cut\", onCopyCut);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n\t\t    // Label for screenreaders, accessibility\n\t\t    if(label) {\n\t\t      this.div.setAttribute('aria-label', label);\n\t\t    } else {\n\t\t      this.div.removeAttribute('aria-label');\n\t\t    }\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.prepareSelection = function () {\n\t\t    var result = prepareSelection(this.cm, false);\n\t\t    result.focus = activeElt(rootNode(this.div)) == this.div;\n\t\t    return result\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n\t\t    if (!info || !this.cm.display.view.length) { return }\n\t\t    if (info.focus || takeFocus) { this.showPrimarySelection(); }\n\t\t    this.showMultipleSelections(info);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.getSelection = function () {\n\t\t    return this.cm.display.wrapper.ownerDocument.getSelection()\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.showPrimarySelection = function () {\n\t\t    var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();\n\t\t    var from = prim.from(), to = prim.to();\n\n\t\t    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n\t\t      sel.removeAllRanges();\n\t\t      return\n\t\t    }\n\n\t\t    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n\t\t    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\t\t    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad &&\n\t\t        cmp(minPos(curAnchor, curFocus), from) == 0 &&\n\t\t        cmp(maxPos(curAnchor, curFocus), to) == 0)\n\t\t      { return }\n\n\t\t    var view = cm.display.view;\n\t\t    var start = (from.line >= cm.display.viewFrom && posToDOM(cm, from)) ||\n\t\t        {node: view[0].measure.map[2], offset: 0};\n\t\t    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\t\t    if (!end) {\n\t\t      var measure = view[view.length - 1].measure;\n\t\t      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n\t\t      end = {node: map[map.length - 1], offset: map[map.length - 2] - map[map.length - 3]};\n\t\t    }\n\n\t\t    if (!start || !end) {\n\t\t      sel.removeAllRanges();\n\t\t      return\n\t\t    }\n\n\t\t    var old = sel.rangeCount && sel.getRangeAt(0), rng;\n\t\t    try { rng = range(start.node, start.offset, end.offset, end.node); }\n\t\t    catch(e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\t\t    if (rng) {\n\t\t      if (!gecko && cm.state.focused) {\n\t\t        sel.collapse(start.node, start.offset);\n\t\t        if (!rng.collapsed) {\n\t\t          sel.removeAllRanges();\n\t\t          sel.addRange(rng);\n\t\t        }\n\t\t      } else {\n\t\t        sel.removeAllRanges();\n\t\t        sel.addRange(rng);\n\t\t      }\n\t\t      if (old && sel.anchorNode == null) { sel.addRange(old); }\n\t\t      else if (gecko) { this.startGracePeriod(); }\n\t\t    }\n\t\t    this.rememberSelection();\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.startGracePeriod = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    clearTimeout(this.gracePeriod);\n\t\t    this.gracePeriod = setTimeout(function () {\n\t\t      this$1$1.gracePeriod = false;\n\t\t      if (this$1$1.selectionChanged())\n\t\t        { this$1$1.cm.operation(function () { return this$1$1.cm.curOp.selectionChanged = true; }); }\n\t\t    }, 20);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n\t\t    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n\t\t    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.rememberSelection = function () {\n\t\t    var sel = this.getSelection();\n\t\t    this.lastAnchorNode = sel.anchorNode; this.lastAnchorOffset = sel.anchorOffset;\n\t\t    this.lastFocusNode = sel.focusNode; this.lastFocusOffset = sel.focusOffset;\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.selectionInEditor = function () {\n\t\t    var sel = this.getSelection();\n\t\t    if (!sel.rangeCount) { return false }\n\t\t    var node = sel.getRangeAt(0).commonAncestorContainer;\n\t\t    return contains(this.div, node)\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.focus = function () {\n\t\t    if (this.cm.options.readOnly != \"nocursor\") {\n\t\t      if (!this.selectionInEditor() || activeElt(rootNode(this.div)) != this.div)\n\t\t        { this.showSelection(this.prepareSelection(), true); }\n\t\t      this.div.focus();\n\t\t    }\n\t\t  };\n\t\t  ContentEditableInput.prototype.blur = function () { this.div.blur(); };\n\t\t  ContentEditableInput.prototype.getField = function () { return this.div };\n\n\t\t  ContentEditableInput.prototype.supportsTouch = function () { return true };\n\n\t\t  ContentEditableInput.prototype.receivedFocus = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    var input = this;\n\t\t    if (this.selectionInEditor())\n\t\t      { setTimeout(function () { return this$1$1.pollSelection(); }, 20); }\n\t\t    else\n\t\t      { runInOp(this.cm, function () { return input.cm.curOp.selectionChanged = true; }); }\n\n\t\t    function poll() {\n\t\t      if (input.cm.state.focused) {\n\t\t        input.pollSelection();\n\t\t        input.polling.set(input.cm.options.pollInterval, poll);\n\t\t      }\n\t\t    }\n\t\t    this.polling.set(this.cm.options.pollInterval, poll);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.selectionChanged = function () {\n\t\t    var sel = this.getSelection();\n\t\t    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset ||\n\t\t      sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.pollSelection = function () {\n\t\t    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) { return }\n\t\t    var sel = this.getSelection(), cm = this.cm;\n\t\t    // On Android Chrome (version 56, at least), backspacing into an\n\t\t    // uneditable block element will put the cursor in that element,\n\t\t    // and then, because it's not editable, hide the virtual keyboard.\n\t\t    // Because Android doesn't allow us to actually detect backspace\n\t\t    // presses in a sane way, this code checks for when that happens\n\t\t    // and simulates a backspace press in this case.\n\t\t    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n\t\t      this.cm.triggerOnKeyDown({type: \"keydown\", keyCode: 8, preventDefault: Math.abs});\n\t\t      this.blur();\n\t\t      this.focus();\n\t\t      return\n\t\t    }\n\t\t    if (this.composing) { return }\n\t\t    this.rememberSelection();\n\t\t    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n\t\t    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\t\t    if (anchor && head) { runInOp(cm, function () {\n\t\t      setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\t\t      if (anchor.bad || head.bad) { cm.curOp.selectionChanged = true; }\n\t\t    }); }\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.pollContent = function () {\n\t\t    if (this.readDOMTimeout != null) {\n\t\t      clearTimeout(this.readDOMTimeout);\n\t\t      this.readDOMTimeout = null;\n\t\t    }\n\n\t\t    var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();\n\t\t    var from = sel.from(), to = sel.to();\n\t\t    if (from.ch == 0 && from.line > cm.firstLine())\n\t\t      { from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length); }\n\t\t    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine())\n\t\t      { to = Pos(to.line + 1, 0); }\n\t\t    if (from.line < display.viewFrom || to.line > display.viewTo - 1) { return false }\n\n\t\t    var fromIndex, fromLine, fromNode;\n\t\t    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n\t\t      fromLine = lineNo(display.view[0].line);\n\t\t      fromNode = display.view[0].node;\n\t\t    } else {\n\t\t      fromLine = lineNo(display.view[fromIndex].line);\n\t\t      fromNode = display.view[fromIndex - 1].node.nextSibling;\n\t\t    }\n\t\t    var toIndex = findViewIndex(cm, to.line);\n\t\t    var toLine, toNode;\n\t\t    if (toIndex == display.view.length - 1) {\n\t\t      toLine = display.viewTo - 1;\n\t\t      toNode = display.lineDiv.lastChild;\n\t\t    } else {\n\t\t      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n\t\t      toNode = display.view[toIndex + 1].node.previousSibling;\n\t\t    }\n\n\t\t    if (!fromNode) { return false }\n\t\t    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n\t\t    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\t\t    while (newText.length > 1 && oldText.length > 1) {\n\t\t      if (lst(newText) == lst(oldText)) { newText.pop(); oldText.pop(); toLine--; }\n\t\t      else if (newText[0] == oldText[0]) { newText.shift(); oldText.shift(); fromLine++; }\n\t\t      else { break }\n\t\t    }\n\n\t\t    var cutFront = 0, cutEnd = 0;\n\t\t    var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);\n\t\t    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront))\n\t\t      { ++cutFront; }\n\t\t    var newBot = lst(newText), oldBot = lst(oldText);\n\t\t    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0),\n\t\t                             oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\t\t    while (cutEnd < maxCutEnd &&\n\t\t           newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1))\n\t\t      { ++cutEnd; }\n\t\t    // Try to move start of change to start of selection if ambiguous\n\t\t    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n\t\t      while (cutFront && cutFront > from.ch &&\n\t\t             newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n\t\t        cutFront--;\n\t\t        cutEnd++;\n\t\t      }\n\t\t    }\n\n\t\t    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n\t\t    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n\n\t\t    var chFrom = Pos(fromLine, cutFront);\n\t\t    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\t\t    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n\t\t      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n\t\t      return true\n\t\t    }\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.ensurePolled = function () {\n\t\t    this.forceCompositionEnd();\n\t\t  };\n\t\t  ContentEditableInput.prototype.reset = function () {\n\t\t    this.forceCompositionEnd();\n\t\t  };\n\t\t  ContentEditableInput.prototype.forceCompositionEnd = function () {\n\t\t    if (!this.composing) { return }\n\t\t    clearTimeout(this.readDOMTimeout);\n\t\t    this.composing = null;\n\t\t    this.updateFromDOM();\n\t\t    this.div.blur();\n\t\t    this.div.focus();\n\t\t  };\n\t\t  ContentEditableInput.prototype.readFromDOMSoon = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    if (this.readDOMTimeout != null) { return }\n\t\t    this.readDOMTimeout = setTimeout(function () {\n\t\t      this$1$1.readDOMTimeout = null;\n\t\t      if (this$1$1.composing) {\n\t\t        if (this$1$1.composing.done) { this$1$1.composing = null; }\n\t\t        else { return }\n\t\t      }\n\t\t      this$1$1.updateFromDOM();\n\t\t    }, 80);\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.updateFromDOM = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    if (this.cm.isReadOnly() || !this.pollContent())\n\t\t      { runInOp(this.cm, function () { return regChange(this$1$1.cm); }); }\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.setUneditable = function (node) {\n\t\t    node.contentEditable = \"false\";\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.onKeyPress = function (e) {\n\t\t    if (e.charCode == 0 || this.composing) { return }\n\t\t    e.preventDefault();\n\t\t    if (!this.cm.isReadOnly())\n\t\t      { operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0); }\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n\t\t    this.div.contentEditable = String(val != \"nocursor\");\n\t\t  };\n\n\t\t  ContentEditableInput.prototype.onContextMenu = function () {};\n\t\t  ContentEditableInput.prototype.resetPosition = function () {};\n\n\t\t  ContentEditableInput.prototype.needsContentAttribute = true;\n\n\t\t  function posToDOM(cm, pos) {\n\t\t    var view = findViewForLine(cm, pos.line);\n\t\t    if (!view || view.hidden) { return null }\n\t\t    var line = getLine(cm.doc, pos.line);\n\t\t    var info = mapFromLineView(view, line, pos.line);\n\n\t\t    var order = getOrder(line, cm.doc.direction), side = \"left\";\n\t\t    if (order) {\n\t\t      var partPos = getBidiPartAt(order, pos.ch);\n\t\t      side = partPos % 2 ? \"right\" : \"left\";\n\t\t    }\n\t\t    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n\t\t    result.offset = result.collapse == \"right\" ? result.end : result.start;\n\t\t    return result\n\t\t  }\n\n\t\t  function isInGutter(node) {\n\t\t    for (var scan = node; scan; scan = scan.parentNode)\n\t\t      { if (/CodeMirror-gutter-wrapper/.test(scan.className)) { return true } }\n\t\t    return false\n\t\t  }\n\n\t\t  function badPos(pos, bad) { if (bad) { pos.bad = true; } return pos }\n\n\t\t  function domTextBetween(cm, from, to, fromLine, toLine) {\n\t\t    var text = \"\", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;\n\t\t    function recognizeMarker(id) { return function (marker) { return marker.id == id; } }\n\t\t    function close() {\n\t\t      if (closing) {\n\t\t        text += lineSep;\n\t\t        if (extraLinebreak) { text += lineSep; }\n\t\t        closing = extraLinebreak = false;\n\t\t      }\n\t\t    }\n\t\t    function addText(str) {\n\t\t      if (str) {\n\t\t        close();\n\t\t        text += str;\n\t\t      }\n\t\t    }\n\t\t    function walk(node) {\n\t\t      if (node.nodeType == 1) {\n\t\t        var cmText = node.getAttribute(\"cm-text\");\n\t\t        if (cmText) {\n\t\t          addText(cmText);\n\t\t          return\n\t\t        }\n\t\t        var markerID = node.getAttribute(\"cm-marker\"), range;\n\t\t        if (markerID) {\n\t\t          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\t\t          if (found.length && (range = found[0].find(0)))\n\t\t            { addText(getBetween(cm.doc, range.from, range.to).join(lineSep)); }\n\t\t          return\n\t\t        }\n\t\t        if (node.getAttribute(\"contenteditable\") == \"false\") { return }\n\t\t        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\t\t        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) { return }\n\n\t\t        if (isBlock) { close(); }\n\t\t        for (var i = 0; i < node.childNodes.length; i++)\n\t\t          { walk(node.childNodes[i]); }\n\n\t\t        if (/^(pre|p)$/i.test(node.nodeName)) { extraLinebreak = true; }\n\t\t        if (isBlock) { closing = true; }\n\t\t      } else if (node.nodeType == 3) {\n\t\t        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n\t\t      }\n\t\t    }\n\t\t    for (;;) {\n\t\t      walk(from);\n\t\t      if (from == to) { break }\n\t\t      from = from.nextSibling;\n\t\t      extraLinebreak = false;\n\t\t    }\n\t\t    return text\n\t\t  }\n\n\t\t  function domToPos(cm, node, offset) {\n\t\t    var lineNode;\n\t\t    if (node == cm.display.lineDiv) {\n\t\t      lineNode = cm.display.lineDiv.childNodes[offset];\n\t\t      if (!lineNode) { return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true) }\n\t\t      node = null; offset = 0;\n\t\t    } else {\n\t\t      for (lineNode = node;; lineNode = lineNode.parentNode) {\n\t\t        if (!lineNode || lineNode == cm.display.lineDiv) { return null }\n\t\t        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) { break }\n\t\t      }\n\t\t    }\n\t\t    for (var i = 0; i < cm.display.view.length; i++) {\n\t\t      var lineView = cm.display.view[i];\n\t\t      if (lineView.node == lineNode)\n\t\t        { return locateNodeInLineView(lineView, node, offset) }\n\t\t    }\n\t\t  }\n\n\t\t  function locateNodeInLineView(lineView, node, offset) {\n\t\t    var wrapper = lineView.text.firstChild, bad = false;\n\t\t    if (!node || !contains(wrapper, node)) { return badPos(Pos(lineNo(lineView.line), 0), true) }\n\t\t    if (node == wrapper) {\n\t\t      bad = true;\n\t\t      node = wrapper.childNodes[offset];\n\t\t      offset = 0;\n\t\t      if (!node) {\n\t\t        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n\t\t        return badPos(Pos(lineNo(line), line.text.length), bad)\n\t\t      }\n\t\t    }\n\n\t\t    var textNode = node.nodeType == 3 ? node : null, topNode = node;\n\t\t    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n\t\t      textNode = node.firstChild;\n\t\t      if (offset) { offset = textNode.nodeValue.length; }\n\t\t    }\n\t\t    while (topNode.parentNode != wrapper) { topNode = topNode.parentNode; }\n\t\t    var measure = lineView.measure, maps = measure.maps;\n\n\t\t    function find(textNode, topNode, offset) {\n\t\t      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n\t\t        var map = i < 0 ? measure.map : maps[i];\n\t\t        for (var j = 0; j < map.length; j += 3) {\n\t\t          var curNode = map[j + 2];\n\t\t          if (curNode == textNode || curNode == topNode) {\n\t\t            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n\t\t            var ch = map[j] + offset;\n\t\t            if (offset < 0 || curNode != textNode) { ch = map[j + (offset ? 1 : 0)]; }\n\t\t            return Pos(line, ch)\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t    }\n\t\t    var found = find(textNode, topNode, offset);\n\t\t    if (found) { return badPos(found, bad) }\n\n\t\t    // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\t\t    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n\t\t      found = find(after, after.firstChild, 0);\n\t\t      if (found)\n\t\t        { return badPos(Pos(found.line, found.ch - dist), bad) }\n\t\t      else\n\t\t        { dist += after.textContent.length; }\n\t\t    }\n\t\t    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n\t\t      found = find(before, before.firstChild, -1);\n\t\t      if (found)\n\t\t        { return badPos(Pos(found.line, found.ch + dist$1), bad) }\n\t\t      else\n\t\t        { dist$1 += before.textContent.length; }\n\t\t    }\n\t\t  }\n\n\t\t  // TEXTAREA INPUT STYLE\n\n\t\t  var TextareaInput = function(cm) {\n\t\t    this.cm = cm;\n\t\t    // See input.poll and input.reset\n\t\t    this.prevInput = \"\";\n\n\t\t    // Flag that indicates whether we expect input to appear real soon\n\t\t    // now (after some event like 'keypress' or 'input') and are\n\t\t    // polling intensively.\n\t\t    this.pollingFast = false;\n\t\t    // Self-resetting timeout for the poller\n\t\t    this.polling = new Delayed();\n\t\t    // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\t\t    this.hasSelection = false;\n\t\t    this.composing = null;\n\t\t    this.resetting = false;\n\t\t  };\n\n\t\t  TextareaInput.prototype.init = function (display) {\n\t\t      var this$1$1 = this;\n\n\t\t    var input = this, cm = this.cm;\n\t\t    this.createField(display);\n\t\t    var te = this.textarea;\n\n\t\t    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);\n\n\t\t    // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\t\t    if (ios) { te.style.width = \"0px\"; }\n\n\t\t    on(te, \"input\", function () {\n\t\t      if (ie && ie_version >= 9 && this$1$1.hasSelection) { this$1$1.hasSelection = null; }\n\t\t      input.poll();\n\t\t    });\n\n\t\t    on(te, \"paste\", function (e) {\n\t\t      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) { return }\n\n\t\t      cm.state.pasteIncoming = +new Date;\n\t\t      input.fastPoll();\n\t\t    });\n\n\t\t    function prepareCopyCut(e) {\n\t\t      if (signalDOMEvent(cm, e)) { return }\n\t\t      if (cm.somethingSelected()) {\n\t\t        setLastCopied({lineWise: false, text: cm.getSelections()});\n\t\t      } else if (!cm.options.lineWiseCopyCut) {\n\t\t        return\n\t\t      } else {\n\t\t        var ranges = copyableRanges(cm);\n\t\t        setLastCopied({lineWise: true, text: ranges.text});\n\t\t        if (e.type == \"cut\") {\n\t\t          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n\t\t        } else {\n\t\t          input.prevInput = \"\";\n\t\t          te.value = ranges.text.join(\"\\n\");\n\t\t          selectInput(te);\n\t\t        }\n\t\t      }\n\t\t      if (e.type == \"cut\") { cm.state.cutIncoming = +new Date; }\n\t\t    }\n\t\t    on(te, \"cut\", prepareCopyCut);\n\t\t    on(te, \"copy\", prepareCopyCut);\n\n\t\t    on(display.scroller, \"paste\", function (e) {\n\t\t      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) { return }\n\t\t      if (!te.dispatchEvent) {\n\t\t        cm.state.pasteIncoming = +new Date;\n\t\t        input.focus();\n\t\t        return\n\t\t      }\n\n\t\t      // Pass the `paste` event to the textarea so it's handled by its event listener.\n\t\t      var event = new Event(\"paste\");\n\t\t      event.clipboardData = e.clipboardData;\n\t\t      te.dispatchEvent(event);\n\t\t    });\n\n\t\t    // Prevent normal selection in the editor (we handle our own)\n\t\t    on(display.lineSpace, \"selectstart\", function (e) {\n\t\t      if (!eventInWidget(display, e)) { e_preventDefault(e); }\n\t\t    });\n\n\t\t    on(te, \"compositionstart\", function () {\n\t\t      var start = cm.getCursor(\"from\");\n\t\t      if (input.composing) { input.composing.range.clear(); }\n\t\t      input.composing = {\n\t\t        start: start,\n\t\t        range: cm.markText(start, cm.getCursor(\"to\"), {className: \"CodeMirror-composing\"})\n\t\t      };\n\t\t    });\n\t\t    on(te, \"compositionend\", function () {\n\t\t      if (input.composing) {\n\t\t        input.poll();\n\t\t        input.composing.range.clear();\n\t\t        input.composing = null;\n\t\t      }\n\t\t    });\n\t\t  };\n\n\t\t  TextareaInput.prototype.createField = function (_display) {\n\t\t    // Wraps and hides input textarea\n\t\t    this.wrapper = hiddenTextarea();\n\t\t    // The semihidden textarea that is focused when the editor is\n\t\t    // focused, and receives input.\n\t\t    this.textarea = this.wrapper.firstChild;\n\t\t    var opts = this.cm.options;\n\t\t    disableBrowserMagic(this.textarea, opts.spellcheck, opts.autocorrect, opts.autocapitalize);\n\t\t  };\n\n\t\t  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n\t\t    // Label for screenreaders, accessibility\n\t\t    if(label) {\n\t\t      this.textarea.setAttribute('aria-label', label);\n\t\t    } else {\n\t\t      this.textarea.removeAttribute('aria-label');\n\t\t    }\n\t\t  };\n\n\t\t  TextareaInput.prototype.prepareSelection = function () {\n\t\t    // Redraw the selection and/or cursor\n\t\t    var cm = this.cm, display = cm.display, doc = cm.doc;\n\t\t    var result = prepareSelection(cm);\n\n\t\t    // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\t\t    if (cm.options.moveInputWithCursor) {\n\t\t      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n\t\t      var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();\n\t\t      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10,\n\t\t                                          headPos.top + lineOff.top - wrapOff.top));\n\t\t      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10,\n\t\t                                           headPos.left + lineOff.left - wrapOff.left));\n\t\t    }\n\n\t\t    return result\n\t\t  };\n\n\t\t  TextareaInput.prototype.showSelection = function (drawn) {\n\t\t    var cm = this.cm, display = cm.display;\n\t\t    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n\t\t    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\t\t    if (drawn.teTop != null) {\n\t\t      this.wrapper.style.top = drawn.teTop + \"px\";\n\t\t      this.wrapper.style.left = drawn.teLeft + \"px\";\n\t\t    }\n\t\t  };\n\n\t\t  // Reset the input to correspond to the selection (or to be empty,\n\t\t  // when not typing and nothing is selected)\n\t\t  TextareaInput.prototype.reset = function (typing) {\n\t\t    if (this.contextMenuPending || this.composing && typing) { return }\n\t\t    var cm = this.cm;\n\t\t    this.resetting = true;\n\t\t    if (cm.somethingSelected()) {\n\t\t      this.prevInput = \"\";\n\t\t      var content = cm.getSelection();\n\t\t      this.textarea.value = content;\n\t\t      if (cm.state.focused) { selectInput(this.textarea); }\n\t\t      if (ie && ie_version >= 9) { this.hasSelection = content; }\n\t\t    } else if (!typing) {\n\t\t      this.prevInput = this.textarea.value = \"\";\n\t\t      if (ie && ie_version >= 9) { this.hasSelection = null; }\n\t\t    }\n\t\t    this.resetting = false;\n\t\t  };\n\n\t\t  TextareaInput.prototype.getField = function () { return this.textarea };\n\n\t\t  TextareaInput.prototype.supportsTouch = function () { return false };\n\n\t\t  TextareaInput.prototype.focus = function () {\n\t\t    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt(rootNode(this.textarea)) != this.textarea)) {\n\t\t      try { this.textarea.focus(); }\n\t\t      catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\t\t    }\n\t\t  };\n\n\t\t  TextareaInput.prototype.blur = function () { this.textarea.blur(); };\n\n\t\t  TextareaInput.prototype.resetPosition = function () {\n\t\t    this.wrapper.style.top = this.wrapper.style.left = 0;\n\t\t  };\n\n\t\t  TextareaInput.prototype.receivedFocus = function () { this.slowPoll(); };\n\n\t\t  // Poll for input changes, using the normal rate of polling. This\n\t\t  // runs as long as the editor is focused.\n\t\t  TextareaInput.prototype.slowPoll = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    if (this.pollingFast) { return }\n\t\t    this.polling.set(this.cm.options.pollInterval, function () {\n\t\t      this$1$1.poll();\n\t\t      if (this$1$1.cm.state.focused) { this$1$1.slowPoll(); }\n\t\t    });\n\t\t  };\n\n\t\t  // When an event has just come in that is likely to add or change\n\t\t  // something in the input textarea, we poll faster, to ensure that\n\t\t  // the change appears on the screen quickly.\n\t\t  TextareaInput.prototype.fastPoll = function () {\n\t\t    var missed = false, input = this;\n\t\t    input.pollingFast = true;\n\t\t    function p() {\n\t\t      var changed = input.poll();\n\t\t      if (!changed && !missed) {missed = true; input.polling.set(60, p);}\n\t\t      else {input.pollingFast = false; input.slowPoll();}\n\t\t    }\n\t\t    input.polling.set(20, p);\n\t\t  };\n\n\t\t  // Read input from the textarea, and update the document to match.\n\t\t  // When something is selected, it is present in the textarea, and\n\t\t  // selected (unless it is huge, in which case a placeholder is\n\t\t  // used). When nothing is selected, the cursor sits after previously\n\t\t  // seen text (can be empty), which is stored in prevInput (we must\n\t\t  // not reset the textarea when typing, because that breaks IME).\n\t\t  TextareaInput.prototype.poll = function () {\n\t\t      var this$1$1 = this;\n\n\t\t    var cm = this.cm, input = this.textarea, prevInput = this.prevInput;\n\t\t    // Since this is called a *lot*, try to bail out as cheaply as\n\t\t    // possible when it is clear that nothing happened. hasSelection\n\t\t    // will be the case when there is a lot of text in the textarea,\n\t\t    // in which case reading its value would be expensive.\n\t\t    if (this.contextMenuPending || this.resetting || !cm.state.focused ||\n\t\t        (hasSelection(input) && !prevInput && !this.composing) ||\n\t\t        cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq)\n\t\t      { return false }\n\n\t\t    var text = input.value;\n\t\t    // If nothing changed, bail.\n\t\t    if (text == prevInput && !cm.somethingSelected()) { return false }\n\t\t    // Work around nonsensical selection resetting in IE9/10, and\n\t\t    // inexplicable appearance of private area unicode characters on\n\t\t    // some key combos in Mac (#2689).\n\t\t    if (ie && ie_version >= 9 && this.hasSelection === text ||\n\t\t        mac && /[\\uf700-\\uf7ff]/.test(text)) {\n\t\t      cm.display.input.reset();\n\t\t      return false\n\t\t    }\n\n\t\t    if (cm.doc.sel == cm.display.selForContextMenu) {\n\t\t      var first = text.charCodeAt(0);\n\t\t      if (first == 0x200b && !prevInput) { prevInput = \"\\u200b\"; }\n\t\t      if (first == 0x21da) { this.reset(); return this.cm.execCommand(\"undo\") }\n\t\t    }\n\t\t    // Find the part of the input that is actually new\n\t\t    var same = 0, l = Math.min(prevInput.length, text.length);\n\t\t    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) { ++same; }\n\n\t\t    runInOp(cm, function () {\n\t\t      applyTextInput(cm, text.slice(same), prevInput.length - same,\n\t\t                     null, this$1$1.composing ? \"*compose\" : null);\n\n\t\t      // Don't leave long text in the textarea, since it makes further polling slow\n\t\t      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) { input.value = this$1$1.prevInput = \"\"; }\n\t\t      else { this$1$1.prevInput = text; }\n\n\t\t      if (this$1$1.composing) {\n\t\t        this$1$1.composing.range.clear();\n\t\t        this$1$1.composing.range = cm.markText(this$1$1.composing.start, cm.getCursor(\"to\"),\n\t\t                                           {className: \"CodeMirror-composing\"});\n\t\t      }\n\t\t    });\n\t\t    return true\n\t\t  };\n\n\t\t  TextareaInput.prototype.ensurePolled = function () {\n\t\t    if (this.pollingFast && this.poll()) { this.pollingFast = false; }\n\t\t  };\n\n\t\t  TextareaInput.prototype.onKeyPress = function () {\n\t\t    if (ie && ie_version >= 9) { this.hasSelection = null; }\n\t\t    this.fastPoll();\n\t\t  };\n\n\t\t  TextareaInput.prototype.onContextMenu = function (e) {\n\t\t    var input = this, cm = input.cm, display = cm.display, te = input.textarea;\n\t\t    if (input.contextMenuPending) { input.contextMenuPending(); }\n\t\t    var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;\n\t\t    if (!pos || presto) { return } // Opera is difficult.\n\n\t\t    // Reset the current text selection only if the click is done outside of the selection\n\t\t    // and 'resetSelectionOnContextMenu' option is true.\n\t\t    var reset = cm.options.resetSelectionOnContextMenu;\n\t\t    if (reset && cm.doc.sel.contains(pos) == -1)\n\t\t      { operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll); }\n\n\t\t    var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;\n\t\t    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n\t\t    input.wrapper.style.cssText = \"position: static\";\n\t\t    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n\t\t    var oldScrollY;\n\t\t    if (webkit) { oldScrollY = te.ownerDocument.defaultView.scrollY; } // Work around Chrome issue (#2712)\n\t\t    display.input.focus();\n\t\t    if (webkit) { te.ownerDocument.defaultView.scrollTo(null, oldScrollY); }\n\t\t    display.input.reset();\n\t\t    // Adds \"Select all\" to context menu in FF\n\t\t    if (!cm.somethingSelected()) { te.value = input.prevInput = \" \"; }\n\t\t    input.contextMenuPending = rehide;\n\t\t    display.selForContextMenu = cm.doc.sel;\n\t\t    clearTimeout(display.detectingSelectAll);\n\n\t\t    // Select-all will be greyed out if there's nothing to select, so\n\t\t    // this adds a zero-width space so that we can later check whether\n\t\t    // it got selected.\n\t\t    function prepareSelectAllHack() {\n\t\t      if (te.selectionStart != null) {\n\t\t        var selected = cm.somethingSelected();\n\t\t        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n\t\t        te.value = \"\\u21da\"; // Used to catch context-menu undo\n\t\t        te.value = extval;\n\t\t        input.prevInput = selected ? \"\" : \"\\u200b\";\n\t\t        te.selectionStart = 1; te.selectionEnd = extval.length;\n\t\t        // Re-set this, in case some other handler touched the\n\t\t        // selection in the meantime.\n\t\t        display.selForContextMenu = cm.doc.sel;\n\t\t      }\n\t\t    }\n\t\t    function rehide() {\n\t\t      if (input.contextMenuPending != rehide) { return }\n\t\t      input.contextMenuPending = false;\n\t\t      input.wrapper.style.cssText = oldWrapperCSS;\n\t\t      te.style.cssText = oldCSS;\n\t\t      if (ie && ie_version < 9) { display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos); }\n\n\t\t      // Try to detect the user choosing select-all\n\t\t      if (te.selectionStart != null) {\n\t\t        if (!ie || (ie && ie_version < 9)) { prepareSelectAllHack(); }\n\t\t        var i = 0, poll = function () {\n\t\t          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 &&\n\t\t              te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n\t\t            operation(cm, selectAll)(cm);\n\t\t          } else if (i++ < 10) {\n\t\t            display.detectingSelectAll = setTimeout(poll, 500);\n\t\t          } else {\n\t\t            display.selForContextMenu = null;\n\t\t            display.input.reset();\n\t\t          }\n\t\t        };\n\t\t        display.detectingSelectAll = setTimeout(poll, 200);\n\t\t      }\n\t\t    }\n\n\t\t    if (ie && ie_version >= 9) { prepareSelectAllHack(); }\n\t\t    if (captureRightClick) {\n\t\t      e_stop(e);\n\t\t      var mouseup = function () {\n\t\t        off(window, \"mouseup\", mouseup);\n\t\t        setTimeout(rehide, 20);\n\t\t      };\n\t\t      on(window, \"mouseup\", mouseup);\n\t\t    } else {\n\t\t      setTimeout(rehide, 50);\n\t\t    }\n\t\t  };\n\n\t\t  TextareaInput.prototype.readOnlyChanged = function (val) {\n\t\t    if (!val) { this.reset(); }\n\t\t    this.textarea.disabled = val == \"nocursor\";\n\t\t    this.textarea.readOnly = !!val;\n\t\t  };\n\n\t\t  TextareaInput.prototype.setUneditable = function () {};\n\n\t\t  TextareaInput.prototype.needsContentAttribute = false;\n\n\t\t  function fromTextArea(textarea, options) {\n\t\t    options = options ? copyObj(options) : {};\n\t\t    options.value = textarea.value;\n\t\t    if (!options.tabindex && textarea.tabIndex)\n\t\t      { options.tabindex = textarea.tabIndex; }\n\t\t    if (!options.placeholder && textarea.placeholder)\n\t\t      { options.placeholder = textarea.placeholder; }\n\t\t    // Set autofocus to true if this textarea is focused, or if it has\n\t\t    // autofocus and no other element is focused.\n\t\t    if (options.autofocus == null) {\n\t\t      var hasFocus = activeElt(rootNode(textarea));\n\t\t      options.autofocus = hasFocus == textarea ||\n\t\t        textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n\t\t    }\n\n\t\t    function save() {textarea.value = cm.getValue();}\n\n\t\t    var realSubmit;\n\t\t    if (textarea.form) {\n\t\t      on(textarea.form, \"submit\", save);\n\t\t      // Deplorable hack to make the submit method do the right thing.\n\t\t      if (!options.leaveSubmitMethodAlone) {\n\t\t        var form = textarea.form;\n\t\t        realSubmit = form.submit;\n\t\t        try {\n\t\t          var wrappedSubmit = form.submit = function () {\n\t\t            save();\n\t\t            form.submit = realSubmit;\n\t\t            form.submit();\n\t\t            form.submit = wrappedSubmit;\n\t\t          };\n\t\t        } catch(e) {}\n\t\t      }\n\t\t    }\n\n\t\t    options.finishInit = function (cm) {\n\t\t      cm.save = save;\n\t\t      cm.getTextArea = function () { return textarea; };\n\t\t      cm.toTextArea = function () {\n\t\t        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\t\t        save();\n\t\t        textarea.parentNode.removeChild(cm.getWrapperElement());\n\t\t        textarea.style.display = \"\";\n\t\t        if (textarea.form) {\n\t\t          off(textarea.form, \"submit\", save);\n\t\t          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\")\n\t\t            { textarea.form.submit = realSubmit; }\n\t\t        }\n\t\t      };\n\t\t    };\n\n\t\t    textarea.style.display = \"none\";\n\t\t    var cm = CodeMirror(function (node) { return textarea.parentNode.insertBefore(node, textarea.nextSibling); },\n\t\t      options);\n\t\t    return cm\n\t\t  }\n\n\t\t  function addLegacyProps(CodeMirror) {\n\t\t    CodeMirror.off = off;\n\t\t    CodeMirror.on = on;\n\t\t    CodeMirror.wheelEventPixels = wheelEventPixels;\n\t\t    CodeMirror.Doc = Doc;\n\t\t    CodeMirror.splitLines = splitLinesAuto;\n\t\t    CodeMirror.countColumn = countColumn;\n\t\t    CodeMirror.findColumn = findColumn;\n\t\t    CodeMirror.isWordChar = isWordCharBasic;\n\t\t    CodeMirror.Pass = Pass;\n\t\t    CodeMirror.signal = signal;\n\t\t    CodeMirror.Line = Line;\n\t\t    CodeMirror.changeEnd = changeEnd;\n\t\t    CodeMirror.scrollbarModel = scrollbarModel;\n\t\t    CodeMirror.Pos = Pos;\n\t\t    CodeMirror.cmpPos = cmp;\n\t\t    CodeMirror.modes = modes;\n\t\t    CodeMirror.mimeModes = mimeModes;\n\t\t    CodeMirror.resolveMode = resolveMode;\n\t\t    CodeMirror.getMode = getMode;\n\t\t    CodeMirror.modeExtensions = modeExtensions;\n\t\t    CodeMirror.extendMode = extendMode;\n\t\t    CodeMirror.copyState = copyState;\n\t\t    CodeMirror.startState = startState;\n\t\t    CodeMirror.innerMode = innerMode;\n\t\t    CodeMirror.commands = commands;\n\t\t    CodeMirror.keyMap = keyMap;\n\t\t    CodeMirror.keyName = keyName;\n\t\t    CodeMirror.isModifierKey = isModifierKey;\n\t\t    CodeMirror.lookupKey = lookupKey;\n\t\t    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n\t\t    CodeMirror.StringStream = StringStream;\n\t\t    CodeMirror.SharedTextMarker = SharedTextMarker;\n\t\t    CodeMirror.TextMarker = TextMarker;\n\t\t    CodeMirror.LineWidget = LineWidget;\n\t\t    CodeMirror.e_preventDefault = e_preventDefault;\n\t\t    CodeMirror.e_stopPropagation = e_stopPropagation;\n\t\t    CodeMirror.e_stop = e_stop;\n\t\t    CodeMirror.addClass = addClass;\n\t\t    CodeMirror.contains = contains;\n\t\t    CodeMirror.rmClass = rmClass;\n\t\t    CodeMirror.keyNames = keyNames;\n\t\t  }\n\n\t\t  // EDITOR CONSTRUCTOR\n\n\t\t  defineOptions(CodeMirror);\n\n\t\t  addEditorMethods(CodeMirror);\n\n\t\t  // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\t\t  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\t\t  for (var prop in Doc.prototype) { if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0)\n\t\t    { CodeMirror.prototype[prop] = (function(method) {\n\t\t      return function() {return method.apply(this.doc, arguments)}\n\t\t    })(Doc.prototype[prop]); } }\n\n\t\t  eventMixin(Doc);\n\t\t  CodeMirror.inputStyles = {\"textarea\": TextareaInput, \"contenteditable\": ContentEditableInput};\n\n\t\t  // Extra arguments are stored as the mode's dependencies, which is\n\t\t  // used by (legacy) mechanisms like loadmode.js to automatically\n\t\t  // load a mode. (Preferred mechanism is the require/define calls.)\n\t\t  CodeMirror.defineMode = function(name/*, mode, */) {\n\t\t    if (!CodeMirror.defaults.mode && name != \"null\") { CodeMirror.defaults.mode = name; }\n\t\t    defineMode.apply(this, arguments);\n\t\t  };\n\n\t\t  CodeMirror.defineMIME = defineMIME;\n\n\t\t  // Minimal default mode.\n\t\t  CodeMirror.defineMode(\"null\", function () { return ({token: function (stream) { return stream.skipToEnd(); }}); });\n\t\t  CodeMirror.defineMIME(\"text/plain\", \"null\");\n\n\t\t  // EXTENSIONS\n\n\t\t  CodeMirror.defineExtension = function (name, func) {\n\t\t    CodeMirror.prototype[name] = func;\n\t\t  };\n\t\t  CodeMirror.defineDocExtension = function (name, func) {\n\t\t    Doc.prototype[name] = func;\n\t\t  };\n\n\t\t  CodeMirror.fromTextArea = fromTextArea;\n\n\t\t  addLegacyProps(CodeMirror);\n\n\t\t  CodeMirror.version = \"5.65.18\";\n\n\t\t  return CodeMirror;\n\n\t\t}))); \n\t} (codemirror$1));\n\treturn codemirror$1.exports;\n}\n\nvar codemirrorExports = requireCodemirror();\nvar CodeMirror = /*@__PURE__*/getDefaultExportFromCjs(codemirrorExports);\n\nvar javascript = {exports: {}};\n\nvar hasRequiredJavascript;\n\nfunction requireJavascript () {\n\tif (hasRequiredJavascript) return javascript.exports;\n\thasRequiredJavascript = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror());\n\t\t})(function(CodeMirror) {\n\n\t\tCodeMirror.defineMode(\"javascript\", function(config, parserConfig) {\n\t\t  var indentUnit = config.indentUnit;\n\t\t  var statementIndent = parserConfig.statementIndent;\n\t\t  var jsonldMode = parserConfig.jsonld;\n\t\t  var jsonMode = parserConfig.json || jsonldMode;\n\t\t  var trackScope = parserConfig.trackScope !== false;\n\t\t  var isTS = parserConfig.typescript;\n\t\t  var wordRE = parserConfig.wordCharacters || /[\\w$\\xa1-\\uffff]/;\n\n\t\t  // Tokenizer\n\n\t\t  var keywords = function(){\n\t\t    function kw(type) {return {type: type, style: \"keyword\"};}\n\t\t    var A = kw(\"keyword a\"), B = kw(\"keyword b\"), C = kw(\"keyword c\"), D = kw(\"keyword d\");\n\t\t    var operator = kw(\"operator\"), atom = {type: \"atom\", style: \"atom\"};\n\n\t\t    return {\n\t\t      \"if\": kw(\"if\"), \"while\": A, \"with\": A, \"else\": B, \"do\": B, \"try\": B, \"finally\": B,\n\t\t      \"return\": D, \"break\": D, \"continue\": D, \"new\": kw(\"new\"), \"delete\": C, \"void\": C, \"throw\": C,\n\t\t      \"debugger\": kw(\"debugger\"), \"var\": kw(\"var\"), \"const\": kw(\"var\"), \"let\": kw(\"var\"),\n\t\t      \"function\": kw(\"function\"), \"catch\": kw(\"catch\"),\n\t\t      \"for\": kw(\"for\"), \"switch\": kw(\"switch\"), \"case\": kw(\"case\"), \"default\": kw(\"default\"),\n\t\t      \"in\": operator, \"typeof\": operator, \"instanceof\": operator,\n\t\t      \"true\": atom, \"false\": atom, \"null\": atom, \"undefined\": atom, \"NaN\": atom, \"Infinity\": atom,\n\t\t      \"this\": kw(\"this\"), \"class\": kw(\"class\"), \"super\": kw(\"atom\"),\n\t\t      \"yield\": C, \"export\": kw(\"export\"), \"import\": kw(\"import\"), \"extends\": C,\n\t\t      \"await\": C\n\t\t    };\n\t\t  }();\n\n\t\t  var isOperatorChar = /[+\\-*&%=<>!?|~^@]/;\n\t\t  var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)\"/;\n\n\t\t  function readRegexp(stream) {\n\t\t    var escaped = false, next, inSet = false;\n\t\t    while ((next = stream.next()) != null) {\n\t\t      if (!escaped) {\n\t\t        if (next == \"/\" && !inSet) return;\n\t\t        if (next == \"[\") inSet = true;\n\t\t        else if (inSet && next == \"]\") inSet = false;\n\t\t      }\n\t\t      escaped = !escaped && next == \"\\\\\";\n\t\t    }\n\t\t  }\n\n\t\t  // Used as scratch variables to communicate multiple values without\n\t\t  // consing up tons of objects.\n\t\t  var type, content;\n\t\t  function ret(tp, style, cont) {\n\t\t    type = tp; content = cont;\n\t\t    return style;\n\t\t  }\n\t\t  function tokenBase(stream, state) {\n\t\t    var ch = stream.next();\n\t\t    if (ch == '\"' || ch == \"'\") {\n\t\t      state.tokenize = tokenString(ch);\n\t\t      return state.tokenize(stream, state);\n\t\t    } else if (ch == \".\" && stream.match(/^\\d[\\d_]*(?:[eE][+\\-]?[\\d_]+)?/)) {\n\t\t      return ret(\"number\", \"number\");\n\t\t    } else if (ch == \".\" && stream.match(\"..\")) {\n\t\t      return ret(\"spread\", \"meta\");\n\t\t    } else if (/[\\[\\]{}\\(\\),;\\:\\.]/.test(ch)) {\n\t\t      return ret(ch);\n\t\t    } else if (ch == \"=\" && stream.eat(\">\")) {\n\t\t      return ret(\"=>\", \"operator\");\n\t\t    } else if (ch == \"0\" && stream.match(/^(?:x[\\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {\n\t\t      return ret(\"number\", \"number\");\n\t\t    } else if (/\\d/.test(ch)) {\n\t\t      stream.match(/^[\\d_]*(?:n|(?:\\.[\\d_]*)?(?:[eE][+\\-]?[\\d_]+)?)?/);\n\t\t      return ret(\"number\", \"number\");\n\t\t    } else if (ch == \"/\") {\n\t\t      if (stream.eat(\"*\")) {\n\t\t        state.tokenize = tokenComment;\n\t\t        return tokenComment(stream, state);\n\t\t      } else if (stream.eat(\"/\")) {\n\t\t        stream.skipToEnd();\n\t\t        return ret(\"comment\", \"comment\");\n\t\t      } else if (expressionAllowed(stream, state, 1)) {\n\t\t        readRegexp(stream);\n\t\t        stream.match(/^\\b(([gimyus])(?![gimyus]*\\2))+\\b/);\n\t\t        return ret(\"regexp\", \"string-2\");\n\t\t      } else {\n\t\t        stream.eat(\"=\");\n\t\t        return ret(\"operator\", \"operator\", stream.current());\n\t\t      }\n\t\t    } else if (ch == \"`\") {\n\t\t      state.tokenize = tokenQuasi;\n\t\t      return tokenQuasi(stream, state);\n\t\t    } else if (ch == \"#\" && stream.peek() == \"!\") {\n\t\t      stream.skipToEnd();\n\t\t      return ret(\"meta\", \"meta\");\n\t\t    } else if (ch == \"#\" && stream.eatWhile(wordRE)) {\n\t\t      return ret(\"variable\", \"property\")\n\t\t    } else if (ch == \"<\" && stream.match(\"!--\") ||\n\t\t               (ch == \"-\" && stream.match(\"->\") && !/\\S/.test(stream.string.slice(0, stream.start)))) {\n\t\t      stream.skipToEnd();\n\t\t      return ret(\"comment\", \"comment\")\n\t\t    } else if (isOperatorChar.test(ch)) {\n\t\t      if (ch != \">\" || !state.lexical || state.lexical.type != \">\") {\n\t\t        if (stream.eat(\"=\")) {\n\t\t          if (ch == \"!\" || ch == \"=\") stream.eat(\"=\");\n\t\t        } else if (/[<>*+\\-|&?]/.test(ch)) {\n\t\t          stream.eat(ch);\n\t\t          if (ch == \">\") stream.eat(ch);\n\t\t        }\n\t\t      }\n\t\t      if (ch == \"?\" && stream.eat(\".\")) return ret(\".\")\n\t\t      return ret(\"operator\", \"operator\", stream.current());\n\t\t    } else if (wordRE.test(ch)) {\n\t\t      stream.eatWhile(wordRE);\n\t\t      var word = stream.current();\n\t\t      if (state.lastType != \".\") {\n\t\t        if (keywords.propertyIsEnumerable(word)) {\n\t\t          var kw = keywords[word];\n\t\t          return ret(kw.type, kw.style, word)\n\t\t        }\n\t\t        if (word == \"async\" && stream.match(/^(\\s|\\/\\*([^*]|\\*(?!\\/))*?\\*\\/)*[\\[\\(\\w]/, false))\n\t\t          return ret(\"async\", \"keyword\", word)\n\t\t      }\n\t\t      return ret(\"variable\", \"variable\", word)\n\t\t    }\n\t\t  }\n\n\t\t  function tokenString(quote) {\n\t\t    return function(stream, state) {\n\t\t      var escaped = false, next;\n\t\t      if (jsonldMode && stream.peek() == \"@\" && stream.match(isJsonldKeyword)){\n\t\t        state.tokenize = tokenBase;\n\t\t        return ret(\"jsonld-keyword\", \"meta\");\n\t\t      }\n\t\t      while ((next = stream.next()) != null) {\n\t\t        if (next == quote && !escaped) break;\n\t\t        escaped = !escaped && next == \"\\\\\";\n\t\t      }\n\t\t      if (!escaped) state.tokenize = tokenBase;\n\t\t      return ret(\"string\", \"string\");\n\t\t    };\n\t\t  }\n\n\t\t  function tokenComment(stream, state) {\n\t\t    var maybeEnd = false, ch;\n\t\t    while (ch = stream.next()) {\n\t\t      if (ch == \"/\" && maybeEnd) {\n\t\t        state.tokenize = tokenBase;\n\t\t        break;\n\t\t      }\n\t\t      maybeEnd = (ch == \"*\");\n\t\t    }\n\t\t    return ret(\"comment\", \"comment\");\n\t\t  }\n\n\t\t  function tokenQuasi(stream, state) {\n\t\t    var escaped = false, next;\n\t\t    while ((next = stream.next()) != null) {\n\t\t      if (!escaped && (next == \"`\" || next == \"$\" && stream.eat(\"{\"))) {\n\t\t        state.tokenize = tokenBase;\n\t\t        break;\n\t\t      }\n\t\t      escaped = !escaped && next == \"\\\\\";\n\t\t    }\n\t\t    return ret(\"quasi\", \"string-2\", stream.current());\n\t\t  }\n\n\t\t  var brackets = \"([{}])\";\n\t\t  // This is a crude lookahead trick to try and notice that we're\n\t\t  // parsing the argument patterns for a fat-arrow function before we\n\t\t  // actually hit the arrow token. It only works if the arrow is on\n\t\t  // the same line as the arguments and there's no strange noise\n\t\t  // (comments) in between. Fallback is to only notice when we hit the\n\t\t  // arrow, and not declare the arguments as locals for the arrow\n\t\t  // body.\n\t\t  function findFatArrow(stream, state) {\n\t\t    if (state.fatArrowAt) state.fatArrowAt = null;\n\t\t    var arrow = stream.string.indexOf(\"=>\", stream.start);\n\t\t    if (arrow < 0) return;\n\n\t\t    if (isTS) { // Try to skip TypeScript return type declarations after the arguments\n\t\t      var m = /:\\s*(?:\\w+(?:<[^>]*>|\\[\\])?|\\{[^}]*\\})\\s*$/.exec(stream.string.slice(stream.start, arrow));\n\t\t      if (m) arrow = m.index;\n\t\t    }\n\n\t\t    var depth = 0, sawSomething = false;\n\t\t    for (var pos = arrow - 1; pos >= 0; --pos) {\n\t\t      var ch = stream.string.charAt(pos);\n\t\t      var bracket = brackets.indexOf(ch);\n\t\t      if (bracket >= 0 && bracket < 3) {\n\t\t        if (!depth) { ++pos; break; }\n\t\t        if (--depth == 0) { if (ch == \"(\") sawSomething = true; break; }\n\t\t      } else if (bracket >= 3 && bracket < 6) {\n\t\t        ++depth;\n\t\t      } else if (wordRE.test(ch)) {\n\t\t        sawSomething = true;\n\t\t      } else if (/[\"'\\/`]/.test(ch)) {\n\t\t        for (;; --pos) {\n\t\t          if (pos == 0) return\n\t\t          var next = stream.string.charAt(pos - 1);\n\t\t          if (next == ch && stream.string.charAt(pos - 2) != \"\\\\\") { pos--; break }\n\t\t        }\n\t\t      } else if (sawSomething && !depth) {\n\t\t        ++pos;\n\t\t        break;\n\t\t      }\n\t\t    }\n\t\t    if (sawSomething && !depth) state.fatArrowAt = pos;\n\t\t  }\n\n\t\t  // Parser\n\n\t\t  var atomicTypes = {\"atom\": true, \"number\": true, \"variable\": true, \"string\": true,\n\t\t                     \"regexp\": true, \"this\": true, \"import\": true, \"jsonld-keyword\": true};\n\n\t\t  function JSLexical(indented, column, type, align, prev, info) {\n\t\t    this.indented = indented;\n\t\t    this.column = column;\n\t\t    this.type = type;\n\t\t    this.prev = prev;\n\t\t    this.info = info;\n\t\t    if (align != null) this.align = align;\n\t\t  }\n\n\t\t  function inScope(state, varname) {\n\t\t    if (!trackScope) return false\n\t\t    for (var v = state.localVars; v; v = v.next)\n\t\t      if (v.name == varname) return true;\n\t\t    for (var cx = state.context; cx; cx = cx.prev) {\n\t\t      for (var v = cx.vars; v; v = v.next)\n\t\t        if (v.name == varname) return true;\n\t\t    }\n\t\t  }\n\n\t\t  function parseJS(state, style, type, content, stream) {\n\t\t    var cc = state.cc;\n\t\t    // Communicate our context to the combinators.\n\t\t    // (Less wasteful than consing up a hundred closures on every call.)\n\t\t    cx.state = state; cx.stream = stream; cx.marked = null, cx.cc = cc; cx.style = style;\n\n\t\t    if (!state.lexical.hasOwnProperty(\"align\"))\n\t\t      state.lexical.align = true;\n\n\t\t    while(true) {\n\t\t      var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;\n\t\t      if (combinator(type, content)) {\n\t\t        while(cc.length && cc[cc.length - 1].lex)\n\t\t          cc.pop()();\n\t\t        if (cx.marked) return cx.marked;\n\t\t        if (type == \"variable\" && inScope(state, content)) return \"variable-2\";\n\t\t        return style;\n\t\t      }\n\t\t    }\n\t\t  }\n\n\t\t  // Combinator utils\n\n\t\t  var cx = {state: null, marked: null, cc: null};\n\t\t  function pass() {\n\t\t    for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);\n\t\t  }\n\t\t  function cont() {\n\t\t    pass.apply(null, arguments);\n\t\t    return true;\n\t\t  }\n\t\t  function inList(name, list) {\n\t\t    for (var v = list; v; v = v.next) if (v.name == name) return true\n\t\t    return false;\n\t\t  }\n\t\t  function register(varname) {\n\t\t    var state = cx.state;\n\t\t    cx.marked = \"def\";\n\t\t    if (!trackScope) return\n\t\t    if (state.context) {\n\t\t      if (state.lexical.info == \"var\" && state.context && state.context.block) {\n\t\t        // FIXME function decls are also not block scoped\n\t\t        var newContext = registerVarScoped(varname, state.context);\n\t\t        if (newContext != null) {\n\t\t          state.context = newContext;\n\t\t          return\n\t\t        }\n\t\t      } else if (!inList(varname, state.localVars)) {\n\t\t        state.localVars = new Var(varname, state.localVars);\n\t\t        return\n\t\t      }\n\t\t    }\n\t\t    // Fall through means this is global\n\t\t    if (parserConfig.globalVars && !inList(varname, state.globalVars))\n\t\t      state.globalVars = new Var(varname, state.globalVars);\n\t\t  }\n\t\t  function registerVarScoped(varname, context) {\n\t\t    if (!context) {\n\t\t      return null\n\t\t    } else if (context.block) {\n\t\t      var inner = registerVarScoped(varname, context.prev);\n\t\t      if (!inner) return null\n\t\t      if (inner == context.prev) return context\n\t\t      return new Context(inner, context.vars, true)\n\t\t    } else if (inList(varname, context.vars)) {\n\t\t      return context\n\t\t    } else {\n\t\t      return new Context(context.prev, new Var(varname, context.vars), false)\n\t\t    }\n\t\t  }\n\n\t\t  function isModifier(name) {\n\t\t    return name == \"public\" || name == \"private\" || name == \"protected\" || name == \"abstract\" || name == \"readonly\"\n\t\t  }\n\n\t\t  // Combinators\n\n\t\t  function Context(prev, vars, block) { this.prev = prev; this.vars = vars; this.block = block; }\n\t\t  function Var(name, next) { this.name = name; this.next = next; }\n\n\t\t  var defaultVars = new Var(\"this\", new Var(\"arguments\", null));\n\t\t  function pushcontext() {\n\t\t    cx.state.context = new Context(cx.state.context, cx.state.localVars, false);\n\t\t    cx.state.localVars = defaultVars;\n\t\t  }\n\t\t  function pushblockcontext() {\n\t\t    cx.state.context = new Context(cx.state.context, cx.state.localVars, true);\n\t\t    cx.state.localVars = null;\n\t\t  }\n\t\t  pushcontext.lex = pushblockcontext.lex = true;\n\t\t  function popcontext() {\n\t\t    cx.state.localVars = cx.state.context.vars;\n\t\t    cx.state.context = cx.state.context.prev;\n\t\t  }\n\t\t  popcontext.lex = true;\n\t\t  function pushlex(type, info) {\n\t\t    var result = function() {\n\t\t      var state = cx.state, indent = state.indented;\n\t\t      if (state.lexical.type == \"stat\") indent = state.lexical.indented;\n\t\t      else for (var outer = state.lexical; outer && outer.type == \")\" && outer.align; outer = outer.prev)\n\t\t        indent = outer.indented;\n\t\t      state.lexical = new JSLexical(indent, cx.stream.column(), type, null, state.lexical, info);\n\t\t    };\n\t\t    result.lex = true;\n\t\t    return result;\n\t\t  }\n\t\t  function poplex() {\n\t\t    var state = cx.state;\n\t\t    if (state.lexical.prev) {\n\t\t      if (state.lexical.type == \")\")\n\t\t        state.indented = state.lexical.indented;\n\t\t      state.lexical = state.lexical.prev;\n\t\t    }\n\t\t  }\n\t\t  poplex.lex = true;\n\n\t\t  function expect(wanted) {\n\t\t    function exp(type) {\n\t\t      if (type == wanted) return cont();\n\t\t      else if (wanted == \";\" || type == \"}\" || type == \")\" || type == \"]\") return pass();\n\t\t      else return cont(exp);\n\t\t    }\t\t    return exp;\n\t\t  }\n\n\t\t  function statement(type, value) {\n\t\t    if (type == \"var\") return cont(pushlex(\"vardef\", value), vardef, expect(\";\"), poplex);\n\t\t    if (type == \"keyword a\") return cont(pushlex(\"form\"), parenExpr, statement, poplex);\n\t\t    if (type == \"keyword b\") return cont(pushlex(\"form\"), statement, poplex);\n\t\t    if (type == \"keyword d\") return cx.stream.match(/^\\s*$/, false) ? cont() : cont(pushlex(\"stat\"), maybeexpression, expect(\";\"), poplex);\n\t\t    if (type == \"debugger\") return cont(expect(\";\"));\n\t\t    if (type == \"{\") return cont(pushlex(\"}\"), pushblockcontext, block, poplex, popcontext);\n\t\t    if (type == \";\") return cont();\n\t\t    if (type == \"if\") {\n\t\t      if (cx.state.lexical.info == \"else\" && cx.state.cc[cx.state.cc.length - 1] == poplex)\n\t\t        cx.state.cc.pop()();\n\t\t      return cont(pushlex(\"form\"), parenExpr, statement, poplex, maybeelse);\n\t\t    }\n\t\t    if (type == \"function\") return cont(functiondef);\n\t\t    if (type == \"for\") return cont(pushlex(\"form\"), pushblockcontext, forspec, statement, popcontext, poplex);\n\t\t    if (type == \"class\" || (isTS && value == \"interface\")) {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(pushlex(\"form\", type == \"class\" ? type : value), className, poplex)\n\t\t    }\n\t\t    if (type == \"variable\") {\n\t\t      if (isTS && value == \"declare\") {\n\t\t        cx.marked = \"keyword\";\n\t\t        return cont(statement)\n\t\t      } else if (isTS && (value == \"module\" || value == \"enum\" || value == \"type\") && cx.stream.match(/^\\s*\\w/, false)) {\n\t\t        cx.marked = \"keyword\";\n\t\t        if (value == \"enum\") return cont(enumdef);\n\t\t        else if (value == \"type\") return cont(typename, expect(\"operator\"), typeexpr, expect(\";\"));\n\t\t        else return cont(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), block, poplex, poplex)\n\t\t      } else if (isTS && value == \"namespace\") {\n\t\t        cx.marked = \"keyword\";\n\t\t        return cont(pushlex(\"form\"), expression, statement, poplex)\n\t\t      } else if (isTS && value == \"abstract\") {\n\t\t        cx.marked = \"keyword\";\n\t\t        return cont(statement)\n\t\t      } else {\n\t\t        return cont(pushlex(\"stat\"), maybelabel);\n\t\t      }\n\t\t    }\n\t\t    if (type == \"switch\") return cont(pushlex(\"form\"), parenExpr, expect(\"{\"), pushlex(\"}\", \"switch\"), pushblockcontext,\n\t\t                                      block, poplex, poplex, popcontext);\n\t\t    if (type == \"case\") return cont(expression, expect(\":\"));\n\t\t    if (type == \"default\") return cont(expect(\":\"));\n\t\t    if (type == \"catch\") return cont(pushlex(\"form\"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);\n\t\t    if (type == \"export\") return cont(pushlex(\"stat\"), afterExport, poplex);\n\t\t    if (type == \"import\") return cont(pushlex(\"stat\"), afterImport, poplex);\n\t\t    if (type == \"async\") return cont(statement)\n\t\t    if (value == \"@\") return cont(expression, statement)\n\t\t    return pass(pushlex(\"stat\"), expression, expect(\";\"), poplex);\n\t\t  }\n\t\t  function maybeCatchBinding(type) {\n\t\t    if (type == \"(\") return cont(funarg, expect(\")\"))\n\t\t  }\n\t\t  function expression(type, value) {\n\t\t    return expressionInner(type, value, false);\n\t\t  }\n\t\t  function expressionNoComma(type, value) {\n\t\t    return expressionInner(type, value, true);\n\t\t  }\n\t\t  function parenExpr(type) {\n\t\t    if (type != \"(\") return pass()\n\t\t    return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex)\n\t\t  }\n\t\t  function expressionInner(type, value, noComma) {\n\t\t    if (cx.state.fatArrowAt == cx.stream.start) {\n\t\t      var body = noComma ? arrowBodyNoComma : arrowBody;\n\t\t      if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, expect(\"=>\"), body, popcontext);\n\t\t      else if (type == \"variable\") return pass(pushcontext, pattern, expect(\"=>\"), body, popcontext);\n\t\t    }\n\n\t\t    var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;\n\t\t    if (atomicTypes.hasOwnProperty(type)) return cont(maybeop);\n\t\t    if (type == \"function\") return cont(functiondef, maybeop);\n\t\t    if (type == \"class\" || (isTS && value == \"interface\")) { cx.marked = \"keyword\"; return cont(pushlex(\"form\"), classExpression, poplex); }\n\t\t    if (type == \"keyword c\" || type == \"async\") return cont(noComma ? expressionNoComma : expression);\n\t\t    if (type == \"(\") return cont(pushlex(\")\"), maybeexpression, expect(\")\"), poplex, maybeop);\n\t\t    if (type == \"operator\" || type == \"spread\") return cont(noComma ? expressionNoComma : expression);\n\t\t    if (type == \"[\") return cont(pushlex(\"]\"), arrayLiteral, poplex, maybeop);\n\t\t    if (type == \"{\") return contCommasep(objprop, \"}\", null, maybeop);\n\t\t    if (type == \"quasi\") return pass(quasi, maybeop);\n\t\t    if (type == \"new\") return cont(maybeTarget(noComma));\n\t\t    return cont();\n\t\t  }\n\t\t  function maybeexpression(type) {\n\t\t    if (type.match(/[;\\}\\)\\],]/)) return pass();\n\t\t    return pass(expression);\n\t\t  }\n\n\t\t  function maybeoperatorComma(type, value) {\n\t\t    if (type == \",\") return cont(maybeexpression);\n\t\t    return maybeoperatorNoComma(type, value, false);\n\t\t  }\n\t\t  function maybeoperatorNoComma(type, value, noComma) {\n\t\t    var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;\n\t\t    var expr = noComma == false ? expression : expressionNoComma;\n\t\t    if (type == \"=>\") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);\n\t\t    if (type == \"operator\") {\n\t\t      if (/\\+\\+|--/.test(value) || isTS && value == \"!\") return cont(me);\n\t\t      if (isTS && value == \"<\" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\\s*\\(/, false))\n\t\t        return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, me);\n\t\t      if (value == \"?\") return cont(expression, expect(\":\"), expr);\n\t\t      return cont(expr);\n\t\t    }\n\t\t    if (type == \"quasi\") { return pass(quasi, me); }\n\t\t    if (type == \";\") return;\n\t\t    if (type == \"(\") return contCommasep(expressionNoComma, \")\", \"call\", me);\n\t\t    if (type == \".\") return cont(property, me);\n\t\t    if (type == \"[\") return cont(pushlex(\"]\"), maybeexpression, expect(\"]\"), poplex, me);\n\t\t    if (isTS && value == \"as\") { cx.marked = \"keyword\"; return cont(typeexpr, me) }\n\t\t    if (type == \"regexp\") {\n\t\t      cx.state.lastType = cx.marked = \"operator\";\n\t\t      cx.stream.backUp(cx.stream.pos - cx.stream.start - 1);\n\t\t      return cont(expr)\n\t\t    }\n\t\t  }\n\t\t  function quasi(type, value) {\n\t\t    if (type != \"quasi\") return pass();\n\t\t    if (value.slice(value.length - 2) != \"${\") return cont(quasi);\n\t\t    return cont(maybeexpression, continueQuasi);\n\t\t  }\n\t\t  function continueQuasi(type) {\n\t\t    if (type == \"}\") {\n\t\t      cx.marked = \"string-2\";\n\t\t      cx.state.tokenize = tokenQuasi;\n\t\t      return cont(quasi);\n\t\t    }\n\t\t  }\n\t\t  function arrowBody(type) {\n\t\t    findFatArrow(cx.stream, cx.state);\n\t\t    return pass(type == \"{\" ? statement : expression);\n\t\t  }\n\t\t  function arrowBodyNoComma(type) {\n\t\t    findFatArrow(cx.stream, cx.state);\n\t\t    return pass(type == \"{\" ? statement : expressionNoComma);\n\t\t  }\n\t\t  function maybeTarget(noComma) {\n\t\t    return function(type) {\n\t\t      if (type == \".\") return cont(noComma ? targetNoComma : target);\n\t\t      else if (type == \"variable\" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma)\n\t\t      else return pass(noComma ? expressionNoComma : expression);\n\t\t    };\n\t\t  }\n\t\t  function target(_, value) {\n\t\t    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorComma); }\n\t\t  }\n\t\t  function targetNoComma(_, value) {\n\t\t    if (value == \"target\") { cx.marked = \"keyword\"; return cont(maybeoperatorNoComma); }\n\t\t  }\n\t\t  function maybelabel(type) {\n\t\t    if (type == \":\") return cont(poplex, statement);\n\t\t    return pass(maybeoperatorComma, expect(\";\"), poplex);\n\t\t  }\n\t\t  function property(type) {\n\t\t    if (type == \"variable\") {cx.marked = \"property\"; return cont();}\n\t\t  }\n\t\t  function objprop(type, value) {\n\t\t    if (type == \"async\") {\n\t\t      cx.marked = \"property\";\n\t\t      return cont(objprop);\n\t\t    } else if (type == \"variable\" || cx.style == \"keyword\") {\n\t\t      cx.marked = \"property\";\n\t\t      if (value == \"get\" || value == \"set\") return cont(getterSetter);\n\t\t      var m; // Work around fat-arrow-detection complication for detecting typescript typed arrow params\n\t\t      if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\\s*:\\s*/, false)))\n\t\t        cx.state.fatArrowAt = cx.stream.pos + m[0].length;\n\t\t      return cont(afterprop);\n\t\t    } else if (type == \"number\" || type == \"string\") {\n\t\t      cx.marked = jsonldMode ? \"property\" : (cx.style + \" property\");\n\t\t      return cont(afterprop);\n\t\t    } else if (type == \"jsonld-keyword\") {\n\t\t      return cont(afterprop);\n\t\t    } else if (isTS && isModifier(value)) {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(objprop)\n\t\t    } else if (type == \"[\") {\n\t\t      return cont(expression, maybetype, expect(\"]\"), afterprop);\n\t\t    } else if (type == \"spread\") {\n\t\t      return cont(expressionNoComma, afterprop);\n\t\t    } else if (value == \"*\") {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(objprop);\n\t\t    } else if (type == \":\") {\n\t\t      return pass(afterprop)\n\t\t    }\n\t\t  }\n\t\t  function getterSetter(type) {\n\t\t    if (type != \"variable\") return pass(afterprop);\n\t\t    cx.marked = \"property\";\n\t\t    return cont(functiondef);\n\t\t  }\n\t\t  function afterprop(type) {\n\t\t    if (type == \":\") return cont(expressionNoComma);\n\t\t    if (type == \"(\") return pass(functiondef);\n\t\t  }\n\t\t  function commasep(what, end, sep) {\n\t\t    function proceed(type, value) {\n\t\t      if (sep ? sep.indexOf(type) > -1 : type == \",\") {\n\t\t        var lex = cx.state.lexical;\n\t\t        if (lex.info == \"call\") lex.pos = (lex.pos || 0) + 1;\n\t\t        return cont(function(type, value) {\n\t\t          if (type == end || value == end) return pass()\n\t\t          return pass(what)\n\t\t        }, proceed);\n\t\t      }\n\t\t      if (type == end || value == end) return cont();\n\t\t      if (sep && sep.indexOf(\";\") > -1) return pass(what)\n\t\t      return cont(expect(end));\n\t\t    }\n\t\t    return function(type, value) {\n\t\t      if (type == end || value == end) return cont();\n\t\t      return pass(what, proceed);\n\t\t    };\n\t\t  }\n\t\t  function contCommasep(what, end, info) {\n\t\t    for (var i = 3; i < arguments.length; i++)\n\t\t      cx.cc.push(arguments[i]);\n\t\t    return cont(pushlex(end, info), commasep(what, end), poplex);\n\t\t  }\n\t\t  function block(type) {\n\t\t    if (type == \"}\") return cont();\n\t\t    return pass(statement, block);\n\t\t  }\n\t\t  function maybetype(type, value) {\n\t\t    if (isTS) {\n\t\t      if (type == \":\") return cont(typeexpr);\n\t\t      if (value == \"?\") return cont(maybetype);\n\t\t    }\n\t\t  }\n\t\t  function maybetypeOrIn(type, value) {\n\t\t    if (isTS && (type == \":\" || value == \"in\")) return cont(typeexpr)\n\t\t  }\n\t\t  function mayberettype(type) {\n\t\t    if (isTS && type == \":\") {\n\t\t      if (cx.stream.match(/^\\s*\\w+\\s+is\\b/, false)) return cont(expression, isKW, typeexpr)\n\t\t      else return cont(typeexpr)\n\t\t    }\n\t\t  }\n\t\t  function isKW(_, value) {\n\t\t    if (value == \"is\") {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont()\n\t\t    }\n\t\t  }\n\t\t  function typeexpr(type, value) {\n\t\t    if (value == \"keyof\" || value == \"typeof\" || value == \"infer\" || value == \"readonly\") {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(value == \"typeof\" ? expressionNoComma : typeexpr)\n\t\t    }\n\t\t    if (type == \"variable\" || value == \"void\") {\n\t\t      cx.marked = \"type\";\n\t\t      return cont(afterType)\n\t\t    }\n\t\t    if (value == \"|\" || value == \"&\") return cont(typeexpr)\n\t\t    if (type == \"string\" || type == \"number\" || type == \"atom\") return cont(afterType);\n\t\t    if (type == \"[\") return cont(pushlex(\"]\"), commasep(typeexpr, \"]\", \",\"), poplex, afterType)\n\t\t    if (type == \"{\") return cont(pushlex(\"}\"), typeprops, poplex, afterType)\n\t\t    if (type == \"(\") return cont(commasep(typearg, \")\"), maybeReturnType, afterType)\n\t\t    if (type == \"<\") return cont(commasep(typeexpr, \">\"), typeexpr)\n\t\t    if (type == \"quasi\") { return pass(quasiType, afterType); }\n\t\t  }\n\t\t  function maybeReturnType(type) {\n\t\t    if (type == \"=>\") return cont(typeexpr)\n\t\t  }\n\t\t  function typeprops(type) {\n\t\t    if (type.match(/[\\}\\)\\]]/)) return cont()\n\t\t    if (type == \",\" || type == \";\") return cont(typeprops)\n\t\t    return pass(typeprop, typeprops)\n\t\t  }\n\t\t  function typeprop(type, value) {\n\t\t    if (type == \"variable\" || cx.style == \"keyword\") {\n\t\t      cx.marked = \"property\";\n\t\t      return cont(typeprop)\n\t\t    } else if (value == \"?\" || type == \"number\" || type == \"string\") {\n\t\t      return cont(typeprop)\n\t\t    } else if (type == \":\") {\n\t\t      return cont(typeexpr)\n\t\t    } else if (type == \"[\") {\n\t\t      return cont(expect(\"variable\"), maybetypeOrIn, expect(\"]\"), typeprop)\n\t\t    } else if (type == \"(\") {\n\t\t      return pass(functiondecl, typeprop)\n\t\t    } else if (!type.match(/[;\\}\\)\\],]/)) {\n\t\t      return cont()\n\t\t    }\n\t\t  }\n\t\t  function quasiType(type, value) {\n\t\t    if (type != \"quasi\") return pass();\n\t\t    if (value.slice(value.length - 2) != \"${\") return cont(quasiType);\n\t\t    return cont(typeexpr, continueQuasiType);\n\t\t  }\n\t\t  function continueQuasiType(type) {\n\t\t    if (type == \"}\") {\n\t\t      cx.marked = \"string-2\";\n\t\t      cx.state.tokenize = tokenQuasi;\n\t\t      return cont(quasiType);\n\t\t    }\n\t\t  }\n\t\t  function typearg(type, value) {\n\t\t    if (type == \"variable\" && cx.stream.match(/^\\s*[?:]/, false) || value == \"?\") return cont(typearg)\n\t\t    if (type == \":\") return cont(typeexpr)\n\t\t    if (type == \"spread\") return cont(typearg)\n\t\t    return pass(typeexpr)\n\t\t  }\n\t\t  function afterType(type, value) {\n\t\t    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n\t\t    if (value == \"|\" || type == \".\" || value == \"&\") return cont(typeexpr)\n\t\t    if (type == \"[\") return cont(typeexpr, expect(\"]\"), afterType)\n\t\t    if (value == \"extends\" || value == \"implements\") { cx.marked = \"keyword\"; return cont(typeexpr) }\n\t\t    if (value == \"?\") return cont(typeexpr, expect(\":\"), typeexpr)\n\t\t  }\n\t\t  function maybeTypeArgs(_, value) {\n\t\t    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeexpr, \">\"), poplex, afterType)\n\t\t  }\n\t\t  function typeparam() {\n\t\t    return pass(typeexpr, maybeTypeDefault)\n\t\t  }\n\t\t  function maybeTypeDefault(_, value) {\n\t\t    if (value == \"=\") return cont(typeexpr)\n\t\t  }\n\t\t  function vardef(_, value) {\n\t\t    if (value == \"enum\") {cx.marked = \"keyword\"; return cont(enumdef)}\n\t\t    return pass(pattern, maybetype, maybeAssign, vardefCont);\n\t\t  }\n\t\t  function pattern(type, value) {\n\t\t    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(pattern) }\n\t\t    if (type == \"variable\") { register(value); return cont(); }\n\t\t    if (type == \"spread\") return cont(pattern);\n\t\t    if (type == \"[\") return contCommasep(eltpattern, \"]\");\n\t\t    if (type == \"{\") return contCommasep(proppattern, \"}\");\n\t\t  }\n\t\t  function proppattern(type, value) {\n\t\t    if (type == \"variable\" && !cx.stream.match(/^\\s*:/, false)) {\n\t\t      register(value);\n\t\t      return cont(maybeAssign);\n\t\t    }\n\t\t    if (type == \"variable\") cx.marked = \"property\";\n\t\t    if (type == \"spread\") return cont(pattern);\n\t\t    if (type == \"}\") return pass();\n\t\t    if (type == \"[\") return cont(expression, expect(']'), expect(':'), proppattern);\n\t\t    return cont(expect(\":\"), pattern, maybeAssign);\n\t\t  }\n\t\t  function eltpattern() {\n\t\t    return pass(pattern, maybeAssign)\n\t\t  }\n\t\t  function maybeAssign(_type, value) {\n\t\t    if (value == \"=\") return cont(expressionNoComma);\n\t\t  }\n\t\t  function vardefCont(type) {\n\t\t    if (type == \",\") return cont(vardef);\n\t\t  }\n\t\t  function maybeelse(type, value) {\n\t\t    if (type == \"keyword b\" && value == \"else\") return cont(pushlex(\"form\", \"else\"), statement, poplex);\n\t\t  }\n\t\t  function forspec(type, value) {\n\t\t    if (value == \"await\") return cont(forspec);\n\t\t    if (type == \"(\") return cont(pushlex(\")\"), forspec1, poplex);\n\t\t  }\n\t\t  function forspec1(type) {\n\t\t    if (type == \"var\") return cont(vardef, forspec2);\n\t\t    if (type == \"variable\") return cont(forspec2);\n\t\t    return pass(forspec2)\n\t\t  }\n\t\t  function forspec2(type, value) {\n\t\t    if (type == \")\") return cont()\n\t\t    if (type == \";\") return cont(forspec2)\n\t\t    if (value == \"in\" || value == \"of\") { cx.marked = \"keyword\"; return cont(expression, forspec2) }\n\t\t    return pass(expression, forspec2)\n\t\t  }\n\t\t  function functiondef(type, value) {\n\t\t    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondef);}\n\t\t    if (type == \"variable\") {register(value); return cont(functiondef);}\n\t\t    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, statement, popcontext);\n\t\t    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondef)\n\t\t  }\n\t\t  function functiondecl(type, value) {\n\t\t    if (value == \"*\") {cx.marked = \"keyword\"; return cont(functiondecl);}\n\t\t    if (type == \"variable\") {register(value); return cont(functiondecl);}\n\t\t    if (type == \"(\") return cont(pushcontext, pushlex(\")\"), commasep(funarg, \")\"), poplex, mayberettype, popcontext);\n\t\t    if (isTS && value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, functiondecl)\n\t\t  }\n\t\t  function typename(type, value) {\n\t\t    if (type == \"keyword\" || type == \"variable\") {\n\t\t      cx.marked = \"type\";\n\t\t      return cont(typename)\n\t\t    } else if (value == \"<\") {\n\t\t      return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex)\n\t\t    }\n\t\t  }\n\t\t  function funarg(type, value) {\n\t\t    if (value == \"@\") cont(expression, funarg);\n\t\t    if (type == \"spread\") return cont(funarg);\n\t\t    if (isTS && isModifier(value)) { cx.marked = \"keyword\"; return cont(funarg); }\n\t\t    if (isTS && type == \"this\") return cont(maybetype, maybeAssign)\n\t\t    return pass(pattern, maybetype, maybeAssign);\n\t\t  }\n\t\t  function classExpression(type, value) {\n\t\t    // Class expressions may have an optional name.\n\t\t    if (type == \"variable\") return className(type, value);\n\t\t    return classNameAfter(type, value);\n\t\t  }\n\t\t  function className(type, value) {\n\t\t    if (type == \"variable\") {register(value); return cont(classNameAfter);}\n\t\t  }\n\t\t  function classNameAfter(type, value) {\n\t\t    if (value == \"<\") return cont(pushlex(\">\"), commasep(typeparam, \">\"), poplex, classNameAfter)\n\t\t    if (value == \"extends\" || value == \"implements\" || (isTS && type == \",\")) {\n\t\t      if (value == \"implements\") cx.marked = \"keyword\";\n\t\t      return cont(isTS ? typeexpr : expression, classNameAfter);\n\t\t    }\n\t\t    if (type == \"{\") return cont(pushlex(\"}\"), classBody, poplex);\n\t\t  }\n\t\t  function classBody(type, value) {\n\t\t    if (type == \"async\" ||\n\t\t        (type == \"variable\" &&\n\t\t         (value == \"static\" || value == \"get\" || value == \"set\" || (isTS && isModifier(value))) &&\n\t\t         cx.stream.match(/^\\s+#?[\\w$\\xa1-\\uffff]/, false))) {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(classBody);\n\t\t    }\n\t\t    if (type == \"variable\" || cx.style == \"keyword\") {\n\t\t      cx.marked = \"property\";\n\t\t      return cont(classfield, classBody);\n\t\t    }\n\t\t    if (type == \"number\" || type == \"string\") return cont(classfield, classBody);\n\t\t    if (type == \"[\")\n\t\t      return cont(expression, maybetype, expect(\"]\"), classfield, classBody)\n\t\t    if (value == \"*\") {\n\t\t      cx.marked = \"keyword\";\n\t\t      return cont(classBody);\n\t\t    }\n\t\t    if (isTS && type == \"(\") return pass(functiondecl, classBody)\n\t\t    if (type == \";\" || type == \",\") return cont(classBody);\n\t\t    if (type == \"}\") return cont();\n\t\t    if (value == \"@\") return cont(expression, classBody)\n\t\t  }\n\t\t  function classfield(type, value) {\n\t\t    if (value == \"!\") return cont(classfield)\n\t\t    if (value == \"?\") return cont(classfield)\n\t\t    if (type == \":\") return cont(typeexpr, maybeAssign)\n\t\t    if (value == \"=\") return cont(expressionNoComma)\n\t\t    var context = cx.state.lexical.prev, isInterface = context && context.info == \"interface\";\n\t\t    return pass(isInterface ? functiondecl : functiondef)\n\t\t  }\n\t\t  function afterExport(type, value) {\n\t\t    if (value == \"*\") { cx.marked = \"keyword\"; return cont(maybeFrom, expect(\";\")); }\n\t\t    if (value == \"default\") { cx.marked = \"keyword\"; return cont(expression, expect(\";\")); }\n\t\t    if (type == \"{\") return cont(commasep(exportField, \"}\"), maybeFrom, expect(\";\"));\n\t\t    return pass(statement);\n\t\t  }\n\t\t  function exportField(type, value) {\n\t\t    if (value == \"as\") { cx.marked = \"keyword\"; return cont(expect(\"variable\")); }\n\t\t    if (type == \"variable\") return pass(expressionNoComma, exportField);\n\t\t  }\n\t\t  function afterImport(type) {\n\t\t    if (type == \"string\") return cont();\n\t\t    if (type == \"(\") return pass(expression);\n\t\t    if (type == \".\") return pass(maybeoperatorComma);\n\t\t    return pass(importSpec, maybeMoreImports, maybeFrom);\n\t\t  }\n\t\t  function importSpec(type, value) {\n\t\t    if (type == \"{\") return contCommasep(importSpec, \"}\");\n\t\t    if (type == \"variable\") register(value);\n\t\t    if (value == \"*\") cx.marked = \"keyword\";\n\t\t    return cont(maybeAs);\n\t\t  }\n\t\t  function maybeMoreImports(type) {\n\t\t    if (type == \",\") return cont(importSpec, maybeMoreImports)\n\t\t  }\n\t\t  function maybeAs(_type, value) {\n\t\t    if (value == \"as\") { cx.marked = \"keyword\"; return cont(importSpec); }\n\t\t  }\n\t\t  function maybeFrom(_type, value) {\n\t\t    if (value == \"from\") { cx.marked = \"keyword\"; return cont(expression); }\n\t\t  }\n\t\t  function arrayLiteral(type) {\n\t\t    if (type == \"]\") return cont();\n\t\t    return pass(commasep(expressionNoComma, \"]\"));\n\t\t  }\n\t\t  function enumdef() {\n\t\t    return pass(pushlex(\"form\"), pattern, expect(\"{\"), pushlex(\"}\"), commasep(enummember, \"}\"), poplex, poplex)\n\t\t  }\n\t\t  function enummember() {\n\t\t    return pass(pattern, maybeAssign);\n\t\t  }\n\n\t\t  function isContinuedStatement(state, textAfter) {\n\t\t    return state.lastType == \"operator\" || state.lastType == \",\" ||\n\t\t      isOperatorChar.test(textAfter.charAt(0)) ||\n\t\t      /[,.]/.test(textAfter.charAt(0));\n\t\t  }\n\n\t\t  function expressionAllowed(stream, state, backUp) {\n\t\t    return state.tokenize == tokenBase &&\n\t\t      /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\\[{}\\(,;:]|=>)$/.test(state.lastType) ||\n\t\t      (state.lastType == \"quasi\" && /\\{\\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0))))\n\t\t  }\n\n\t\t  // Interface\n\n\t\t  return {\n\t\t    startState: function(basecolumn) {\n\t\t      var state = {\n\t\t        tokenize: tokenBase,\n\t\t        lastType: \"sof\",\n\t\t        cc: [],\n\t\t        lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, \"block\", false),\n\t\t        localVars: parserConfig.localVars,\n\t\t        context: parserConfig.localVars && new Context(null, null, false),\n\t\t        indented: basecolumn || 0\n\t\t      };\n\t\t      if (parserConfig.globalVars && typeof parserConfig.globalVars == \"object\")\n\t\t        state.globalVars = parserConfig.globalVars;\n\t\t      return state;\n\t\t    },\n\n\t\t    token: function(stream, state) {\n\t\t      if (stream.sol()) {\n\t\t        if (!state.lexical.hasOwnProperty(\"align\"))\n\t\t          state.lexical.align = false;\n\t\t        state.indented = stream.indentation();\n\t\t        findFatArrow(stream, state);\n\t\t      }\n\t\t      if (state.tokenize != tokenComment && stream.eatSpace()) return null;\n\t\t      var style = state.tokenize(stream, state);\n\t\t      if (type == \"comment\") return style;\n\t\t      state.lastType = type == \"operator\" && (content == \"++\" || content == \"--\") ? \"incdec\" : type;\n\t\t      return parseJS(state, style, type, content, stream);\n\t\t    },\n\n\t\t    indent: function(state, textAfter) {\n\t\t      if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;\n\t\t      if (state.tokenize != tokenBase) return 0;\n\t\t      var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top;\n\t\t      // Kludge to prevent 'maybelse' from blocking lexical scope pops\n\t\t      if (!/^\\s*else\\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {\n\t\t        var c = state.cc[i];\n\t\t        if (c == poplex) lexical = lexical.prev;\n\t\t        else if (c != maybeelse && c != popcontext) break;\n\t\t      }\n\t\t      while ((lexical.type == \"stat\" || lexical.type == \"form\") &&\n\t\t             (firstChar == \"}\" || ((top = state.cc[state.cc.length - 1]) &&\n\t\t                                   (top == maybeoperatorComma || top == maybeoperatorNoComma) &&\n\t\t                                   !/^[,\\.=+\\-*:?[\\(]/.test(textAfter))))\n\t\t        lexical = lexical.prev;\n\t\t      if (statementIndent && lexical.type == \")\" && lexical.prev.type == \"stat\")\n\t\t        lexical = lexical.prev;\n\t\t      var type = lexical.type, closing = firstChar == type;\n\n\t\t      if (type == \"vardef\") return lexical.indented + (state.lastType == \"operator\" || state.lastType == \",\" ? lexical.info.length + 1 : 0);\n\t\t      else if (type == \"form\" && firstChar == \"{\") return lexical.indented;\n\t\t      else if (type == \"form\") return lexical.indented + indentUnit;\n\t\t      else if (type == \"stat\")\n\t\t        return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);\n\t\t      else if (lexical.info == \"switch\" && !closing && parserConfig.doubleIndentSwitch != false)\n\t\t        return lexical.indented + (/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 2 * indentUnit);\n\t\t      else if (lexical.align) return lexical.column + (closing ? 0 : 1);\n\t\t      else return lexical.indented + (closing ? 0 : indentUnit);\n\t\t    },\n\n\t\t    electricInput: /^\\s*(?:case .*?:|default:|\\{|\\})$/,\n\t\t    blockCommentStart: jsonMode ? null : \"/*\",\n\t\t    blockCommentEnd: jsonMode ? null : \"*/\",\n\t\t    blockCommentContinue: jsonMode ? null : \" * \",\n\t\t    lineComment: jsonMode ? null : \"//\",\n\t\t    fold: \"brace\",\n\t\t    closeBrackets: \"()[]{}''\\\"\\\"``\",\n\n\t\t    helperType: jsonMode ? \"json\" : \"javascript\",\n\t\t    jsonldMode: jsonldMode,\n\t\t    jsonMode: jsonMode,\n\n\t\t    expressionAllowed: expressionAllowed,\n\n\t\t    skipExpression: function(state) {\n\t\t      parseJS(state, \"atom\", \"atom\", \"true\", new CodeMirror.StringStream(\"\", 2, null));\n\t\t    }\n\t\t  };\n\t\t});\n\n\t\tCodeMirror.registerHelper(\"wordChars\", \"javascript\", /[\\w$]/);\n\n\t\tCodeMirror.defineMIME(\"text/javascript\", \"javascript\");\n\t\tCodeMirror.defineMIME(\"text/ecmascript\", \"javascript\");\n\t\tCodeMirror.defineMIME(\"application/javascript\", \"javascript\");\n\t\tCodeMirror.defineMIME(\"application/x-javascript\", \"javascript\");\n\t\tCodeMirror.defineMIME(\"application/ecmascript\", \"javascript\");\n\t\tCodeMirror.defineMIME(\"application/json\", { name: \"javascript\", json: true });\n\t\tCodeMirror.defineMIME(\"application/x-json\", { name: \"javascript\", json: true });\n\t\tCodeMirror.defineMIME(\"application/manifest+json\", { name: \"javascript\", json: true });\n\t\tCodeMirror.defineMIME(\"application/ld+json\", { name: \"javascript\", jsonld: true });\n\t\tCodeMirror.defineMIME(\"text/typescript\", { name: \"javascript\", typescript: true });\n\t\tCodeMirror.defineMIME(\"application/typescript\", { name: \"javascript\", typescript: true });\n\n\t\t}); \n\t} ());\n\treturn javascript.exports;\n}\n\nrequireJavascript();\n\nvar xml = {exports: {}};\n\nvar hasRequiredXml;\n\nfunction requireXml () {\n\tif (hasRequiredXml) return xml.exports;\n\thasRequiredXml = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror());\n\t\t})(function(CodeMirror) {\n\n\t\tvar htmlConfig = {\n\t\t  autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,\n\t\t                    'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,\n\t\t                    'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,\n\t\t                    'track': true, 'wbr': true, 'menuitem': true},\n\t\t  implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,\n\t\t                     'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,\n\t\t                     'th': true, 'tr': true},\n\t\t  contextGrabbers: {\n\t\t    'dd': {'dd': true, 'dt': true},\n\t\t    'dt': {'dd': true, 'dt': true},\n\t\t    'li': {'li': true},\n\t\t    'option': {'option': true, 'optgroup': true},\n\t\t    'optgroup': {'optgroup': true},\n\t\t    'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,\n\t\t          'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,\n\t\t          'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,\n\t\t          'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,\n\t\t          'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},\n\t\t    'rp': {'rp': true, 'rt': true},\n\t\t    'rt': {'rp': true, 'rt': true},\n\t\t    'tbody': {'tbody': true, 'tfoot': true},\n\t\t    'td': {'td': true, 'th': true},\n\t\t    'tfoot': {'tbody': true},\n\t\t    'th': {'td': true, 'th': true},\n\t\t    'thead': {'tbody': true, 'tfoot': true},\n\t\t    'tr': {'tr': true}\n\t\t  },\n\t\t  doNotIndent: {\"pre\": true},\n\t\t  allowUnquoted: true,\n\t\t  allowMissing: true,\n\t\t  caseFold: true\n\t\t};\n\n\t\tvar xmlConfig = {\n\t\t  autoSelfClosers: {},\n\t\t  implicitlyClosed: {},\n\t\t  contextGrabbers: {},\n\t\t  doNotIndent: {},\n\t\t  allowUnquoted: false,\n\t\t  allowMissing: false,\n\t\t  allowMissingTagName: false,\n\t\t  caseFold: false\n\t\t};\n\n\t\tCodeMirror.defineMode(\"xml\", function(editorConf, config_) {\n\t\t  var indentUnit = editorConf.indentUnit;\n\t\t  var config = {};\n\t\t  var defaults = config_.htmlMode ? htmlConfig : xmlConfig;\n\t\t  for (var prop in defaults) config[prop] = defaults[prop];\n\t\t  for (var prop in config_) config[prop] = config_[prop];\n\n\t\t  // Return variables for tokenizers\n\t\t  var type, setStyle;\n\n\t\t  function inText(stream, state) {\n\t\t    function chain(parser) {\n\t\t      state.tokenize = parser;\n\t\t      return parser(stream, state);\n\t\t    }\n\n\t\t    var ch = stream.next();\n\t\t    if (ch == \"<\") {\n\t\t      if (stream.eat(\"!\")) {\n\t\t        if (stream.eat(\"[\")) {\n\t\t          if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));\n\t\t          else return null;\n\t\t        } else if (stream.match(\"--\")) {\n\t\t          return chain(inBlock(\"comment\", \"-->\"));\n\t\t        } else if (stream.match(\"DOCTYPE\", true, true)) {\n\t\t          stream.eatWhile(/[\\w\\._\\-]/);\n\t\t          return chain(doctype(1));\n\t\t        } else {\n\t\t          return null;\n\t\t        }\n\t\t      } else if (stream.eat(\"?\")) {\n\t\t        stream.eatWhile(/[\\w\\._\\-]/);\n\t\t        state.tokenize = inBlock(\"meta\", \"?>\");\n\t\t        return \"meta\";\n\t\t      } else {\n\t\t        type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n\t\t        state.tokenize = inTag;\n\t\t        return \"tag bracket\";\n\t\t      }\n\t\t    } else if (ch == \"&\") {\n\t\t      var ok;\n\t\t      if (stream.eat(\"#\")) {\n\t\t        if (stream.eat(\"x\")) {\n\t\t          ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n\t\t        } else {\n\t\t          ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n\t\t        }\n\t\t      } else {\n\t\t        ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n\t\t      }\n\t\t      return ok ? \"atom\" : \"error\";\n\t\t    } else {\n\t\t      stream.eatWhile(/[^&<]/);\n\t\t      return null;\n\t\t    }\n\t\t  }\n\t\t  inText.isInText = true;\n\n\t\t  function inTag(stream, state) {\n\t\t    var ch = stream.next();\n\t\t    if (ch == \">\" || (ch == \"/\" && stream.eat(\">\"))) {\n\t\t      state.tokenize = inText;\n\t\t      type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n\t\t      return \"tag bracket\";\n\t\t    } else if (ch == \"=\") {\n\t\t      type = \"equals\";\n\t\t      return null;\n\t\t    } else if (ch == \"<\") {\n\t\t      state.tokenize = inText;\n\t\t      state.state = baseState;\n\t\t      state.tagName = state.tagStart = null;\n\t\t      var next = state.tokenize(stream, state);\n\t\t      return next ? next + \" tag error\" : \"tag error\";\n\t\t    } else if (/[\\'\\\"]/.test(ch)) {\n\t\t      state.tokenize = inAttribute(ch);\n\t\t      state.stringStartCol = stream.column();\n\t\t      return state.tokenize(stream, state);\n\t\t    } else {\n\t\t      stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n\t\t      return \"word\";\n\t\t    }\n\t\t  }\n\n\t\t  function inAttribute(quote) {\n\t\t    var closure = function(stream, state) {\n\t\t      while (!stream.eol()) {\n\t\t        if (stream.next() == quote) {\n\t\t          state.tokenize = inTag;\n\t\t          break;\n\t\t        }\n\t\t      }\n\t\t      return \"string\";\n\t\t    };\n\t\t    closure.isInAttribute = true;\n\t\t    return closure;\n\t\t  }\n\n\t\t  function inBlock(style, terminator) {\n\t\t    return function(stream, state) {\n\t\t      while (!stream.eol()) {\n\t\t        if (stream.match(terminator)) {\n\t\t          state.tokenize = inText;\n\t\t          break;\n\t\t        }\n\t\t        stream.next();\n\t\t      }\n\t\t      return style;\n\t\t    }\n\t\t  }\n\n\t\t  function doctype(depth) {\n\t\t    return function(stream, state) {\n\t\t      var ch;\n\t\t      while ((ch = stream.next()) != null) {\n\t\t        if (ch == \"<\") {\n\t\t          state.tokenize = doctype(depth + 1);\n\t\t          return state.tokenize(stream, state);\n\t\t        } else if (ch == \">\") {\n\t\t          if (depth == 1) {\n\t\t            state.tokenize = inText;\n\t\t            break;\n\t\t          } else {\n\t\t            state.tokenize = doctype(depth - 1);\n\t\t            return state.tokenize(stream, state);\n\t\t          }\n\t\t        }\n\t\t      }\n\t\t      return \"meta\";\n\t\t    };\n\t\t  }\n\n\t\t  function lower(tagName) {\n\t\t    return tagName && tagName.toLowerCase();\n\t\t  }\n\n\t\t  function Context(state, tagName, startOfLine) {\n\t\t    this.prev = state.context;\n\t\t    this.tagName = tagName || \"\";\n\t\t    this.indent = state.indented;\n\t\t    this.startOfLine = startOfLine;\n\t\t    if (config.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))\n\t\t      this.noIndent = true;\n\t\t  }\n\t\t  function popContext(state) {\n\t\t    if (state.context) state.context = state.context.prev;\n\t\t  }\n\t\t  function maybePopContext(state, nextTagName) {\n\t\t    var parentTagName;\n\t\t    while (true) {\n\t\t      if (!state.context) {\n\t\t        return;\n\t\t      }\n\t\t      parentTagName = state.context.tagName;\n\t\t      if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) ||\n\t\t          !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {\n\t\t        return;\n\t\t      }\n\t\t      popContext(state);\n\t\t    }\n\t\t  }\n\n\t\t  function baseState(type, stream, state) {\n\t\t    if (type == \"openTag\") {\n\t\t      state.tagStart = stream.column();\n\t\t      return tagNameState;\n\t\t    } else if (type == \"closeTag\") {\n\t\t      return closeTagNameState;\n\t\t    } else {\n\t\t      return baseState;\n\t\t    }\n\t\t  }\n\t\t  function tagNameState(type, stream, state) {\n\t\t    if (type == \"word\") {\n\t\t      state.tagName = stream.current();\n\t\t      setStyle = \"tag\";\n\t\t      return attrState;\n\t\t    } else if (config.allowMissingTagName && type == \"endTag\") {\n\t\t      setStyle = \"tag bracket\";\n\t\t      return attrState(type, stream, state);\n\t\t    } else {\n\t\t      setStyle = \"error\";\n\t\t      return tagNameState;\n\t\t    }\n\t\t  }\n\t\t  function closeTagNameState(type, stream, state) {\n\t\t    if (type == \"word\") {\n\t\t      var tagName = stream.current();\n\t\t      if (state.context && state.context.tagName != tagName &&\n\t\t          config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))\n\t\t        popContext(state);\n\t\t      if ((state.context && state.context.tagName == tagName) || config.matchClosing === false) {\n\t\t        setStyle = \"tag\";\n\t\t        return closeState;\n\t\t      } else {\n\t\t        setStyle = \"tag error\";\n\t\t        return closeStateErr;\n\t\t      }\n\t\t    } else if (config.allowMissingTagName && type == \"endTag\") {\n\t\t      setStyle = \"tag bracket\";\n\t\t      return closeState(type, stream, state);\n\t\t    } else {\n\t\t      setStyle = \"error\";\n\t\t      return closeStateErr;\n\t\t    }\n\t\t  }\n\n\t\t  function closeState(type, _stream, state) {\n\t\t    if (type != \"endTag\") {\n\t\t      setStyle = \"error\";\n\t\t      return closeState;\n\t\t    }\n\t\t    popContext(state);\n\t\t    return baseState;\n\t\t  }\n\t\t  function closeStateErr(type, stream, state) {\n\t\t    setStyle = \"error\";\n\t\t    return closeState(type, stream, state);\n\t\t  }\n\n\t\t  function attrState(type, _stream, state) {\n\t\t    if (type == \"word\") {\n\t\t      setStyle = \"attribute\";\n\t\t      return attrEqState;\n\t\t    } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n\t\t      var tagName = state.tagName, tagStart = state.tagStart;\n\t\t      state.tagName = state.tagStart = null;\n\t\t      if (type == \"selfcloseTag\" ||\n\t\t          config.autoSelfClosers.hasOwnProperty(lower(tagName))) {\n\t\t        maybePopContext(state, tagName);\n\t\t      } else {\n\t\t        maybePopContext(state, tagName);\n\t\t        state.context = new Context(state, tagName, tagStart == state.indented);\n\t\t      }\n\t\t      return baseState;\n\t\t    }\n\t\t    setStyle = \"error\";\n\t\t    return attrState;\n\t\t  }\n\t\t  function attrEqState(type, stream, state) {\n\t\t    if (type == \"equals\") return attrValueState;\n\t\t    if (!config.allowMissing) setStyle = \"error\";\n\t\t    return attrState(type, stream, state);\n\t\t  }\n\t\t  function attrValueState(type, stream, state) {\n\t\t    if (type == \"string\") return attrContinuedState;\n\t\t    if (type == \"word\" && config.allowUnquoted) {setStyle = \"string\"; return attrState;}\n\t\t    setStyle = \"error\";\n\t\t    return attrState(type, stream, state);\n\t\t  }\n\t\t  function attrContinuedState(type, stream, state) {\n\t\t    if (type == \"string\") return attrContinuedState;\n\t\t    return attrState(type, stream, state);\n\t\t  }\n\n\t\t  return {\n\t\t    startState: function(baseIndent) {\n\t\t      var state = {tokenize: inText,\n\t\t                   state: baseState,\n\t\t                   indented: baseIndent || 0,\n\t\t                   tagName: null, tagStart: null,\n\t\t                   context: null};\n\t\t      if (baseIndent != null) state.baseIndent = baseIndent;\n\t\t      return state\n\t\t    },\n\n\t\t    token: function(stream, state) {\n\t\t      if (!state.tagName && stream.sol())\n\t\t        state.indented = stream.indentation();\n\n\t\t      if (stream.eatSpace()) return null;\n\t\t      type = null;\n\t\t      var style = state.tokenize(stream, state);\n\t\t      if ((style || type) && style != \"comment\") {\n\t\t        setStyle = null;\n\t\t        state.state = state.state(type || style, stream, state);\n\t\t        if (setStyle)\n\t\t          style = setStyle == \"error\" ? style + \" error\" : setStyle;\n\t\t      }\n\t\t      return style;\n\t\t    },\n\n\t\t    indent: function(state, textAfter, fullLine) {\n\t\t      var context = state.context;\n\t\t      // Indent multi-line strings (e.g. css).\n\t\t      if (state.tokenize.isInAttribute) {\n\t\t        if (state.tagStart == state.indented)\n\t\t          return state.stringStartCol + 1;\n\t\t        else\n\t\t          return state.indented + indentUnit;\n\t\t      }\n\t\t      if (context && context.noIndent) return CodeMirror.Pass;\n\t\t      if (state.tokenize != inTag && state.tokenize != inText)\n\t\t        return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0;\n\t\t      // Indent the starts of attribute names.\n\t\t      if (state.tagName) {\n\t\t        if (config.multilineTagIndentPastTag !== false)\n\t\t          return state.tagStart + state.tagName.length + 2;\n\t\t        else\n\t\t          return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n\t\t      }\n\t\t      if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n\t\t      var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n\t\t      if (tagAfter && tagAfter[1]) { // Closing tag spotted\n\t\t        while (context) {\n\t\t          if (context.tagName == tagAfter[2]) {\n\t\t            context = context.prev;\n\t\t            break;\n\t\t          } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {\n\t\t            context = context.prev;\n\t\t          } else {\n\t\t            break;\n\t\t          }\n\t\t        }\n\t\t      } else if (tagAfter) { // Opening tag spotted\n\t\t        while (context) {\n\t\t          var grabbers = config.contextGrabbers[lower(context.tagName)];\n\t\t          if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))\n\t\t            context = context.prev;\n\t\t          else\n\t\t            break;\n\t\t        }\n\t\t      }\n\t\t      while (context && context.prev && !context.startOfLine)\n\t\t        context = context.prev;\n\t\t      if (context) return context.indent + indentUnit;\n\t\t      else return state.baseIndent || 0;\n\t\t    },\n\n\t\t    electricInput: /<\\/[\\s\\w:]+>$/,\n\t\t    blockCommentStart: \"<!--\",\n\t\t    blockCommentEnd: \"-->\",\n\n\t\t    configuration: config.htmlMode ? \"html\" : \"xml\",\n\t\t    helperType: config.htmlMode ? \"html\" : \"xml\",\n\n\t\t    skipAttribute: function(state) {\n\t\t      if (state.state == attrValueState)\n\t\t        state.state = attrState;\n\t\t    },\n\n\t\t    xmlCurrentTag: function(state) {\n\t\t      return state.tagName ? {name: state.tagName, close: state.type == \"closeTag\"} : null\n\t\t    },\n\n\t\t    xmlCurrentContext: function(state) {\n\t\t      var context = [];\n\t\t      for (var cx = state.context; cx; cx = cx.prev)\n\t\t        context.push(cx.tagName);\n\t\t      return context.reverse()\n\t\t    }\n\t\t  };\n\t\t});\n\n\t\tCodeMirror.defineMIME(\"text/xml\", \"xml\");\n\t\tCodeMirror.defineMIME(\"application/xml\", \"xml\");\n\t\tif (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\"))\n\t\t  CodeMirror.defineMIME(\"text/html\", {name: \"xml\", htmlMode: true});\n\n\t\t}); \n\t} ());\n\treturn xml.exports;\n}\n\nrequireXml();\n\nvar css = {exports: {}};\n\nvar hasRequiredCss;\n\nfunction requireCss () {\n\tif (hasRequiredCss) return css.exports;\n\thasRequiredCss = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror());\n\t\t})(function(CodeMirror) {\n\n\t\tCodeMirror.defineMode(\"css\", function(config, parserConfig) {\n\t\t  var inline = parserConfig.inline;\n\t\t  if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode(\"text/css\");\n\n\t\t  var indentUnit = config.indentUnit,\n\t\t      tokenHooks = parserConfig.tokenHooks,\n\t\t      documentTypes = parserConfig.documentTypes || {},\n\t\t      mediaTypes = parserConfig.mediaTypes || {},\n\t\t      mediaFeatures = parserConfig.mediaFeatures || {},\n\t\t      mediaValueKeywords = parserConfig.mediaValueKeywords || {},\n\t\t      propertyKeywords = parserConfig.propertyKeywords || {},\n\t\t      nonStandardPropertyKeywords = parserConfig.nonStandardPropertyKeywords || {},\n\t\t      fontProperties = parserConfig.fontProperties || {},\n\t\t      counterDescriptors = parserConfig.counterDescriptors || {},\n\t\t      colorKeywords = parserConfig.colorKeywords || {},\n\t\t      valueKeywords = parserConfig.valueKeywords || {},\n\t\t      allowNested = parserConfig.allowNested,\n\t\t      lineComment = parserConfig.lineComment,\n\t\t      supportsAtComponent = parserConfig.supportsAtComponent === true,\n\t\t      highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;\n\n\t\t  var type, override;\n\t\t  function ret(style, tp) { type = tp; return style; }\n\n\t\t  // Tokenizers\n\n\t\t  function tokenBase(stream, state) {\n\t\t    var ch = stream.next();\n\t\t    if (tokenHooks[ch]) {\n\t\t      var result = tokenHooks[ch](stream, state);\n\t\t      if (result !== false) return result;\n\t\t    }\n\t\t    if (ch == \"@\") {\n\t\t      stream.eatWhile(/[\\w\\\\\\-]/);\n\t\t      return ret(\"def\", stream.current());\n\t\t    } else if (ch == \"=\" || (ch == \"~\" || ch == \"|\") && stream.eat(\"=\")) {\n\t\t      return ret(null, \"compare\");\n\t\t    } else if (ch == \"\\\"\" || ch == \"'\") {\n\t\t      state.tokenize = tokenString(ch);\n\t\t      return state.tokenize(stream, state);\n\t\t    } else if (ch == \"#\") {\n\t\t      stream.eatWhile(/[\\w\\\\\\-]/);\n\t\t      return ret(\"atom\", \"hash\");\n\t\t    } else if (ch == \"!\") {\n\t\t      stream.match(/^\\s*\\w*/);\n\t\t      return ret(\"keyword\", \"important\");\n\t\t    } else if (/\\d/.test(ch) || ch == \".\" && stream.eat(/\\d/)) {\n\t\t      stream.eatWhile(/[\\w.%]/);\n\t\t      return ret(\"number\", \"unit\");\n\t\t    } else if (ch === \"-\") {\n\t\t      if (/[\\d.]/.test(stream.peek())) {\n\t\t        stream.eatWhile(/[\\w.%]/);\n\t\t        return ret(\"number\", \"unit\");\n\t\t      } else if (stream.match(/^-[\\w\\\\\\-]*/)) {\n\t\t        stream.eatWhile(/[\\w\\\\\\-]/);\n\t\t        if (stream.match(/^\\s*:/, false))\n\t\t          return ret(\"variable-2\", \"variable-definition\");\n\t\t        return ret(\"variable-2\", \"variable\");\n\t\t      } else if (stream.match(/^\\w+-/)) {\n\t\t        return ret(\"meta\", \"meta\");\n\t\t      }\n\t\t    } else if (/[,+>*\\/]/.test(ch)) {\n\t\t      return ret(null, \"select-op\");\n\t\t    } else if (ch == \".\" && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {\n\t\t      return ret(\"qualifier\", \"qualifier\");\n\t\t    } else if (/[:;{}\\[\\]\\(\\)]/.test(ch)) {\n\t\t      return ret(null, ch);\n\t\t    } else if (stream.match(/^[\\w-.]+(?=\\()/)) {\n\t\t      if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {\n\t\t        state.tokenize = tokenParenthesized;\n\t\t      }\n\t\t      return ret(\"variable callee\", \"variable\");\n\t\t    } else if (/[\\w\\\\\\-]/.test(ch)) {\n\t\t      stream.eatWhile(/[\\w\\\\\\-]/);\n\t\t      return ret(\"property\", \"word\");\n\t\t    } else {\n\t\t      return ret(null, null);\n\t\t    }\n\t\t  }\n\n\t\t  function tokenString(quote) {\n\t\t    return function(stream, state) {\n\t\t      var escaped = false, ch;\n\t\t      while ((ch = stream.next()) != null) {\n\t\t        if (ch == quote && !escaped) {\n\t\t          if (quote == \")\") stream.backUp(1);\n\t\t          break;\n\t\t        }\n\t\t        escaped = !escaped && ch == \"\\\\\";\n\t\t      }\n\t\t      if (ch == quote || !escaped && quote != \")\") state.tokenize = null;\n\t\t      return ret(\"string\", \"string\");\n\t\t    };\n\t\t  }\n\n\t\t  function tokenParenthesized(stream, state) {\n\t\t    stream.next(); // Must be '('\n\t\t    if (!stream.match(/^\\s*[\\\"\\')]/, false))\n\t\t      state.tokenize = tokenString(\")\");\n\t\t    else\n\t\t      state.tokenize = null;\n\t\t    return ret(null, \"(\");\n\t\t  }\n\n\t\t  // Context management\n\n\t\t  function Context(type, indent, prev) {\n\t\t    this.type = type;\n\t\t    this.indent = indent;\n\t\t    this.prev = prev;\n\t\t  }\n\n\t\t  function pushContext(state, stream, type, indent) {\n\t\t    state.context = new Context(type, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);\n\t\t    return type;\n\t\t  }\n\n\t\t  function popContext(state) {\n\t\t    if (state.context.prev)\n\t\t      state.context = state.context.prev;\n\t\t    return state.context.type;\n\t\t  }\n\n\t\t  function pass(type, stream, state) {\n\t\t    return states[state.context.type](type, stream, state);\n\t\t  }\n\t\t  function popAndPass(type, stream, state, n) {\n\t\t    for (var i = n || 1; i > 0; i--)\n\t\t      state.context = state.context.prev;\n\t\t    return pass(type, stream, state);\n\t\t  }\n\n\t\t  // Parser\n\n\t\t  function wordAsValue(stream) {\n\t\t    var word = stream.current().toLowerCase();\n\t\t    if (valueKeywords.hasOwnProperty(word))\n\t\t      override = \"atom\";\n\t\t    else if (colorKeywords.hasOwnProperty(word))\n\t\t      override = \"keyword\";\n\t\t    else\n\t\t      override = \"variable\";\n\t\t  }\n\n\t\t  var states = {};\n\n\t\t  states.top = function(type, stream, state) {\n\t\t    if (type == \"{\") {\n\t\t      return pushContext(state, stream, \"block\");\n\t\t    } else if (type == \"}\" && state.context.prev) {\n\t\t      return popContext(state);\n\t\t    } else if (supportsAtComponent && /@component/i.test(type)) {\n\t\t      return pushContext(state, stream, \"atComponentBlock\");\n\t\t    } else if (/^@(-moz-)?document$/i.test(type)) {\n\t\t      return pushContext(state, stream, \"documentTypes\");\n\t\t    } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type)) {\n\t\t      return pushContext(state, stream, \"atBlock\");\n\t\t    } else if (/^@(font-face|counter-style)/i.test(type)) {\n\t\t      state.stateArg = type;\n\t\t      return \"restricted_atBlock_before\";\n\t\t    } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type)) {\n\t\t      return \"keyframes\";\n\t\t    } else if (type && type.charAt(0) == \"@\") {\n\t\t      return pushContext(state, stream, \"at\");\n\t\t    } else if (type == \"hash\") {\n\t\t      override = \"builtin\";\n\t\t    } else if (type == \"word\") {\n\t\t      override = \"tag\";\n\t\t    } else if (type == \"variable-definition\") {\n\t\t      return \"maybeprop\";\n\t\t    } else if (type == \"interpolation\") {\n\t\t      return pushContext(state, stream, \"interpolation\");\n\t\t    } else if (type == \":\") {\n\t\t      return \"pseudo\";\n\t\t    } else if (allowNested && type == \"(\") {\n\t\t      return pushContext(state, stream, \"parens\");\n\t\t    }\n\t\t    return state.context.type;\n\t\t  };\n\n\t\t  states.block = function(type, stream, state) {\n\t\t    if (type == \"word\") {\n\t\t      var word = stream.current().toLowerCase();\n\t\t      if (propertyKeywords.hasOwnProperty(word)) {\n\t\t        override = \"property\";\n\t\t        return \"maybeprop\";\n\t\t      } else if (nonStandardPropertyKeywords.hasOwnProperty(word)) {\n\t\t        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n\t\t        return \"maybeprop\";\n\t\t      } else if (allowNested) {\n\t\t        override = stream.match(/^\\s*:(?:\\s|$)/, false) ? \"property\" : \"tag\";\n\t\t        return \"block\";\n\t\t      } else {\n\t\t        override += \" error\";\n\t\t        return \"maybeprop\";\n\t\t      }\n\t\t    } else if (type == \"meta\") {\n\t\t      return \"block\";\n\t\t    } else if (!allowNested && (type == \"hash\" || type == \"qualifier\")) {\n\t\t      override = \"error\";\n\t\t      return \"block\";\n\t\t    } else {\n\t\t      return states.top(type, stream, state);\n\t\t    }\n\t\t  };\n\n\t\t  states.maybeprop = function(type, stream, state) {\n\t\t    if (type == \":\") return pushContext(state, stream, \"prop\");\n\t\t    return pass(type, stream, state);\n\t\t  };\n\n\t\t  states.prop = function(type, stream, state) {\n\t\t    if (type == \";\") return popContext(state);\n\t\t    if (type == \"{\" && allowNested) return pushContext(state, stream, \"propBlock\");\n\t\t    if (type == \"}\" || type == \"{\") return popAndPass(type, stream, state);\n\t\t    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\n\t\t    if (type == \"hash\" && !/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(stream.current())) {\n\t\t      override += \" error\";\n\t\t    } else if (type == \"word\") {\n\t\t      wordAsValue(stream);\n\t\t    } else if (type == \"interpolation\") {\n\t\t      return pushContext(state, stream, \"interpolation\");\n\t\t    }\n\t\t    return \"prop\";\n\t\t  };\n\n\t\t  states.propBlock = function(type, _stream, state) {\n\t\t    if (type == \"}\") return popContext(state);\n\t\t    if (type == \"word\") { override = \"property\"; return \"maybeprop\"; }\n\t\t    return state.context.type;\n\t\t  };\n\n\t\t  states.parens = function(type, stream, state) {\n\t\t    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n\t\t    if (type == \")\") return popContext(state);\n\t\t    if (type == \"(\") return pushContext(state, stream, \"parens\");\n\t\t    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\t\t    if (type == \"word\") wordAsValue(stream);\n\t\t    return \"parens\";\n\t\t  };\n\n\t\t  states.pseudo = function(type, stream, state) {\n\t\t    if (type == \"meta\") return \"pseudo\";\n\n\t\t    if (type == \"word\") {\n\t\t      override = \"variable-3\";\n\t\t      return state.context.type;\n\t\t    }\n\t\t    return pass(type, stream, state);\n\t\t  };\n\n\t\t  states.documentTypes = function(type, stream, state) {\n\t\t    if (type == \"word\" && documentTypes.hasOwnProperty(stream.current())) {\n\t\t      override = \"tag\";\n\t\t      return state.context.type;\n\t\t    } else {\n\t\t      return states.atBlock(type, stream, state);\n\t\t    }\n\t\t  };\n\n\t\t  states.atBlock = function(type, stream, state) {\n\t\t    if (type == \"(\") return pushContext(state, stream, \"atBlock_parens\");\n\t\t    if (type == \"}\" || type == \";\") return popAndPass(type, stream, state);\n\t\t    if (type == \"{\") return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\");\n\n\t\t    if (type == \"interpolation\") return pushContext(state, stream, \"interpolation\");\n\n\t\t    if (type == \"word\") {\n\t\t      var word = stream.current().toLowerCase();\n\t\t      if (word == \"only\" || word == \"not\" || word == \"and\" || word == \"or\")\n\t\t        override = \"keyword\";\n\t\t      else if (mediaTypes.hasOwnProperty(word))\n\t\t        override = \"attribute\";\n\t\t      else if (mediaFeatures.hasOwnProperty(word))\n\t\t        override = \"property\";\n\t\t      else if (mediaValueKeywords.hasOwnProperty(word))\n\t\t        override = \"keyword\";\n\t\t      else if (propertyKeywords.hasOwnProperty(word))\n\t\t        override = \"property\";\n\t\t      else if (nonStandardPropertyKeywords.hasOwnProperty(word))\n\t\t        override = highlightNonStandardPropertyKeywords ? \"string-2\" : \"property\";\n\t\t      else if (valueKeywords.hasOwnProperty(word))\n\t\t        override = \"atom\";\n\t\t      else if (colorKeywords.hasOwnProperty(word))\n\t\t        override = \"keyword\";\n\t\t      else\n\t\t        override = \"error\";\n\t\t    }\n\t\t    return state.context.type;\n\t\t  };\n\n\t\t  states.atComponentBlock = function(type, stream, state) {\n\t\t    if (type == \"}\")\n\t\t      return popAndPass(type, stream, state);\n\t\t    if (type == \"{\")\n\t\t      return popContext(state) && pushContext(state, stream, allowNested ? \"block\" : \"top\", false);\n\t\t    if (type == \"word\")\n\t\t      override = \"error\";\n\t\t    return state.context.type;\n\t\t  };\n\n\t\t  states.atBlock_parens = function(type, stream, state) {\n\t\t    if (type == \")\") return popContext(state);\n\t\t    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state, 2);\n\t\t    return states.atBlock(type, stream, state);\n\t\t  };\n\n\t\t  states.restricted_atBlock_before = function(type, stream, state) {\n\t\t    if (type == \"{\")\n\t\t      return pushContext(state, stream, \"restricted_atBlock\");\n\t\t    if (type == \"word\" && state.stateArg == \"@counter-style\") {\n\t\t      override = \"variable\";\n\t\t      return \"restricted_atBlock_before\";\n\t\t    }\n\t\t    return pass(type, stream, state);\n\t\t  };\n\n\t\t  states.restricted_atBlock = function(type, stream, state) {\n\t\t    if (type == \"}\") {\n\t\t      state.stateArg = null;\n\t\t      return popContext(state);\n\t\t    }\n\t\t    if (type == \"word\") {\n\t\t      if ((state.stateArg == \"@font-face\" && !fontProperties.hasOwnProperty(stream.current().toLowerCase())) ||\n\t\t          (state.stateArg == \"@counter-style\" && !counterDescriptors.hasOwnProperty(stream.current().toLowerCase())))\n\t\t        override = \"error\";\n\t\t      else\n\t\t        override = \"property\";\n\t\t      return \"maybeprop\";\n\t\t    }\n\t\t    return \"restricted_atBlock\";\n\t\t  };\n\n\t\t  states.keyframes = function(type, stream, state) {\n\t\t    if (type == \"word\") { override = \"variable\"; return \"keyframes\"; }\n\t\t    if (type == \"{\") return pushContext(state, stream, \"top\");\n\t\t    return pass(type, stream, state);\n\t\t  };\n\n\t\t  states.at = function(type, stream, state) {\n\t\t    if (type == \";\") return popContext(state);\n\t\t    if (type == \"{\" || type == \"}\") return popAndPass(type, stream, state);\n\t\t    if (type == \"word\") override = \"tag\";\n\t\t    else if (type == \"hash\") override = \"builtin\";\n\t\t    return \"at\";\n\t\t  };\n\n\t\t  states.interpolation = function(type, stream, state) {\n\t\t    if (type == \"}\") return popContext(state);\n\t\t    if (type == \"{\" || type == \";\") return popAndPass(type, stream, state);\n\t\t    if (type == \"word\") override = \"variable\";\n\t\t    else if (type != \"variable\" && type != \"(\" && type != \")\") override = \"error\";\n\t\t    return \"interpolation\";\n\t\t  };\n\n\t\t  return {\n\t\t    startState: function(base) {\n\t\t      return {tokenize: null,\n\t\t              state: inline ? \"block\" : \"top\",\n\t\t              stateArg: null,\n\t\t              context: new Context(inline ? \"block\" : \"top\", base || 0, null)};\n\t\t    },\n\n\t\t    token: function(stream, state) {\n\t\t      if (!state.tokenize && stream.eatSpace()) return null;\n\t\t      var style = (state.tokenize || tokenBase)(stream, state);\n\t\t      if (style && typeof style == \"object\") {\n\t\t        type = style[1];\n\t\t        style = style[0];\n\t\t      }\n\t\t      override = style;\n\t\t      if (type != \"comment\")\n\t\t        state.state = states[state.state](type, stream, state);\n\t\t      return override;\n\t\t    },\n\n\t\t    indent: function(state, textAfter) {\n\t\t      var cx = state.context, ch = textAfter && textAfter.charAt(0);\n\t\t      var indent = cx.indent;\n\t\t      if (cx.type == \"prop\" && (ch == \"}\" || ch == \")\")) cx = cx.prev;\n\t\t      if (cx.prev) {\n\t\t        if (ch == \"}\" && (cx.type == \"block\" || cx.type == \"top\" ||\n\t\t                          cx.type == \"interpolation\" || cx.type == \"restricted_atBlock\")) {\n\t\t          // Resume indentation from parent context.\n\t\t          cx = cx.prev;\n\t\t          indent = cx.indent;\n\t\t        } else if (ch == \")\" && (cx.type == \"parens\" || cx.type == \"atBlock_parens\") ||\n\t\t            ch == \"{\" && (cx.type == \"at\" || cx.type == \"atBlock\")) {\n\t\t          // Dedent relative to current context.\n\t\t          indent = Math.max(0, cx.indent - indentUnit);\n\t\t        }\n\t\t      }\n\t\t      return indent;\n\t\t    },\n\n\t\t    electricChars: \"}\",\n\t\t    blockCommentStart: \"/*\",\n\t\t    blockCommentEnd: \"*/\",\n\t\t    blockCommentContinue: \" * \",\n\t\t    lineComment: lineComment,\n\t\t    fold: \"brace\"\n\t\t  };\n\t\t});\n\n\t\t  function keySet(array) {\n\t\t    var keys = {};\n\t\t    for (var i = 0; i < array.length; ++i) {\n\t\t      keys[array[i].toLowerCase()] = true;\n\t\t    }\n\t\t    return keys;\n\t\t  }\n\n\t\t  var documentTypes_ = [\n\t\t    \"domain\", \"regexp\", \"url\", \"url-prefix\"\n\t\t  ], documentTypes = keySet(documentTypes_);\n\n\t\t  var mediaTypes_ = [\n\t\t    \"all\", \"aural\", \"braille\", \"handheld\", \"print\", \"projection\", \"screen\",\n\t\t    \"tty\", \"tv\", \"embossed\"\n\t\t  ], mediaTypes = keySet(mediaTypes_);\n\n\t\t  var mediaFeatures_ = [\n\t\t    \"width\", \"min-width\", \"max-width\", \"height\", \"min-height\", \"max-height\",\n\t\t    \"device-width\", \"min-device-width\", \"max-device-width\", \"device-height\",\n\t\t    \"min-device-height\", \"max-device-height\", \"aspect-ratio\",\n\t\t    \"min-aspect-ratio\", \"max-aspect-ratio\", \"device-aspect-ratio\",\n\t\t    \"min-device-aspect-ratio\", \"max-device-aspect-ratio\", \"color\", \"min-color\",\n\t\t    \"max-color\", \"color-index\", \"min-color-index\", \"max-color-index\",\n\t\t    \"monochrome\", \"min-monochrome\", \"max-monochrome\", \"resolution\",\n\t\t    \"min-resolution\", \"max-resolution\", \"scan\", \"grid\", \"orientation\",\n\t\t    \"device-pixel-ratio\", \"min-device-pixel-ratio\", \"max-device-pixel-ratio\",\n\t\t    \"pointer\", \"any-pointer\", \"hover\", \"any-hover\", \"prefers-color-scheme\",\n\t\t    \"dynamic-range\", \"video-dynamic-range\"\n\t\t  ], mediaFeatures = keySet(mediaFeatures_);\n\n\t\t  var mediaValueKeywords_ = [\n\t\t    \"landscape\", \"portrait\", \"none\", \"coarse\", \"fine\", \"on-demand\", \"hover\",\n\t\t    \"interlace\", \"progressive\",\n\t\t    \"dark\", \"light\",\n\t\t    \"standard\", \"high\"\n\t\t  ], mediaValueKeywords = keySet(mediaValueKeywords_);\n\n\t\t  var propertyKeywords_ = [\n\t\t    \"align-content\", \"align-items\", \"align-self\", \"alignment-adjust\",\n\t\t    \"alignment-baseline\", \"all\", \"anchor-point\", \"animation\", \"animation-delay\",\n\t\t    \"animation-direction\", \"animation-duration\", \"animation-fill-mode\",\n\t\t    \"animation-iteration-count\", \"animation-name\", \"animation-play-state\",\n\t\t    \"animation-timing-function\", \"appearance\", \"azimuth\", \"backdrop-filter\",\n\t\t    \"backface-visibility\", \"background\", \"background-attachment\",\n\t\t    \"background-blend-mode\", \"background-clip\", \"background-color\",\n\t\t    \"background-image\", \"background-origin\", \"background-position\",\n\t\t    \"background-position-x\", \"background-position-y\", \"background-repeat\",\n\t\t    \"background-size\", \"baseline-shift\", \"binding\", \"bleed\", \"block-size\",\n\t\t    \"bookmark-label\", \"bookmark-level\", \"bookmark-state\", \"bookmark-target\",\n\t\t    \"border\", \"border-bottom\", \"border-bottom-color\", \"border-bottom-left-radius\",\n\t\t    \"border-bottom-right-radius\", \"border-bottom-style\", \"border-bottom-width\",\n\t\t    \"border-collapse\", \"border-color\", \"border-image\", \"border-image-outset\",\n\t\t    \"border-image-repeat\", \"border-image-slice\", \"border-image-source\",\n\t\t    \"border-image-width\", \"border-left\", \"border-left-color\", \"border-left-style\",\n\t\t    \"border-left-width\", \"border-radius\", \"border-right\", \"border-right-color\",\n\t\t    \"border-right-style\", \"border-right-width\", \"border-spacing\", \"border-style\",\n\t\t    \"border-top\", \"border-top-color\", \"border-top-left-radius\",\n\t\t    \"border-top-right-radius\", \"border-top-style\", \"border-top-width\",\n\t\t    \"border-width\", \"bottom\", \"box-decoration-break\", \"box-shadow\", \"box-sizing\",\n\t\t    \"break-after\", \"break-before\", \"break-inside\", \"caption-side\", \"caret-color\",\n\t\t    \"clear\", \"clip\", \"color\", \"color-profile\", \"column-count\", \"column-fill\",\n\t\t    \"column-gap\", \"column-rule\", \"column-rule-color\", \"column-rule-style\",\n\t\t    \"column-rule-width\", \"column-span\", \"column-width\", \"columns\", \"contain\",\n\t\t    \"content\", \"counter-increment\", \"counter-reset\", \"crop\", \"cue\", \"cue-after\",\n\t\t    \"cue-before\", \"cursor\", \"direction\", \"display\", \"dominant-baseline\",\n\t\t    \"drop-initial-after-adjust\", \"drop-initial-after-align\",\n\t\t    \"drop-initial-before-adjust\", \"drop-initial-before-align\", \"drop-initial-size\",\n\t\t    \"drop-initial-value\", \"elevation\", \"empty-cells\", \"fit\", \"fit-content\", \"fit-position\",\n\t\t    \"flex\", \"flex-basis\", \"flex-direction\", \"flex-flow\", \"flex-grow\",\n\t\t    \"flex-shrink\", \"flex-wrap\", \"float\", \"float-offset\", \"flow-from\", \"flow-into\",\n\t\t    \"font\", \"font-family\", \"font-feature-settings\", \"font-kerning\",\n\t\t    \"font-language-override\", \"font-optical-sizing\", \"font-size\",\n\t\t    \"font-size-adjust\", \"font-stretch\", \"font-style\", \"font-synthesis\",\n\t\t    \"font-variant\", \"font-variant-alternates\", \"font-variant-caps\",\n\t\t    \"font-variant-east-asian\", \"font-variant-ligatures\", \"font-variant-numeric\",\n\t\t    \"font-variant-position\", \"font-variation-settings\", \"font-weight\", \"gap\",\n\t\t    \"grid\", \"grid-area\", \"grid-auto-columns\", \"grid-auto-flow\", \"grid-auto-rows\",\n\t\t    \"grid-column\", \"grid-column-end\", \"grid-column-gap\", \"grid-column-start\",\n\t\t    \"grid-gap\", \"grid-row\", \"grid-row-end\", \"grid-row-gap\", \"grid-row-start\",\n\t\t    \"grid-template\", \"grid-template-areas\", \"grid-template-columns\",\n\t\t    \"grid-template-rows\", \"hanging-punctuation\", \"height\", \"hyphens\", \"icon\",\n\t\t    \"image-orientation\", \"image-rendering\", \"image-resolution\", \"inline-box-align\",\n\t\t    \"inset\", \"inset-block\", \"inset-block-end\", \"inset-block-start\", \"inset-inline\",\n\t\t    \"inset-inline-end\", \"inset-inline-start\", \"isolation\", \"justify-content\",\n\t\t    \"justify-items\", \"justify-self\", \"left\", \"letter-spacing\", \"line-break\",\n\t\t    \"line-height\", \"line-height-step\", \"line-stacking\", \"line-stacking-ruby\",\n\t\t    \"line-stacking-shift\", \"line-stacking-strategy\", \"list-style\",\n\t\t    \"list-style-image\", \"list-style-position\", \"list-style-type\", \"margin\",\n\t\t    \"margin-bottom\", \"margin-left\", \"margin-right\", \"margin-top\", \"marks\",\n\t\t    \"marquee-direction\", \"marquee-loop\", \"marquee-play-count\", \"marquee-speed\",\n\t\t    \"marquee-style\", \"mask-clip\", \"mask-composite\", \"mask-image\", \"mask-mode\",\n\t\t    \"mask-origin\", \"mask-position\", \"mask-repeat\", \"mask-size\",\"mask-type\",\n\t\t    \"max-block-size\", \"max-height\", \"max-inline-size\",\n\t\t    \"max-width\", \"min-block-size\", \"min-height\", \"min-inline-size\", \"min-width\",\n\t\t    \"mix-blend-mode\", \"move-to\", \"nav-down\", \"nav-index\", \"nav-left\", \"nav-right\",\n\t\t    \"nav-up\", \"object-fit\", \"object-position\", \"offset\", \"offset-anchor\",\n\t\t    \"offset-distance\", \"offset-path\", \"offset-position\", \"offset-rotate\",\n\t\t    \"opacity\", \"order\", \"orphans\", \"outline\", \"outline-color\", \"outline-offset\",\n\t\t    \"outline-style\", \"outline-width\", \"overflow\", \"overflow-style\",\n\t\t    \"overflow-wrap\", \"overflow-x\", \"overflow-y\", \"padding\", \"padding-bottom\",\n\t\t    \"padding-left\", \"padding-right\", \"padding-top\", \"page\", \"page-break-after\",\n\t\t    \"page-break-before\", \"page-break-inside\", \"page-policy\", \"pause\",\n\t\t    \"pause-after\", \"pause-before\", \"perspective\", \"perspective-origin\", \"pitch\",\n\t\t    \"pitch-range\", \"place-content\", \"place-items\", \"place-self\", \"play-during\",\n\t\t    \"position\", \"presentation-level\", \"punctuation-trim\", \"quotes\",\n\t\t    \"region-break-after\", \"region-break-before\", \"region-break-inside\",\n\t\t    \"region-fragment\", \"rendering-intent\", \"resize\", \"rest\", \"rest-after\",\n\t\t    \"rest-before\", \"richness\", \"right\", \"rotate\", \"rotation\", \"rotation-point\",\n\t\t    \"row-gap\", \"ruby-align\", \"ruby-overhang\", \"ruby-position\", \"ruby-span\",\n\t\t    \"scale\", \"scroll-behavior\", \"scroll-margin\", \"scroll-margin-block\",\n\t\t    \"scroll-margin-block-end\", \"scroll-margin-block-start\", \"scroll-margin-bottom\",\n\t\t    \"scroll-margin-inline\", \"scroll-margin-inline-end\",\n\t\t    \"scroll-margin-inline-start\", \"scroll-margin-left\", \"scroll-margin-right\",\n\t\t    \"scroll-margin-top\", \"scroll-padding\", \"scroll-padding-block\",\n\t\t    \"scroll-padding-block-end\", \"scroll-padding-block-start\",\n\t\t    \"scroll-padding-bottom\", \"scroll-padding-inline\", \"scroll-padding-inline-end\",\n\t\t    \"scroll-padding-inline-start\", \"scroll-padding-left\", \"scroll-padding-right\",\n\t\t    \"scroll-padding-top\", \"scroll-snap-align\", \"scroll-snap-type\",\n\t\t    \"shape-image-threshold\", \"shape-inside\", \"shape-margin\", \"shape-outside\",\n\t\t    \"size\", \"speak\", \"speak-as\", \"speak-header\", \"speak-numeral\",\n\t\t    \"speak-punctuation\", \"speech-rate\", \"stress\", \"string-set\", \"tab-size\",\n\t\t    \"table-layout\", \"target\", \"target-name\", \"target-new\", \"target-position\",\n\t\t    \"text-align\", \"text-align-last\", \"text-combine-upright\", \"text-decoration\",\n\t\t    \"text-decoration-color\", \"text-decoration-line\", \"text-decoration-skip\",\n\t\t    \"text-decoration-skip-ink\", \"text-decoration-style\", \"text-emphasis\",\n\t\t    \"text-emphasis-color\", \"text-emphasis-position\", \"text-emphasis-style\",\n\t\t    \"text-height\", \"text-indent\", \"text-justify\", \"text-orientation\",\n\t\t    \"text-outline\", \"text-overflow\", \"text-rendering\", \"text-shadow\",\n\t\t    \"text-size-adjust\", \"text-space-collapse\", \"text-transform\",\n\t\t    \"text-underline-position\", \"text-wrap\", \"top\", \"touch-action\", \"transform\", \"transform-origin\",\n\t\t    \"transform-style\", \"transition\", \"transition-delay\", \"transition-duration\",\n\t\t    \"transition-property\", \"transition-timing-function\", \"translate\",\n\t\t    \"unicode-bidi\", \"user-select\", \"vertical-align\", \"visibility\", \"voice-balance\",\n\t\t    \"voice-duration\", \"voice-family\", \"voice-pitch\", \"voice-range\", \"voice-rate\",\n\t\t    \"voice-stress\", \"voice-volume\", \"volume\", \"white-space\", \"widows\", \"width\",\n\t\t    \"will-change\", \"word-break\", \"word-spacing\", \"word-wrap\", \"writing-mode\", \"z-index\",\n\t\t    // SVG-specific\n\t\t    \"clip-path\", \"clip-rule\", \"mask\", \"enable-background\", \"filter\", \"flood-color\",\n\t\t    \"flood-opacity\", \"lighting-color\", \"stop-color\", \"stop-opacity\", \"pointer-events\",\n\t\t    \"color-interpolation\", \"color-interpolation-filters\",\n\t\t    \"color-rendering\", \"fill\", \"fill-opacity\", \"fill-rule\", \"image-rendering\",\n\t\t    \"marker\", \"marker-end\", \"marker-mid\", \"marker-start\", \"paint-order\", \"shape-rendering\", \"stroke\",\n\t\t    \"stroke-dasharray\", \"stroke-dashoffset\", \"stroke-linecap\", \"stroke-linejoin\",\n\t\t    \"stroke-miterlimit\", \"stroke-opacity\", \"stroke-width\", \"text-rendering\",\n\t\t    \"baseline-shift\", \"dominant-baseline\", \"glyph-orientation-horizontal\",\n\t\t    \"glyph-orientation-vertical\", \"text-anchor\", \"writing-mode\",\n\t\t  ], propertyKeywords = keySet(propertyKeywords_);\n\n\t\t  var nonStandardPropertyKeywords_ = [\n\t\t    \"accent-color\", \"aspect-ratio\", \"border-block\", \"border-block-color\", \"border-block-end\",\n\t\t    \"border-block-end-color\", \"border-block-end-style\", \"border-block-end-width\",\n\t\t    \"border-block-start\", \"border-block-start-color\", \"border-block-start-style\",\n\t\t    \"border-block-start-width\", \"border-block-style\", \"border-block-width\",\n\t\t    \"border-inline\", \"border-inline-color\", \"border-inline-end\",\n\t\t    \"border-inline-end-color\", \"border-inline-end-style\",\n\t\t    \"border-inline-end-width\", \"border-inline-start\", \"border-inline-start-color\",\n\t\t    \"border-inline-start-style\", \"border-inline-start-width\",\n\t\t    \"border-inline-style\", \"border-inline-width\", \"content-visibility\", \"margin-block\",\n\t\t    \"margin-block-end\", \"margin-block-start\", \"margin-inline\", \"margin-inline-end\",\n\t\t    \"margin-inline-start\", \"overflow-anchor\", \"overscroll-behavior\", \"padding-block\", \"padding-block-end\",\n\t\t    \"padding-block-start\", \"padding-inline\", \"padding-inline-end\",\n\t\t    \"padding-inline-start\", \"scroll-snap-stop\", \"scrollbar-3d-light-color\",\n\t\t    \"scrollbar-arrow-color\", \"scrollbar-base-color\", \"scrollbar-dark-shadow-color\",\n\t\t    \"scrollbar-face-color\", \"scrollbar-highlight-color\", \"scrollbar-shadow-color\",\n\t\t    \"scrollbar-track-color\", \"searchfield-cancel-button\", \"searchfield-decoration\",\n\t\t    \"searchfield-results-button\", \"searchfield-results-decoration\", \"shape-inside\", \"zoom\"\n\t\t  ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);\n\n\t\t  var fontProperties_ = [\n\t\t    \"font-display\", \"font-family\", \"src\", \"unicode-range\", \"font-variant\",\n\t\t     \"font-feature-settings\", \"font-stretch\", \"font-weight\", \"font-style\"\n\t\t  ], fontProperties = keySet(fontProperties_);\n\n\t\t  var counterDescriptors_ = [\n\t\t    \"additive-symbols\", \"fallback\", \"negative\", \"pad\", \"prefix\", \"range\",\n\t\t    \"speak-as\", \"suffix\", \"symbols\", \"system\"\n\t\t  ], counterDescriptors = keySet(counterDescriptors_);\n\n\t\t  var colorKeywords_ = [\n\t\t    \"aliceblue\", \"antiquewhite\", \"aqua\", \"aquamarine\", \"azure\", \"beige\",\n\t\t    \"bisque\", \"black\", \"blanchedalmond\", \"blue\", \"blueviolet\", \"brown\",\n\t\t    \"burlywood\", \"cadetblue\", \"chartreuse\", \"chocolate\", \"coral\", \"cornflowerblue\",\n\t\t    \"cornsilk\", \"crimson\", \"cyan\", \"darkblue\", \"darkcyan\", \"darkgoldenrod\",\n\t\t    \"darkgray\", \"darkgreen\", \"darkgrey\", \"darkkhaki\", \"darkmagenta\", \"darkolivegreen\",\n\t\t    \"darkorange\", \"darkorchid\", \"darkred\", \"darksalmon\", \"darkseagreen\",\n\t\t    \"darkslateblue\", \"darkslategray\", \"darkslategrey\", \"darkturquoise\", \"darkviolet\",\n\t\t    \"deeppink\", \"deepskyblue\", \"dimgray\", \"dimgrey\", \"dodgerblue\", \"firebrick\",\n\t\t    \"floralwhite\", \"forestgreen\", \"fuchsia\", \"gainsboro\", \"ghostwhite\",\n\t\t    \"gold\", \"goldenrod\", \"gray\", \"grey\", \"green\", \"greenyellow\", \"honeydew\",\n\t\t    \"hotpink\", \"indianred\", \"indigo\", \"ivory\", \"khaki\", \"lavender\",\n\t\t    \"lavenderblush\", \"lawngreen\", \"lemonchiffon\", \"lightblue\", \"lightcoral\",\n\t\t    \"lightcyan\", \"lightgoldenrodyellow\", \"lightgray\", \"lightgreen\", \"lightgrey\", \"lightpink\",\n\t\t    \"lightsalmon\", \"lightseagreen\", \"lightskyblue\", \"lightslategray\", \"lightslategrey\",\n\t\t    \"lightsteelblue\", \"lightyellow\", \"lime\", \"limegreen\", \"linen\", \"magenta\",\n\t\t    \"maroon\", \"mediumaquamarine\", \"mediumblue\", \"mediumorchid\", \"mediumpurple\",\n\t\t    \"mediumseagreen\", \"mediumslateblue\", \"mediumspringgreen\", \"mediumturquoise\",\n\t\t    \"mediumvioletred\", \"midnightblue\", \"mintcream\", \"mistyrose\", \"moccasin\",\n\t\t    \"navajowhite\", \"navy\", \"oldlace\", \"olive\", \"olivedrab\", \"orange\", \"orangered\",\n\t\t    \"orchid\", \"palegoldenrod\", \"palegreen\", \"paleturquoise\", \"palevioletred\",\n\t\t    \"papayawhip\", \"peachpuff\", \"peru\", \"pink\", \"plum\", \"powderblue\",\n\t\t    \"purple\", \"rebeccapurple\", \"red\", \"rosybrown\", \"royalblue\", \"saddlebrown\",\n\t\t    \"salmon\", \"sandybrown\", \"seagreen\", \"seashell\", \"sienna\", \"silver\", \"skyblue\",\n\t\t    \"slateblue\", \"slategray\", \"slategrey\", \"snow\", \"springgreen\", \"steelblue\", \"tan\",\n\t\t    \"teal\", \"thistle\", \"tomato\", \"turquoise\", \"violet\", \"wheat\", \"white\",\n\t\t    \"whitesmoke\", \"yellow\", \"yellowgreen\"\n\t\t  ], colorKeywords = keySet(colorKeywords_);\n\n\t\t  var valueKeywords_ = [\n\t\t    \"above\", \"absolute\", \"activeborder\", \"additive\", \"activecaption\", \"afar\",\n\t\t    \"after-white-space\", \"ahead\", \"alias\", \"all\", \"all-scroll\", \"alphabetic\", \"alternate\",\n\t\t    \"always\", \"amharic\", \"amharic-abegede\", \"antialiased\", \"appworkspace\",\n\t\t    \"arabic-indic\", \"armenian\", \"asterisks\", \"attr\", \"auto\", \"auto-flow\", \"avoid\", \"avoid-column\", \"avoid-page\",\n\t\t    \"avoid-region\", \"axis-pan\", \"background\", \"backwards\", \"baseline\", \"below\", \"bidi-override\", \"binary\",\n\t\t    \"bengali\", \"blink\", \"block\", \"block-axis\", \"blur\", \"bold\", \"bolder\", \"border\", \"border-box\",\n\t\t    \"both\", \"bottom\", \"break\", \"break-all\", \"break-word\", \"brightness\", \"bullets\", \"button\",\n\t\t    \"buttonface\", \"buttonhighlight\", \"buttonshadow\", \"buttontext\", \"calc\", \"cambodian\",\n\t\t    \"capitalize\", \"caps-lock-indicator\", \"caption\", \"captiontext\", \"caret\",\n\t\t    \"cell\", \"center\", \"checkbox\", \"circle\", \"cjk-decimal\", \"cjk-earthly-branch\",\n\t\t    \"cjk-heavenly-stem\", \"cjk-ideographic\", \"clear\", \"clip\", \"close-quote\",\n\t\t    \"col-resize\", \"collapse\", \"color\", \"color-burn\", \"color-dodge\", \"column\", \"column-reverse\",\n\t\t    \"compact\", \"condensed\", \"conic-gradient\", \"contain\", \"content\", \"contents\",\n\t\t    \"content-box\", \"context-menu\", \"continuous\", \"contrast\", \"copy\", \"counter\", \"counters\", \"cover\", \"crop\",\n\t\t    \"cross\", \"crosshair\", \"cubic-bezier\", \"currentcolor\", \"cursive\", \"cyclic\", \"darken\", \"dashed\", \"decimal\",\n\t\t    \"decimal-leading-zero\", \"default\", \"default-button\", \"dense\", \"destination-atop\",\n\t\t    \"destination-in\", \"destination-out\", \"destination-over\", \"devanagari\", \"difference\",\n\t\t    \"disc\", \"discard\", \"disclosure-closed\", \"disclosure-open\", \"document\",\n\t\t    \"dot-dash\", \"dot-dot-dash\",\n\t\t    \"dotted\", \"double\", \"down\", \"drop-shadow\", \"e-resize\", \"ease\", \"ease-in\", \"ease-in-out\", \"ease-out\",\n\t\t    \"element\", \"ellipse\", \"ellipsis\", \"embed\", \"end\", \"ethiopic\", \"ethiopic-abegede\",\n\t\t    \"ethiopic-abegede-am-et\", \"ethiopic-abegede-gez\", \"ethiopic-abegede-ti-er\",\n\t\t    \"ethiopic-abegede-ti-et\", \"ethiopic-halehame-aa-er\",\n\t\t    \"ethiopic-halehame-aa-et\", \"ethiopic-halehame-am-et\",\n\t\t    \"ethiopic-halehame-gez\", \"ethiopic-halehame-om-et\",\n\t\t    \"ethiopic-halehame-sid-et\", \"ethiopic-halehame-so-et\",\n\t\t    \"ethiopic-halehame-ti-er\", \"ethiopic-halehame-ti-et\", \"ethiopic-halehame-tig\",\n\t\t    \"ethiopic-numeric\", \"ew-resize\", \"exclusion\", \"expanded\", \"extends\", \"extra-condensed\",\n\t\t    \"extra-expanded\", \"fantasy\", \"fast\", \"fill\", \"fill-box\", \"fixed\", \"flat\", \"flex\", \"flex-end\", \"flex-start\", \"footnotes\",\n\t\t    \"forwards\", \"from\", \"geometricPrecision\", \"georgian\", \"grayscale\", \"graytext\", \"grid\", \"groove\",\n\t\t    \"gujarati\", \"gurmukhi\", \"hand\", \"hangul\", \"hangul-consonant\", \"hard-light\", \"hebrew\",\n\t\t    \"help\", \"hidden\", \"hide\", \"higher\", \"highlight\", \"highlighttext\",\n\t\t    \"hiragana\", \"hiragana-iroha\", \"horizontal\", \"hsl\", \"hsla\", \"hue\", \"hue-rotate\", \"icon\", \"ignore\",\n\t\t    \"inactiveborder\", \"inactivecaption\", \"inactivecaptiontext\", \"infinite\",\n\t\t    \"infobackground\", \"infotext\", \"inherit\", \"initial\", \"inline\", \"inline-axis\",\n\t\t    \"inline-block\", \"inline-flex\", \"inline-grid\", \"inline-table\", \"inset\", \"inside\", \"intrinsic\", \"invert\",\n\t\t    \"italic\", \"japanese-formal\", \"japanese-informal\", \"justify\", \"kannada\",\n\t\t    \"katakana\", \"katakana-iroha\", \"keep-all\", \"khmer\",\n\t\t    \"korean-hangul-formal\", \"korean-hanja-formal\", \"korean-hanja-informal\",\n\t\t    \"landscape\", \"lao\", \"large\", \"larger\", \"left\", \"level\", \"lighter\", \"lighten\",\n\t\t    \"line-through\", \"linear\", \"linear-gradient\", \"lines\", \"list-item\", \"listbox\", \"listitem\",\n\t\t    \"local\", \"logical\", \"loud\", \"lower\", \"lower-alpha\", \"lower-armenian\",\n\t\t    \"lower-greek\", \"lower-hexadecimal\", \"lower-latin\", \"lower-norwegian\",\n\t\t    \"lower-roman\", \"lowercase\", \"ltr\", \"luminosity\", \"malayalam\", \"manipulation\", \"match\", \"matrix\", \"matrix3d\",\n\t\t    \"media-play-button\", \"media-slider\", \"media-sliderthumb\",\n\t\t    \"media-volume-slider\", \"media-volume-sliderthumb\", \"medium\",\n\t\t    \"menu\", \"menulist\", \"menulist-button\",\n\t\t    \"menutext\", \"message-box\", \"middle\", \"min-intrinsic\",\n\t\t    \"mix\", \"mongolian\", \"monospace\", \"move\", \"multiple\", \"multiple_mask_images\", \"multiply\", \"myanmar\", \"n-resize\",\n\t\t    \"narrower\", \"ne-resize\", \"nesw-resize\", \"no-close-quote\", \"no-drop\",\n\t\t    \"no-open-quote\", \"no-repeat\", \"none\", \"normal\", \"not-allowed\", \"nowrap\",\n\t\t    \"ns-resize\", \"numbers\", \"numeric\", \"nw-resize\", \"nwse-resize\", \"oblique\", \"octal\", \"opacity\", \"open-quote\",\n\t\t    \"optimizeLegibility\", \"optimizeSpeed\", \"oriya\", \"oromo\", \"outset\",\n\t\t    \"outside\", \"outside-shape\", \"overlay\", \"overline\", \"padding\", \"padding-box\",\n\t\t    \"painted\", \"page\", \"paused\", \"persian\", \"perspective\", \"pinch-zoom\", \"plus-darker\", \"plus-lighter\",\n\t\t    \"pointer\", \"polygon\", \"portrait\", \"pre\", \"pre-line\", \"pre-wrap\", \"preserve-3d\",\n\t\t    \"progress\", \"push-button\", \"radial-gradient\", \"radio\", \"read-only\",\n\t\t    \"read-write\", \"read-write-plaintext-only\", \"rectangle\", \"region\",\n\t\t    \"relative\", \"repeat\", \"repeating-linear-gradient\", \"repeating-radial-gradient\",\n\t\t    \"repeating-conic-gradient\", \"repeat-x\", \"repeat-y\", \"reset\", \"reverse\",\n\t\t    \"rgb\", \"rgba\", \"ridge\", \"right\", \"rotate\", \"rotate3d\", \"rotateX\", \"rotateY\",\n\t\t    \"rotateZ\", \"round\", \"row\", \"row-resize\", \"row-reverse\", \"rtl\", \"run-in\", \"running\",\n\t\t    \"s-resize\", \"sans-serif\", \"saturate\", \"saturation\", \"scale\", \"scale3d\", \"scaleX\", \"scaleY\", \"scaleZ\", \"screen\",\n\t\t    \"scroll\", \"scrollbar\", \"scroll-position\", \"se-resize\", \"searchfield\",\n\t\t    \"searchfield-cancel-button\", \"searchfield-decoration\",\n\t\t    \"searchfield-results-button\", \"searchfield-results-decoration\", \"self-start\", \"self-end\",\n\t\t    \"semi-condensed\", \"semi-expanded\", \"separate\", \"sepia\", \"serif\", \"show\", \"sidama\",\n\t\t    \"simp-chinese-formal\", \"simp-chinese-informal\", \"single\",\n\t\t    \"skew\", \"skewX\", \"skewY\", \"skip-white-space\", \"slide\", \"slider-horizontal\",\n\t\t    \"slider-vertical\", \"sliderthumb-horizontal\", \"sliderthumb-vertical\", \"slow\",\n\t\t    \"small\", \"small-caps\", \"small-caption\", \"smaller\", \"soft-light\", \"solid\", \"somali\",\n\t\t    \"source-atop\", \"source-in\", \"source-out\", \"source-over\", \"space\", \"space-around\", \"space-between\", \"space-evenly\", \"spell-out\", \"square\",\n\t\t    \"square-button\", \"start\", \"static\", \"status-bar\", \"stretch\", \"stroke\", \"stroke-box\", \"sub\",\n\t\t    \"subpixel-antialiased\", \"svg_masks\", \"super\", \"sw-resize\", \"symbolic\", \"symbols\", \"system-ui\", \"table\",\n\t\t    \"table-caption\", \"table-cell\", \"table-column\", \"table-column-group\",\n\t\t    \"table-footer-group\", \"table-header-group\", \"table-row\", \"table-row-group\",\n\t\t    \"tamil\",\n\t\t    \"telugu\", \"text\", \"text-bottom\", \"text-top\", \"textarea\", \"textfield\", \"thai\",\n\t\t    \"thick\", \"thin\", \"threeddarkshadow\", \"threedface\", \"threedhighlight\",\n\t\t    \"threedlightshadow\", \"threedshadow\", \"tibetan\", \"tigre\", \"tigrinya-er\",\n\t\t    \"tigrinya-er-abegede\", \"tigrinya-et\", \"tigrinya-et-abegede\", \"to\", \"top\",\n\t\t    \"trad-chinese-formal\", \"trad-chinese-informal\", \"transform\",\n\t\t    \"translate\", \"translate3d\", \"translateX\", \"translateY\", \"translateZ\",\n\t\t    \"transparent\", \"ultra-condensed\", \"ultra-expanded\", \"underline\", \"unidirectional-pan\", \"unset\", \"up\",\n\t\t    \"upper-alpha\", \"upper-armenian\", \"upper-greek\", \"upper-hexadecimal\",\n\t\t    \"upper-latin\", \"upper-norwegian\", \"upper-roman\", \"uppercase\", \"urdu\", \"url\",\n\t\t    \"var\", \"vertical\", \"vertical-text\", \"view-box\", \"visible\", \"visibleFill\", \"visiblePainted\",\n\t\t    \"visibleStroke\", \"visual\", \"w-resize\", \"wait\", \"wave\", \"wider\",\n\t\t    \"window\", \"windowframe\", \"windowtext\", \"words\", \"wrap\", \"wrap-reverse\", \"x-large\", \"x-small\", \"xor\",\n\t\t    \"xx-large\", \"xx-small\"\n\t\t  ], valueKeywords = keySet(valueKeywords_);\n\n\t\t  var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_)\n\t\t    .concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_)\n\t\t    .concat(valueKeywords_);\n\t\t  CodeMirror.registerHelper(\"hintWords\", \"css\", allWords);\n\n\t\t  function tokenCComment(stream, state) {\n\t\t    var maybeEnd = false, ch;\n\t\t    while ((ch = stream.next()) != null) {\n\t\t      if (maybeEnd && ch == \"/\") {\n\t\t        state.tokenize = null;\n\t\t        break;\n\t\t      }\n\t\t      maybeEnd = (ch == \"*\");\n\t\t    }\n\t\t    return [\"comment\", \"comment\"];\n\t\t  }\n\n\t\t  CodeMirror.defineMIME(\"text/css\", {\n\t\t    documentTypes: documentTypes,\n\t\t    mediaTypes: mediaTypes,\n\t\t    mediaFeatures: mediaFeatures,\n\t\t    mediaValueKeywords: mediaValueKeywords,\n\t\t    propertyKeywords: propertyKeywords,\n\t\t    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n\t\t    fontProperties: fontProperties,\n\t\t    counterDescriptors: counterDescriptors,\n\t\t    colorKeywords: colorKeywords,\n\t\t    valueKeywords: valueKeywords,\n\t\t    tokenHooks: {\n\t\t      \"/\": function(stream, state) {\n\t\t        if (!stream.eat(\"*\")) return false;\n\t\t        state.tokenize = tokenCComment;\n\t\t        return tokenCComment(stream, state);\n\t\t      }\n\t\t    },\n\t\t    name: \"css\"\n\t\t  });\n\n\t\t  CodeMirror.defineMIME(\"text/x-scss\", {\n\t\t    mediaTypes: mediaTypes,\n\t\t    mediaFeatures: mediaFeatures,\n\t\t    mediaValueKeywords: mediaValueKeywords,\n\t\t    propertyKeywords: propertyKeywords,\n\t\t    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n\t\t    colorKeywords: colorKeywords,\n\t\t    valueKeywords: valueKeywords,\n\t\t    fontProperties: fontProperties,\n\t\t    allowNested: true,\n\t\t    lineComment: \"//\",\n\t\t    tokenHooks: {\n\t\t      \"/\": function(stream, state) {\n\t\t        if (stream.eat(\"/\")) {\n\t\t          stream.skipToEnd();\n\t\t          return [\"comment\", \"comment\"];\n\t\t        } else if (stream.eat(\"*\")) {\n\t\t          state.tokenize = tokenCComment;\n\t\t          return tokenCComment(stream, state);\n\t\t        } else {\n\t\t          return [\"operator\", \"operator\"];\n\t\t        }\n\t\t      },\n\t\t      \":\": function(stream) {\n\t\t        if (stream.match(/^\\s*\\{/, false))\n\t\t          return [null, null]\n\t\t        return false;\n\t\t      },\n\t\t      \"$\": function(stream) {\n\t\t        stream.match(/^[\\w-]+/);\n\t\t        if (stream.match(/^\\s*:/, false))\n\t\t          return [\"variable-2\", \"variable-definition\"];\n\t\t        return [\"variable-2\", \"variable\"];\n\t\t      },\n\t\t      \"#\": function(stream) {\n\t\t        if (!stream.eat(\"{\")) return false;\n\t\t        return [null, \"interpolation\"];\n\t\t      }\n\t\t    },\n\t\t    name: \"css\",\n\t\t    helperType: \"scss\"\n\t\t  });\n\n\t\t  CodeMirror.defineMIME(\"text/x-less\", {\n\t\t    mediaTypes: mediaTypes,\n\t\t    mediaFeatures: mediaFeatures,\n\t\t    mediaValueKeywords: mediaValueKeywords,\n\t\t    propertyKeywords: propertyKeywords,\n\t\t    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n\t\t    colorKeywords: colorKeywords,\n\t\t    valueKeywords: valueKeywords,\n\t\t    fontProperties: fontProperties,\n\t\t    allowNested: true,\n\t\t    lineComment: \"//\",\n\t\t    tokenHooks: {\n\t\t      \"/\": function(stream, state) {\n\t\t        if (stream.eat(\"/\")) {\n\t\t          stream.skipToEnd();\n\t\t          return [\"comment\", \"comment\"];\n\t\t        } else if (stream.eat(\"*\")) {\n\t\t          state.tokenize = tokenCComment;\n\t\t          return tokenCComment(stream, state);\n\t\t        } else {\n\t\t          return [\"operator\", \"operator\"];\n\t\t        }\n\t\t      },\n\t\t      \"@\": function(stream) {\n\t\t        if (stream.eat(\"{\")) return [null, \"interpolation\"];\n\t\t        if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\\b/i, false)) return false;\n\t\t        stream.eatWhile(/[\\w\\\\\\-]/);\n\t\t        if (stream.match(/^\\s*:/, false))\n\t\t          return [\"variable-2\", \"variable-definition\"];\n\t\t        return [\"variable-2\", \"variable\"];\n\t\t      },\n\t\t      \"&\": function() {\n\t\t        return [\"atom\", \"atom\"];\n\t\t      }\n\t\t    },\n\t\t    name: \"css\",\n\t\t    helperType: \"less\"\n\t\t  });\n\n\t\t  CodeMirror.defineMIME(\"text/x-gss\", {\n\t\t    documentTypes: documentTypes,\n\t\t    mediaTypes: mediaTypes,\n\t\t    mediaFeatures: mediaFeatures,\n\t\t    propertyKeywords: propertyKeywords,\n\t\t    nonStandardPropertyKeywords: nonStandardPropertyKeywords,\n\t\t    fontProperties: fontProperties,\n\t\t    counterDescriptors: counterDescriptors,\n\t\t    colorKeywords: colorKeywords,\n\t\t    valueKeywords: valueKeywords,\n\t\t    supportsAtComponent: true,\n\t\t    tokenHooks: {\n\t\t      \"/\": function(stream, state) {\n\t\t        if (!stream.eat(\"*\")) return false;\n\t\t        state.tokenize = tokenCComment;\n\t\t        return tokenCComment(stream, state);\n\t\t      }\n\t\t    },\n\t\t    name: \"css\",\n\t\t    helperType: \"gss\"\n\t\t  });\n\n\t\t}); \n\t} ());\n\treturn css.exports;\n}\n\nrequireCss();\n\nvar php = {exports: {}};\n\nvar htmlmixed = {exports: {}};\n\nvar hasRequiredHtmlmixed;\n\nfunction requireHtmlmixed () {\n\tif (hasRequiredHtmlmixed) return htmlmixed.exports;\n\thasRequiredHtmlmixed = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror(), requireXml(), requireJavascript(), requireCss());\n\t\t})(function(CodeMirror) {\n\n\t\t  var defaultTags = {\n\t\t    script: [\n\t\t      [\"lang\", /(javascript|babel)/i, \"javascript\"],\n\t\t      [\"type\", /^(?:text|application)\\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, \"javascript\"],\n\t\t      [\"type\", /./, \"text/plain\"],\n\t\t      [null, null, \"javascript\"]\n\t\t    ],\n\t\t    style:  [\n\t\t      [\"lang\", /^css$/i, \"css\"],\n\t\t      [\"type\", /^(text\\/)?(x-)?(stylesheet|css)$/i, \"css\"],\n\t\t      [\"type\", /./, \"text/plain\"],\n\t\t      [null, null, \"css\"]\n\t\t    ]\n\t\t  };\n\n\t\t  function maybeBackup(stream, pat, style) {\n\t\t    var cur = stream.current(), close = cur.search(pat);\n\t\t    if (close > -1) {\n\t\t      stream.backUp(cur.length - close);\n\t\t    } else if (cur.match(/<\\/?$/)) {\n\t\t      stream.backUp(cur.length);\n\t\t      if (!stream.match(pat, false)) stream.match(cur);\n\t\t    }\n\t\t    return style;\n\t\t  }\n\n\t\t  var attrRegexpCache = {};\n\t\t  function getAttrRegexp(attr) {\n\t\t    var regexp = attrRegexpCache[attr];\n\t\t    if (regexp) return regexp;\n\t\t    return attrRegexpCache[attr] = new RegExp(\"\\\\s+\" + attr + \"\\\\s*=\\\\s*('|\\\")?([^'\\\"]+)('|\\\")?\\\\s*\");\n\t\t  }\n\n\t\t  function getAttrValue(text, attr) {\n\t\t    var match = text.match(getAttrRegexp(attr));\n\t\t    return match ? /^\\s*(.*?)\\s*$/.exec(match[2])[1] : \"\"\n\t\t  }\n\n\t\t  function getTagRegexp(tagName, anchored) {\n\t\t    return new RegExp((anchored ? \"^\" : \"\") + \"<\\/\\\\s*\" + tagName + \"\\\\s*>\", \"i\");\n\t\t  }\n\n\t\t  function addTags(from, to) {\n\t\t    for (var tag in from) {\n\t\t      var dest = to[tag] || (to[tag] = []);\n\t\t      var source = from[tag];\n\t\t      for (var i = source.length - 1; i >= 0; i--)\n\t\t        dest.unshift(source[i]);\n\t\t    }\n\t\t  }\n\n\t\t  function findMatchingMode(tagInfo, tagText) {\n\t\t    for (var i = 0; i < tagInfo.length; i++) {\n\t\t      var spec = tagInfo[i];\n\t\t      if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];\n\t\t    }\n\t\t  }\n\n\t\t  CodeMirror.defineMode(\"htmlmixed\", function (config, parserConfig) {\n\t\t    var htmlMode = CodeMirror.getMode(config, {\n\t\t      name: \"xml\",\n\t\t      htmlMode: true,\n\t\t      multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,\n\t\t      multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,\n\t\t      allowMissingTagName: parserConfig.allowMissingTagName,\n\t\t    });\n\n\t\t    var tags = {};\n\t\t    var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;\n\t\t    addTags(defaultTags, tags);\n\t\t    if (configTags) addTags(configTags, tags);\n\t\t    if (configScript) for (var i = configScript.length - 1; i >= 0; i--)\n\t\t      tags.script.unshift([\"type\", configScript[i].matches, configScript[i].mode]);\n\n\t\t    function html(stream, state) {\n\t\t      var style = htmlMode.token(stream, state.htmlState), tag = /\\btag\\b/.test(style), tagName;\n\t\t      if (tag && !/[<>\\s\\/]/.test(stream.current()) &&\n\t\t          (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) &&\n\t\t          tags.hasOwnProperty(tagName)) {\n\t\t        state.inTag = tagName + \" \";\n\t\t      } else if (state.inTag && tag && />$/.test(stream.current())) {\n\t\t        var inTag = /^([\\S]+) (.*)/.exec(state.inTag);\n\t\t        state.inTag = null;\n\t\t        var modeSpec = stream.current() == \">\" && findMatchingMode(tags[inTag[1]], inTag[2]);\n\t\t        var mode = CodeMirror.getMode(config, modeSpec);\n\t\t        var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);\n\t\t        state.token = function (stream, state) {\n\t\t          if (stream.match(endTagA, false)) {\n\t\t            state.token = html;\n\t\t            state.localState = state.localMode = null;\n\t\t            return null;\n\t\t          }\n\t\t          return maybeBackup(stream, endTag, state.localMode.token(stream, state.localState));\n\t\t        };\n\t\t        state.localMode = mode;\n\t\t        state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, \"\", \"\"));\n\t\t      } else if (state.inTag) {\n\t\t        state.inTag += stream.current();\n\t\t        if (stream.eol()) state.inTag += \" \";\n\t\t      }\n\t\t      return style;\n\t\t    }\n\t\t    return {\n\t\t      startState: function () {\n\t\t        var state = CodeMirror.startState(htmlMode);\n\t\t        return {token: html, inTag: null, localMode: null, localState: null, htmlState: state};\n\t\t      },\n\n\t\t      copyState: function (state) {\n\t\t        var local;\n\t\t        if (state.localState) {\n\t\t          local = CodeMirror.copyState(state.localMode, state.localState);\n\t\t        }\n\t\t        return {token: state.token, inTag: state.inTag,\n\t\t                localMode: state.localMode, localState: local,\n\t\t                htmlState: CodeMirror.copyState(htmlMode, state.htmlState)};\n\t\t      },\n\n\t\t      token: function (stream, state) {\n\t\t        return state.token(stream, state);\n\t\t      },\n\n\t\t      indent: function (state, textAfter, line) {\n\t\t        if (!state.localMode || /^\\s*<\\//.test(textAfter))\n\t\t          return htmlMode.indent(state.htmlState, textAfter, line);\n\t\t        else if (state.localMode.indent)\n\t\t          return state.localMode.indent(state.localState, textAfter, line);\n\t\t        else\n\t\t          return CodeMirror.Pass;\n\t\t      },\n\n\t\t      innerMode: function (state) {\n\t\t        return {state: state.localState || state.htmlState, mode: state.localMode || htmlMode};\n\t\t      }\n\t\t    };\n\t\t  }, \"xml\", \"javascript\", \"css\");\n\n\t\t  CodeMirror.defineMIME(\"text/html\", \"htmlmixed\");\n\t\t}); \n\t} ());\n\treturn htmlmixed.exports;\n}\n\nvar clike = {exports: {}};\n\nvar hasRequiredClike;\n\nfunction requireClike () {\n\tif (hasRequiredClike) return clike.exports;\n\thasRequiredClike = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror());\n\t\t})(function(CodeMirror) {\n\n\t\tfunction Context(indented, column, type, info, align, prev) {\n\t\t  this.indented = indented;\n\t\t  this.column = column;\n\t\t  this.type = type;\n\t\t  this.info = info;\n\t\t  this.align = align;\n\t\t  this.prev = prev;\n\t\t}\n\t\tfunction pushContext(state, col, type, info) {\n\t\t  var indent = state.indented;\n\t\t  if (state.context && state.context.type == \"statement\" && type != \"statement\")\n\t\t    indent = state.context.indented;\n\t\t  return state.context = new Context(indent, col, type, info, null, state.context);\n\t\t}\n\t\tfunction popContext(state) {\n\t\t  var t = state.context.type;\n\t\t  if (t == \")\" || t == \"]\" || t == \"}\")\n\t\t    state.indented = state.context.indented;\n\t\t  return state.context = state.context.prev;\n\t\t}\n\n\t\tfunction typeBefore(stream, state, pos) {\n\t\t  if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\n\t\t  if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\n\t\t  if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\n\t\t}\n\n\t\tfunction isTopScope(context) {\n\t\t  for (;;) {\n\t\t    if (!context || context.type == \"top\") return true;\n\t\t    if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\n\t\t    context = context.prev;\n\t\t  }\n\t\t}\n\n\t\tCodeMirror.defineMode(\"clike\", function(config, parserConfig) {\n\t\t  var indentUnit = config.indentUnit,\n\t\t      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\n\t\t      dontAlignCalls = parserConfig.dontAlignCalls,\n\t\t      keywords = parserConfig.keywords || {},\n\t\t      types = parserConfig.types || {},\n\t\t      builtin = parserConfig.builtin || {},\n\t\t      blockKeywords = parserConfig.blockKeywords || {},\n\t\t      defKeywords = parserConfig.defKeywords || {},\n\t\t      atoms = parserConfig.atoms || {},\n\t\t      hooks = parserConfig.hooks || {},\n\t\t      multiLineStrings = parserConfig.multiLineStrings,\n\t\t      indentStatements = parserConfig.indentStatements !== false,\n\t\t      indentSwitch = parserConfig.indentSwitch !== false,\n\t\t      namespaceSeparator = parserConfig.namespaceSeparator,\n\t\t      isPunctuationChar = parserConfig.isPunctuationChar || /[\\[\\]{}\\(\\),;\\:\\.]/,\n\t\t      numberStart = parserConfig.numberStart || /[\\d\\.]/,\n\t\t      number = parserConfig.number || /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)(u|ll?|l|f)?/i,\n\t\t      isOperatorChar = parserConfig.isOperatorChar || /[+\\-*&%=<>!?|\\/]/,\n\t\t      isIdentifierChar = parserConfig.isIdentifierChar || /[\\w\\$_\\xa1-\\uffff]/,\n\t\t      // An optional function that takes a {string} token and returns true if it\n\t\t      // should be treated as a builtin.\n\t\t      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\n\n\t\t  var curPunc, isDefKeyword;\n\n\t\t  function tokenBase(stream, state) {\n\t\t    var ch = stream.next();\n\t\t    if (hooks[ch]) {\n\t\t      var result = hooks[ch](stream, state);\n\t\t      if (result !== false) return result;\n\t\t    }\n\t\t    if (ch == '\"' || ch == \"'\") {\n\t\t      state.tokenize = tokenString(ch);\n\t\t      return state.tokenize(stream, state);\n\t\t    }\n\t\t    if (numberStart.test(ch)) {\n\t\t      stream.backUp(1);\n\t\t      if (stream.match(number)) return \"number\"\n\t\t      stream.next();\n\t\t    }\n\t\t    if (isPunctuationChar.test(ch)) {\n\t\t      curPunc = ch;\n\t\t      return null;\n\t\t    }\n\t\t    if (ch == \"/\") {\n\t\t      if (stream.eat(\"*\")) {\n\t\t        state.tokenize = tokenComment;\n\t\t        return tokenComment(stream, state);\n\t\t      }\n\t\t      if (stream.eat(\"/\")) {\n\t\t        stream.skipToEnd();\n\t\t        return \"comment\";\n\t\t      }\n\t\t    }\n\t\t    if (isOperatorChar.test(ch)) {\n\t\t      while (!stream.match(/^\\/[\\/*]/, false) && stream.eat(isOperatorChar)) {}\n\t\t      return \"operator\";\n\t\t    }\n\t\t    stream.eatWhile(isIdentifierChar);\n\t\t    if (namespaceSeparator) while (stream.match(namespaceSeparator))\n\t\t      stream.eatWhile(isIdentifierChar);\n\n\t\t    var cur = stream.current();\n\t\t    if (contains(keywords, cur)) {\n\t\t      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n\t\t      if (contains(defKeywords, cur)) isDefKeyword = true;\n\t\t      return \"keyword\";\n\t\t    }\n\t\t    if (contains(types, cur)) return \"type\";\n\t\t    if (contains(builtin, cur)\n\t\t        || (isReservedIdentifier && isReservedIdentifier(cur))) {\n\t\t      if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\n\t\t      return \"builtin\";\n\t\t    }\n\t\t    if (contains(atoms, cur)) return \"atom\";\n\t\t    return \"variable\";\n\t\t  }\n\n\t\t  function tokenString(quote) {\n\t\t    return function(stream, state) {\n\t\t      var escaped = false, next, end = false;\n\t\t      while ((next = stream.next()) != null) {\n\t\t        if (next == quote && !escaped) {end = true; break;}\n\t\t        escaped = !escaped && next == \"\\\\\";\n\t\t      }\n\t\t      if (end || !(escaped || multiLineStrings))\n\t\t        state.tokenize = null;\n\t\t      return \"string\";\n\t\t    };\n\t\t  }\n\n\t\t  function tokenComment(stream, state) {\n\t\t    var maybeEnd = false, ch;\n\t\t    while (ch = stream.next()) {\n\t\t      if (ch == \"/\" && maybeEnd) {\n\t\t        state.tokenize = null;\n\t\t        break;\n\t\t      }\n\t\t      maybeEnd = (ch == \"*\");\n\t\t    }\n\t\t    return \"comment\";\n\t\t  }\n\n\t\t  function maybeEOL(stream, state) {\n\t\t    if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\n\t\t      state.typeAtEndOfLine = typeBefore(stream, state, stream.pos);\n\t\t  }\n\n\t\t  // Interface\n\n\t\t  return {\n\t\t    startState: function(basecolumn) {\n\t\t      return {\n\t\t        tokenize: null,\n\t\t        context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\n\t\t        indented: 0,\n\t\t        startOfLine: true,\n\t\t        prevToken: null\n\t\t      };\n\t\t    },\n\n\t\t    token: function(stream, state) {\n\t\t      var ctx = state.context;\n\t\t      if (stream.sol()) {\n\t\t        if (ctx.align == null) ctx.align = false;\n\t\t        state.indented = stream.indentation();\n\t\t        state.startOfLine = true;\n\t\t      }\n\t\t      if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\n\t\t      curPunc = isDefKeyword = null;\n\t\t      var style = (state.tokenize || tokenBase)(stream, state);\n\t\t      if (style == \"comment\" || style == \"meta\") return style;\n\t\t      if (ctx.align == null) ctx.align = true;\n\n\t\t      if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\n\t\t        while (state.context.type == \"statement\") popContext(state);\n\t\t      else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\n\t\t      else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\n\t\t      else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\n\t\t      else if (curPunc == \"}\") {\n\t\t        while (ctx.type == \"statement\") ctx = popContext(state);\n\t\t        if (ctx.type == \"}\") ctx = popContext(state);\n\t\t        while (ctx.type == \"statement\") ctx = popContext(state);\n\t\t      }\n\t\t      else if (curPunc == ctx.type) popContext(state);\n\t\t      else if (indentStatements &&\n\t\t               (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\") ||\n\t\t                (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\n\t\t        pushContext(state, stream.column(), \"statement\", stream.current());\n\t\t      }\n\n\t\t      if (style == \"variable\" &&\n\t\t          ((state.prevToken == \"def\" ||\n\t\t            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\n\t\t             isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\n\t\t        style = \"def\";\n\n\t\t      if (hooks.token) {\n\t\t        var result = hooks.token(stream, state, style);\n\t\t        if (result !== undefined) style = result;\n\t\t      }\n\n\t\t      if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\n\n\t\t      state.startOfLine = false;\n\t\t      state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\n\t\t      maybeEOL(stream, state);\n\t\t      return style;\n\t\t    },\n\n\t\t    indent: function(state, textAfter) {\n\t\t      if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine && isTopScope(state.context))\n\t\t        return CodeMirror.Pass;\n\t\t      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);\n\t\t      var closing = firstChar == ctx.type;\n\t\t      if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\n\t\t      if (parserConfig.dontIndentStatements)\n\t\t        while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\n\t\t          ctx = ctx.prev;\n\t\t      if (hooks.indent) {\n\t\t        var hook = hooks.indent(state, ctx, textAfter, indentUnit);\n\t\t        if (typeof hook == \"number\") return hook\n\t\t      }\n\t\t      var switchBlock = ctx.prev && ctx.prev.info == \"switch\";\n\t\t      if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\n\t\t        while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev;\n\t\t        return ctx.indented\n\t\t      }\n\t\t      if (ctx.type == \"statement\")\n\t\t        return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\n\t\t      if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\n\t\t        return ctx.column + (closing ? 0 : 1);\n\t\t      if (ctx.type == \")\" && !closing)\n\t\t        return ctx.indented + statementIndentUnit;\n\n\t\t      return ctx.indented + (closing ? 0 : indentUnit) +\n\t\t        (!closing && switchBlock && !/^(?:case|default)\\b/.test(textAfter) ? indentUnit : 0);\n\t\t    },\n\n\t\t    electricInput: indentSwitch ? /^\\s*(?:case .*?:|default:|\\{\\}?|\\})$/ : /^\\s*[{}]$/,\n\t\t    blockCommentStart: \"/*\",\n\t\t    blockCommentEnd: \"*/\",\n\t\t    blockCommentContinue: \" * \",\n\t\t    lineComment: \"//\",\n\t\t    fold: \"brace\"\n\t\t  };\n\t\t});\n\n\t\t  function words(str) {\n\t\t    var obj = {}, words = str.split(\" \");\n\t\t    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n\t\t    return obj;\n\t\t  }\n\t\t  function contains(words, word) {\n\t\t    if (typeof words === \"function\") {\n\t\t      return words(word);\n\t\t    } else {\n\t\t      return words.propertyIsEnumerable(word);\n\t\t    }\n\t\t  }\n\t\t  var cKeywords = \"auto if break case register continue return default do sizeof \" +\n\t\t    \"static else struct switch extern typedef union for goto while enum const \" +\n\t\t    \"volatile inline restrict asm fortran\";\n\n\t\t  // Keywords from https://en.cppreference.com/w/cpp/keyword includes C++20.\n\t\t  var cppKeywords = \"alignas alignof and and_eq audit axiom bitand bitor catch \" +\n\t\t  \"class compl concept constexpr const_cast decltype delete dynamic_cast \" +\n\t\t  \"explicit export final friend import module mutable namespace new noexcept \" +\n\t\t  \"not not_eq operator or or_eq override private protected public \" +\n\t\t  \"reinterpret_cast requires static_assert static_cast template this \" +\n\t\t  \"thread_local throw try typeid typename using virtual xor xor_eq\";\n\n\t\t  var objCKeywords = \"bycopy byref in inout oneway out self super atomic nonatomic retain copy \" +\n\t\t  \"readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd \" +\n\t\t  \"@interface @implementation @end @protocol @encode @property @synthesize @dynamic @class \" +\n\t\t  \"@public @package @private @protected @required @optional @try @catch @finally @import \" +\n\t\t  \"@selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available\";\n\n\t\t  var objCBuiltins = \"FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION \" +\n\t\t  \" NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER \" +\n\t\t  \"NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION \" +\n\t\t  \"NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT\";\n\n\t\t  // Do not use this. Use the cTypes function below. This is global just to avoid\n\t\t  // excessive calls when cTypes is being called multiple times during a parse.\n\t\t  var basicCTypes = words(\"int long char short double float unsigned signed \" +\n\t\t    \"void bool\");\n\n\t\t  // Do not use this. Use the objCTypes function below. This is global just to avoid\n\t\t  // excessive calls when objCTypes is being called multiple times during a parse.\n\t\t  var basicObjCTypes = words(\"SEL instancetype id Class Protocol BOOL\");\n\n\t\t  // Returns true if identifier is a \"C\" type.\n\t\t  // C type is defined as those that are reserved by the compiler (basicTypes),\n\t\t  // and those that end in _t (Reserved by POSIX for types)\n\t\t  // http://www.gnu.org/software/libc/manual/html_node/Reserved-Names.html\n\t\t  function cTypes(identifier) {\n\t\t    return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);\n\t\t  }\n\n\t\t  // Returns true if identifier is a \"Objective C\" type.\n\t\t  function objCTypes(identifier) {\n\t\t    return cTypes(identifier) || contains(basicObjCTypes, identifier);\n\t\t  }\n\n\t\t  var cBlockKeywords = \"case do else for if switch while struct enum union\";\n\t\t  var cDefKeywords = \"struct enum union\";\n\n\t\t  function cppHook(stream, state) {\n\t\t    if (!state.startOfLine) return false\n\t\t    for (var ch, next = null; ch = stream.peek();) {\n\t\t      if (ch == \"\\\\\" && stream.match(/^.$/)) {\n\t\t        next = cppHook;\n\t\t        break\n\t\t      } else if (ch == \"/\" && stream.match(/^\\/[\\/\\*]/, false)) {\n\t\t        break\n\t\t      }\n\t\t      stream.next();\n\t\t    }\n\t\t    state.tokenize = next;\n\t\t    return \"meta\"\n\t\t  }\n\n\t\t  function pointerHook(_stream, state) {\n\t\t    if (state.prevToken == \"type\") return \"type\";\n\t\t    return false;\n\t\t  }\n\n\t\t  // For C and C++ (and ObjC): identifiers starting with __\n\t\t  // or _ followed by a capital letter are reserved for the compiler.\n\t\t  function cIsReservedIdentifier(token) {\n\t\t    if (!token || token.length < 2) return false;\n\t\t    if (token[0] != '_') return false;\n\t\t    return (token[1] == '_') || (token[1] !== token[1].toLowerCase());\n\t\t  }\n\n\t\t  function cpp14Literal(stream) {\n\t\t    stream.eatWhile(/[\\w\\.']/);\n\t\t    return \"number\";\n\t\t  }\n\n\t\t  function cpp11StringHook(stream, state) {\n\t\t    stream.backUp(1);\n\t\t    // Raw strings.\n\t\t    if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {\n\t\t      var match = stream.match(/^\"([^\\s\\\\()]{0,16})\\(/);\n\t\t      if (!match) {\n\t\t        return false;\n\t\t      }\n\t\t      state.cpp11RawStringDelim = match[1];\n\t\t      state.tokenize = tokenRawString;\n\t\t      return tokenRawString(stream, state);\n\t\t    }\n\t\t    // Unicode strings/chars.\n\t\t    if (stream.match(/^(?:u8|u|U|L)/)) {\n\t\t      if (stream.match(/^[\"']/, /* eat */ false)) {\n\t\t        return \"string\";\n\t\t      }\n\t\t      return false;\n\t\t    }\n\t\t    // Ignore this hook.\n\t\t    stream.next();\n\t\t    return false;\n\t\t  }\n\n\t\t  function cppLooksLikeConstructor(word) {\n\t\t    var lastTwo = /(\\w+)::~?(\\w+)$/.exec(word);\n\t\t    return lastTwo && lastTwo[1] == lastTwo[2];\n\t\t  }\n\n\t\t  // C#-style strings where \"\" escapes a quote.\n\t\t  function tokenAtString(stream, state) {\n\t\t    var next;\n\t\t    while ((next = stream.next()) != null) {\n\t\t      if (next == '\"' && !stream.eat('\"')) {\n\t\t        state.tokenize = null;\n\t\t        break;\n\t\t      }\n\t\t    }\n\t\t    return \"string\";\n\t\t  }\n\n\t\t  // C++11 raw string literal is <prefix>\"<delim>( anything )<delim>\", where\n\t\t  // <delim> can be a string up to 16 characters long.\n\t\t  function tokenRawString(stream, state) {\n\t\t    // Escape characters that have special regex meanings.\n\t\t    var delim = state.cpp11RawStringDelim.replace(/[^\\w\\s]/g, '\\\\$&');\n\t\t    var match = stream.match(new RegExp(\".*?\\\\)\" + delim + '\"'));\n\t\t    if (match)\n\t\t      state.tokenize = null;\n\t\t    else\n\t\t      stream.skipToEnd();\n\t\t    return \"string\";\n\t\t  }\n\n\t\t  function def(mimes, mode) {\n\t\t    if (typeof mimes == \"string\") mimes = [mimes];\n\t\t    var words = [];\n\t\t    function add(obj) {\n\t\t      if (obj) for (var prop in obj) if (obj.hasOwnProperty(prop))\n\t\t        words.push(prop);\n\t\t    }\n\t\t    add(mode.keywords);\n\t\t    add(mode.types);\n\t\t    add(mode.builtin);\n\t\t    add(mode.atoms);\n\t\t    if (words.length) {\n\t\t      mode.helperType = mimes[0];\n\t\t      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\n\t\t    }\n\n\t\t    for (var i = 0; i < mimes.length; ++i)\n\t\t      CodeMirror.defineMIME(mimes[i], mode);\n\t\t  }\n\n\t\t  def([\"text/x-csrc\", \"text/x-c\", \"text/x-chdr\"], {\n\t\t    name: \"clike\",\n\t\t    keywords: words(cKeywords),\n\t\t    types: cTypes,\n\t\t    blockKeywords: words(cBlockKeywords),\n\t\t    defKeywords: words(cDefKeywords),\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"NULL true false\"),\n\t\t    isReservedIdentifier: cIsReservedIdentifier,\n\t\t    hooks: {\n\t\t      \"#\": cppHook,\n\t\t      \"*\": pointerHook,\n\t\t    },\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def([\"text/x-c++src\", \"text/x-c++hdr\"], {\n\t\t    name: \"clike\",\n\t\t    keywords: words(cKeywords + \" \" + cppKeywords),\n\t\t    types: cTypes,\n\t\t    blockKeywords: words(cBlockKeywords + \" class try catch\"),\n\t\t    defKeywords: words(cDefKeywords + \" class namespace\"),\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"true false NULL nullptr\"),\n\t\t    dontIndentStatements: /^template$/,\n\t\t    isIdentifierChar: /[\\w\\$_~\\xa1-\\uffff]/,\n\t\t    isReservedIdentifier: cIsReservedIdentifier,\n\t\t    hooks: {\n\t\t      \"#\": cppHook,\n\t\t      \"*\": pointerHook,\n\t\t      \"u\": cpp11StringHook,\n\t\t      \"U\": cpp11StringHook,\n\t\t      \"L\": cpp11StringHook,\n\t\t      \"R\": cpp11StringHook,\n\t\t      \"0\": cpp14Literal,\n\t\t      \"1\": cpp14Literal,\n\t\t      \"2\": cpp14Literal,\n\t\t      \"3\": cpp14Literal,\n\t\t      \"4\": cpp14Literal,\n\t\t      \"5\": cpp14Literal,\n\t\t      \"6\": cpp14Literal,\n\t\t      \"7\": cpp14Literal,\n\t\t      \"8\": cpp14Literal,\n\t\t      \"9\": cpp14Literal,\n\t\t      token: function(stream, state, style) {\n\t\t        if (style == \"variable\" && stream.peek() == \"(\" &&\n\t\t            (state.prevToken == \";\" || state.prevToken == null ||\n\t\t             state.prevToken == \"}\") &&\n\t\t            cppLooksLikeConstructor(stream.current()))\n\t\t          return \"def\";\n\t\t      }\n\t\t    },\n\t\t    namespaceSeparator: \"::\",\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def(\"text/x-java\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\"abstract assert break case catch class const continue default \" +\n\t\t                    \"do else enum extends final finally for goto if implements import \" +\n\t\t                    \"instanceof interface native new package private protected public \" +\n\t\t                    \"return static strictfp super switch synchronized this throw throws transient \" +\n\t\t                    \"try volatile while @interface\"),\n\t\t    types: words(\"var byte short int long float double boolean char void Boolean Byte Character Double Float \" +\n\t\t                 \"Integer Long Number Object Short String StringBuffer StringBuilder Void\"),\n\t\t    blockKeywords: words(\"catch class do else finally for if switch try while\"),\n\t\t    defKeywords: words(\"class interface enum @interface\"),\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"true false null\"),\n\t\t    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+\\.?\\d*|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n\t\t    hooks: {\n\t\t      \"@\": function(stream) {\n\t\t        // Don't match the @interface keyword.\n\t\t        if (stream.match('interface', false)) return false;\n\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"meta\";\n\t\t      },\n\t\t      '\"': function(stream, state) {\n\t\t        if (!stream.match(/\"\"$/)) return false;\n\t\t        state.tokenize = tokenTripleString;\n\t\t        return state.tokenize(stream, state);\n\t\t      }\n\t\t    },\n\t\t    modeProps: {fold: [\"brace\", \"import\"]}\n\t\t  });\n\n\t\t  def(\"text/x-csharp\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\"abstract as async await base break case catch checked class const continue\" +\n\t\t                    \" default delegate do else enum event explicit extern finally fixed for\" +\n\t\t                    \" foreach goto if implicit in init interface internal is lock namespace new\" +\n\t\t                    \" operator out override params private protected public readonly record ref required return sealed\" +\n\t\t                    \" sizeof stackalloc static struct switch this throw try typeof unchecked\" +\n\t\t                    \" unsafe using virtual void volatile while add alias ascending descending dynamic from get\" +\n\t\t                    \" global group into join let orderby partial remove select set value var yield\"),\n\t\t    types: words(\"Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func\" +\n\t\t                 \" Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32\" +\n\t\t                 \" UInt64 bool byte char decimal double short int long object\"  +\n\t\t                 \" sbyte float string ushort uint ulong\"),\n\t\t    blockKeywords: words(\"catch class do else finally for foreach if struct switch try while\"),\n\t\t    defKeywords: words(\"class interface namespace record struct var\"),\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"true false null\"),\n\t\t    hooks: {\n\t\t      \"@\": function(stream, state) {\n\t\t        if (stream.eat('\"')) {\n\t\t          state.tokenize = tokenAtString;\n\t\t          return tokenAtString(stream, state);\n\t\t        }\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"meta\";\n\t\t      }\n\t\t    }\n\t\t  });\n\n\t\t  function tokenTripleString(stream, state) {\n\t\t    var escaped = false;\n\t\t    while (!stream.eol()) {\n\t\t      if (!escaped && stream.match('\"\"\"')) {\n\t\t        state.tokenize = null;\n\t\t        break;\n\t\t      }\n\t\t      escaped = stream.next() == \"\\\\\" && !escaped;\n\t\t    }\n\t\t    return \"string\";\n\t\t  }\n\n\t\t  function tokenNestedComment(depth) {\n\t\t    return function (stream, state) {\n\t\t      var ch;\n\t\t      while (ch = stream.next()) {\n\t\t        if (ch == \"*\" && stream.eat(\"/\")) {\n\t\t          if (depth == 1) {\n\t\t            state.tokenize = null;\n\t\t            break\n\t\t          } else {\n\t\t            state.tokenize = tokenNestedComment(depth - 1);\n\t\t            return state.tokenize(stream, state)\n\t\t          }\n\t\t        } else if (ch == \"/\" && stream.eat(\"*\")) {\n\t\t          state.tokenize = tokenNestedComment(depth + 1);\n\t\t          return state.tokenize(stream, state)\n\t\t        }\n\t\t      }\n\t\t      return \"comment\"\n\t\t    }\n\t\t  }\n\n\t\t  def(\"text/x-scala\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\n\t\t      /* scala */\n\t\t      \"abstract case catch class def do else extends final finally for forSome if \" +\n\t\t      \"implicit import lazy match new null object override package private protected return \" +\n\t\t      \"sealed super this throw trait try type val var while with yield _ \" +\n\n\t\t      /* package scala */\n\t\t      \"assert assume require print println printf readLine readBoolean readByte readShort \" +\n\t\t      \"readChar readInt readLong readFloat readDouble\"\n\t\t    ),\n\t\t    types: words(\n\t\t      \"AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either \" +\n\t\t      \"Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable \" +\n\t\t      \"Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering \" +\n\t\t      \"Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder \" +\n\t\t      \"StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector \" +\n\n\t\t      /* package java.lang */\n\t\t      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n\t\t      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n\t\t      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n\t\t      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void\"\n\t\t    ),\n\t\t    multiLineStrings: true,\n\t\t    blockKeywords: words(\"catch class enum do else finally for forSome if match switch try while\"),\n\t\t    defKeywords: words(\"class enum def object package trait type val var\"),\n\t\t    atoms: words(\"true false null\"),\n\t\t    indentStatements: false,\n\t\t    indentSwitch: false,\n\t\t    isOperatorChar: /[+\\-*&%=<>!?|\\/#:@]/,\n\t\t    hooks: {\n\t\t      \"@\": function(stream) {\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"meta\";\n\t\t      },\n\t\t      '\"': function(stream, state) {\n\t\t        if (!stream.match('\"\"')) return false;\n\t\t        state.tokenize = tokenTripleString;\n\t\t        return state.tokenize(stream, state);\n\t\t      },\n\t\t      \"'\": function(stream) {\n\t\t        if (stream.match(/^(\\\\[^'\\s]+|[^\\\\'])'/)) return \"string-2\"\n\t\t        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n\t\t        return \"atom\";\n\t\t      },\n\t\t      \"=\": function(stream, state) {\n\t\t        var cx = state.context;\n\t\t        if (cx.type == \"}\" && cx.align && stream.eat(\">\")) {\n\t\t          state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev);\n\t\t          return \"operator\"\n\t\t        } else {\n\t\t          return false\n\t\t        }\n\t\t      },\n\n\t\t      \"/\": function(stream, state) {\n\t\t        if (!stream.eat(\"*\")) return false\n\t\t        state.tokenize = tokenNestedComment(1);\n\t\t        return state.tokenize(stream, state)\n\t\t      }\n\t\t    },\n\t\t    modeProps: {closeBrackets: {pairs: '()[]{}\"\"', triples: '\"'}}\n\t\t  });\n\n\t\t  function tokenKotlinString(tripleString){\n\t\t    return function (stream, state) {\n\t\t      var escaped = false, next, end = false;\n\t\t      while (!stream.eol()) {\n\t\t        if (!tripleString && !escaped && stream.match('\"') ) {end = true; break;}\n\t\t        if (tripleString && stream.match('\"\"\"')) {end = true; break;}\n\t\t        next = stream.next();\n\t\t        if(!escaped && next == \"$\" && stream.match('{'))\n\t\t          stream.skipTo(\"}\");\n\t\t        escaped = !escaped && next == \"\\\\\" && !tripleString;\n\t\t      }\n\t\t      if (end || !tripleString)\n\t\t        state.tokenize = null;\n\t\t      return \"string\";\n\t\t    }\n\t\t  }\n\n\t\t  def(\"text/x-kotlin\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\n\t\t      /*keywords*/\n\t\t      \"package as typealias class interface this super val operator \" +\n\t\t      \"var fun for is in This throw return annotation \" +\n\t\t      \"break continue object if else while do try when !in !is as? \" +\n\n\t\t      /*soft keywords*/\n\t\t      \"file import where by get set abstract enum open inner override private public internal \" +\n\t\t      \"protected catch finally out final vararg reified dynamic companion constructor init \" +\n\t\t      \"sealed field property receiver param sparam lateinit data inline noinline tailrec \" +\n\t\t      \"external annotation crossinline const operator infix suspend actual expect setparam value\"\n\t\t    ),\n\t\t    types: words(\n\t\t      /* package java.lang */\n\t\t      \"Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable \" +\n\t\t      \"Compiler Double Exception Float Integer Long Math Number Object Package Pair Process \" +\n\t\t      \"Runtime Runnable SecurityManager Short StackTraceElement StrictMath String \" +\n\t\t      \"StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray \" +\n\t\t      \"ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy \" +\n\t\t      \"LazyThreadSafetyMode LongArray Nothing ShortArray Unit\"\n\t\t    ),\n\t\t    intendSwitch: false,\n\t\t    indentStatements: false,\n\t\t    multiLineStrings: true,\n\t\t    number: /^(?:0x[a-f\\d_]+|0b[01_]+|(?:[\\d_]+(\\.\\d+)?|\\.\\d+)(?:e[-+]?[\\d_]+)?)(u|ll?|l|f)?/i,\n\t\t    blockKeywords: words(\"catch class do else finally for if where try while enum\"),\n\t\t    defKeywords: words(\"class val var object interface fun\"),\n\t\t    atoms: words(\"true false null this\"),\n\t\t    hooks: {\n\t\t      \"@\": function(stream) {\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"meta\";\n\t\t      },\n\t\t      '*': function(_stream, state) {\n\t\t        return state.prevToken == '.' ? 'variable' : 'operator';\n\t\t      },\n\t\t      '\"': function(stream, state) {\n\t\t        state.tokenize = tokenKotlinString(stream.match('\"\"'));\n\t\t        return state.tokenize(stream, state);\n\t\t      },\n\t\t      \"/\": function(stream, state) {\n\t\t        if (!stream.eat(\"*\")) return false;\n\t\t        state.tokenize = tokenNestedComment(1);\n\t\t        return state.tokenize(stream, state)\n\t\t      },\n\t\t      indent: function(state, ctx, textAfter, indentUnit) {\n\t\t        var firstChar = textAfter && textAfter.charAt(0);\n\t\t        if ((state.prevToken == \"}\" || state.prevToken == \")\") && textAfter == \"\")\n\t\t          return state.indented;\n\t\t        if ((state.prevToken == \"operator\" && textAfter != \"}\" && state.context.type != \"}\") ||\n\t\t          state.prevToken == \"variable\" && firstChar == \".\" ||\n\t\t          (state.prevToken == \"}\" || state.prevToken == \")\") && firstChar == \".\")\n\t\t          return indentUnit * 2 + ctx.indented;\n\t\t        if (ctx.align && ctx.type == \"}\")\n\t\t          return ctx.indented + (state.context.type == (textAfter || \"\").charAt(0) ? 0 : indentUnit);\n\t\t      }\n\t\t    },\n\t\t    modeProps: {closeBrackets: {triples: '\"'}}\n\t\t  });\n\n\t\t  def([\"x-shader/x-vertex\", \"x-shader/x-fragment\"], {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\"sampler1D sampler2D sampler3D samplerCube \" +\n\t\t                    \"sampler1DShadow sampler2DShadow \" +\n\t\t                    \"const attribute uniform varying \" +\n\t\t                    \"break continue discard return \" +\n\t\t                    \"for while do if else struct \" +\n\t\t                    \"in out inout\"),\n\t\t    types: words(\"float int bool void \" +\n\t\t                 \"vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 \" +\n\t\t                 \"mat2 mat3 mat4\"),\n\t\t    blockKeywords: words(\"for while do if else struct\"),\n\t\t    builtin: words(\"radians degrees sin cos tan asin acos atan \" +\n\t\t                    \"pow exp log exp2 sqrt inversesqrt \" +\n\t\t                    \"abs sign floor ceil fract mod min max clamp mix step smoothstep \" +\n\t\t                    \"length distance dot cross normalize ftransform faceforward \" +\n\t\t                    \"reflect refract matrixCompMult \" +\n\t\t                    \"lessThan lessThanEqual greaterThan greaterThanEqual \" +\n\t\t                    \"equal notEqual any all not \" +\n\t\t                    \"texture1D texture1DProj texture1DLod texture1DProjLod \" +\n\t\t                    \"texture2D texture2DProj texture2DLod texture2DProjLod \" +\n\t\t                    \"texture3D texture3DProj texture3DLod texture3DProjLod \" +\n\t\t                    \"textureCube textureCubeLod \" +\n\t\t                    \"shadow1D shadow2D shadow1DProj shadow2DProj \" +\n\t\t                    \"shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod \" +\n\t\t                    \"dFdx dFdy fwidth \" +\n\t\t                    \"noise1 noise2 noise3 noise4\"),\n\t\t    atoms: words(\"true false \" +\n\t\t                \"gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex \" +\n\t\t                \"gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 \" +\n\t\t                \"gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 \" +\n\t\t                \"gl_FogCoord gl_PointCoord \" +\n\t\t                \"gl_Position gl_PointSize gl_ClipVertex \" +\n\t\t                \"gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor \" +\n\t\t                \"gl_TexCoord gl_FogFragCoord \" +\n\t\t                \"gl_FragCoord gl_FrontFacing \" +\n\t\t                \"gl_FragData gl_FragDepth \" +\n\t\t                \"gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix \" +\n\t\t                \"gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse \" +\n\t\t                \"gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse \" +\n\t\t                \"gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose \" +\n\t\t                \"gl_ProjectionMatrixInverseTranspose \" +\n\t\t                \"gl_ModelViewProjectionMatrixInverseTranspose \" +\n\t\t                \"gl_TextureMatrixInverseTranspose \" +\n\t\t                \"gl_NormalScale gl_DepthRange gl_ClipPlane \" +\n\t\t                \"gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel \" +\n\t\t                \"gl_FrontLightModelProduct gl_BackLightModelProduct \" +\n\t\t                \"gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ \" +\n\t\t                \"gl_FogParameters \" +\n\t\t                \"gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords \" +\n\t\t                \"gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats \" +\n\t\t                \"gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits \" +\n\t\t                \"gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits \" +\n\t\t                \"gl_MaxDrawBuffers\"),\n\t\t    indentSwitch: false,\n\t\t    hooks: {\"#\": cppHook},\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def(\"text/x-nesc\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(cKeywords + \" as atomic async call command component components configuration event generic \" +\n\t\t                    \"implementation includes interface module new norace nx_struct nx_union post provides \" +\n\t\t                    \"signal task uses abstract extends\"),\n\t\t    types: cTypes,\n\t\t    blockKeywords: words(cBlockKeywords),\n\t\t    atoms: words(\"null true false\"),\n\t\t    hooks: {\"#\": cppHook},\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def(\"text/x-objectivec\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(cKeywords + \" \" + objCKeywords),\n\t\t    types: objCTypes,\n\t\t    builtin: words(objCBuiltins),\n\t\t    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized\"),\n\t\t    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class\"),\n\t\t    dontIndentStatements: /^@.*$/,\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n\t\t    isReservedIdentifier: cIsReservedIdentifier,\n\t\t    hooks: {\n\t\t      \"#\": cppHook,\n\t\t      \"*\": pointerHook,\n\t\t    },\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def(\"text/x-objectivec++\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(cKeywords + \" \" + objCKeywords + \" \" + cppKeywords),\n\t\t    types: objCTypes,\n\t\t    builtin: words(objCBuiltins),\n\t\t    blockKeywords: words(cBlockKeywords + \" @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch\"),\n\t\t    defKeywords: words(cDefKeywords + \" @interface @implementation @protocol @class class namespace\"),\n\t\t    dontIndentStatements: /^@.*$|^template$/,\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"YES NO NULL Nil nil true false nullptr\"),\n\t\t    isReservedIdentifier: cIsReservedIdentifier,\n\t\t    hooks: {\n\t\t      \"#\": cppHook,\n\t\t      \"*\": pointerHook,\n\t\t      \"u\": cpp11StringHook,\n\t\t      \"U\": cpp11StringHook,\n\t\t      \"L\": cpp11StringHook,\n\t\t      \"R\": cpp11StringHook,\n\t\t      \"0\": cpp14Literal,\n\t\t      \"1\": cpp14Literal,\n\t\t      \"2\": cpp14Literal,\n\t\t      \"3\": cpp14Literal,\n\t\t      \"4\": cpp14Literal,\n\t\t      \"5\": cpp14Literal,\n\t\t      \"6\": cpp14Literal,\n\t\t      \"7\": cpp14Literal,\n\t\t      \"8\": cpp14Literal,\n\t\t      \"9\": cpp14Literal,\n\t\t      token: function(stream, state, style) {\n\t\t        if (style == \"variable\" && stream.peek() == \"(\" &&\n\t\t            (state.prevToken == \";\" || state.prevToken == null ||\n\t\t             state.prevToken == \"}\") &&\n\t\t            cppLooksLikeConstructor(stream.current()))\n\t\t          return \"def\";\n\t\t      }\n\t\t    },\n\t\t    namespaceSeparator: \"::\",\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  def(\"text/x-squirrel\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\"base break clone continue const default delete enum extends function in class\" +\n\t\t                    \" foreach local resume return this throw typeof yield constructor instanceof static\"),\n\t\t    types: cTypes,\n\t\t    blockKeywords: words(\"case catch class else for foreach if switch try while\"),\n\t\t    defKeywords: words(\"function local class\"),\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"true false null\"),\n\t\t    hooks: {\"#\": cppHook},\n\t\t    modeProps: {fold: [\"brace\", \"include\"]}\n\t\t  });\n\n\t\t  // Ceylon Strings need to deal with interpolation\n\t\t  var stringTokenizer = null;\n\t\t  function tokenCeylonString(type) {\n\t\t    return function(stream, state) {\n\t\t      var escaped = false, next, end = false;\n\t\t      while (!stream.eol()) {\n\t\t        if (!escaped && stream.match('\"') &&\n\t\t              (type == \"single\" || stream.match('\"\"'))) {\n\t\t          end = true;\n\t\t          break;\n\t\t        }\n\t\t        if (!escaped && stream.match('``')) {\n\t\t          stringTokenizer = tokenCeylonString(type);\n\t\t          end = true;\n\t\t          break;\n\t\t        }\n\t\t        next = stream.next();\n\t\t        escaped = type == \"single\" && !escaped && next == \"\\\\\";\n\t\t      }\n\t\t      if (end)\n\t\t          state.tokenize = null;\n\t\t      return \"string\";\n\t\t    }\n\t\t  }\n\n\t\t  def(\"text/x-ceylon\", {\n\t\t    name: \"clike\",\n\t\t    keywords: words(\"abstracts alias assembly assert assign break case catch class continue dynamic else\" +\n\t\t                    \" exists extends finally for function given if import in interface is let module new\" +\n\t\t                    \" nonempty object of out outer package return satisfies super switch then this throw\" +\n\t\t                    \" try value void while\"),\n\t\t    types: function(word) {\n\t\t        // In Ceylon all identifiers that start with an uppercase are types\n\t\t        var first = word.charAt(0);\n\t\t        return (first === first.toUpperCase() && first !== first.toLowerCase());\n\t\t    },\n\t\t    blockKeywords: words(\"case catch class dynamic else finally for function if interface module new object switch try while\"),\n\t\t    defKeywords: words(\"class dynamic function interface module object package value\"),\n\t\t    builtin: words(\"abstract actual aliased annotation by default deprecated doc final formal late license\" +\n\t\t                   \" native optional sealed see serializable shared suppressWarnings tagged throws variable\"),\n\t\t    isPunctuationChar: /[\\[\\]{}\\(\\),;\\:\\.`]/,\n\t\t    isOperatorChar: /[+\\-*&%=<>!?|^~:\\/]/,\n\t\t    numberStart: /[\\d#$]/,\n\t\t    number: /^(?:#[\\da-fA-F_]+|\\$[01_]+|[\\d_]+[kMGTPmunpf]?|[\\d_]+\\.[\\d_]+(?:[eE][-+]?\\d+|[kMGTPmunpf]|)|)/i,\n\t\t    multiLineStrings: true,\n\t\t    typeFirstDefinitions: true,\n\t\t    atoms: words(\"true false null larger smaller equal empty finished\"),\n\t\t    indentSwitch: false,\n\t\t    styleDefs: false,\n\t\t    hooks: {\n\t\t      \"@\": function(stream) {\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"meta\";\n\t\t      },\n\t\t      '\"': function(stream, state) {\n\t\t          state.tokenize = tokenCeylonString(stream.match('\"\"') ? \"triple\" : \"single\");\n\t\t          return state.tokenize(stream, state);\n\t\t        },\n\t\t      '`': function(stream, state) {\n\t\t          if (!stringTokenizer || !stream.match('`')) return false;\n\t\t          state.tokenize = stringTokenizer;\n\t\t          stringTokenizer = null;\n\t\t          return state.tokenize(stream, state);\n\t\t        },\n\t\t      \"'\": function(stream) {\n\t\t        stream.eatWhile(/[\\w\\$_\\xa1-\\uffff]/);\n\t\t        return \"atom\";\n\t\t      },\n\t\t      token: function(_stream, state, style) {\n\t\t          if ((style == \"variable\" || style == \"type\") &&\n\t\t              state.prevToken == \".\") {\n\t\t            return \"variable-2\";\n\t\t          }\n\t\t        }\n\t\t    },\n\t\t    modeProps: {\n\t\t        fold: [\"brace\", \"import\"],\n\t\t        closeBrackets: {triples: '\"'}\n\t\t    }\n\t\t  });\n\n\t\t}); \n\t} ());\n\treturn clike.exports;\n}\n\nvar hasRequiredPhp;\n\nfunction requirePhp () {\n\tif (hasRequiredPhp) return php.exports;\n\thasRequiredPhp = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror(), requireHtmlmixed(), requireClike());\n\t\t})(function(CodeMirror) {\n\n\t\t  function keywords(str) {\n\t\t    var obj = {}, words = str.split(\" \");\n\t\t    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n\t\t    return obj;\n\t\t  }\n\n\t\t  // Helper for phpString\n\t\t  function matchSequence(list, end, escapes) {\n\t\t    if (list.length == 0) return phpString(end);\n\t\t    return function (stream, state) {\n\t\t      var patterns = list[0];\n\t\t      for (var i = 0; i < patterns.length; i++) if (stream.match(patterns[i][0])) {\n\t\t        state.tokenize = matchSequence(list.slice(1), end);\n\t\t        return patterns[i][1];\n\t\t      }\n\t\t      state.tokenize = phpString(end, escapes);\n\t\t      return \"string\";\n\t\t    };\n\t\t  }\n\t\t  function phpString(closing, escapes) {\n\t\t    return function(stream, state) { return phpString_(stream, state, closing, escapes); };\n\t\t  }\n\t\t  function phpString_(stream, state, closing, escapes) {\n\t\t    // \"Complex\" syntax\n\t\t    if (escapes !== false && stream.match(\"${\", false) || stream.match(\"{$\", false)) {\n\t\t      state.tokenize = null;\n\t\t      return \"string\";\n\t\t    }\n\n\t\t    // Simple syntax\n\t\t    if (escapes !== false && stream.match(/^\\$[a-zA-Z_][a-zA-Z0-9_]*/)) {\n\t\t      // After the variable name there may appear array or object operator.\n\t\t      if (stream.match(\"[\", false)) {\n\t\t        // Match array operator\n\t\t        state.tokenize = matchSequence([\n\t\t          [[\"[\", null]],\n\t\t          [[/\\d[\\w\\.]*/, \"number\"],\n\t\t           [/\\$[a-zA-Z_][a-zA-Z0-9_]*/, \"variable-2\"],\n\t\t           [/[\\w\\$]+/, \"variable\"]],\n\t\t          [[\"]\", null]]\n\t\t        ], closing, escapes);\n\t\t      }\n\t\t      if (stream.match(/^->\\w/, false)) {\n\t\t        // Match object operator\n\t\t        state.tokenize = matchSequence([\n\t\t          [[\"->\", null]],\n\t\t          [[/[\\w]+/, \"variable\"]]\n\t\t        ], closing, escapes);\n\t\t      }\n\t\t      return \"variable-2\";\n\t\t    }\n\n\t\t    var escaped = false;\n\t\t    // Normal string\n\t\t    while (!stream.eol() &&\n\t\t           (escaped || escapes === false ||\n\t\t            (!stream.match(\"{$\", false) &&\n\t\t             !stream.match(/^(\\$[a-zA-Z_][a-zA-Z0-9_]*|\\$\\{)/, false)))) {\n\t\t      if (!escaped && stream.match(closing)) {\n\t\t        state.tokenize = null;\n\t\t        state.tokStack.pop(); state.tokStack.pop();\n\t\t        break;\n\t\t      }\n\t\t      escaped = stream.next() == \"\\\\\" && !escaped;\n\t\t    }\n\t\t    return \"string\";\n\t\t  }\n\n\t\t  var phpKeywords = \"abstract and array as break case catch class clone const continue declare default \" +\n\t\t    \"do else elseif enddeclare endfor endforeach endif endswitch endwhile enum extends final \" +\n\t\t    \"for foreach function global goto if implements interface instanceof namespace \" +\n\t\t    \"new or private protected public static switch throw trait try use var while xor \" +\n\t\t    \"die echo empty exit eval include include_once isset list require require_once return \" +\n\t\t    \"print unset __halt_compiler self static parent yield insteadof finally readonly match\";\n\t\t  var phpAtoms = \"true false null TRUE FALSE NULL __CLASS__ __DIR__ __FILE__ __LINE__ __METHOD__ __FUNCTION__ __NAMESPACE__ __TRAIT__\";\n\t\t  var phpBuiltin = \"func_num_args func_get_arg func_get_args strlen strcmp strncmp strcasecmp strncasecmp each error_reporting define defined trigger_error user_error set_error_handler restore_error_handler get_declared_classes get_loaded_extensions extension_loaded get_extension_funcs debug_backtrace constant bin2hex hex2bin sleep usleep time mktime gmmktime strftime gmstrftime strtotime date gmdate getdate localtime checkdate flush wordwrap htmlspecialchars htmlentities html_entity_decode md5 md5_file crc32 getimagesize image_type_to_mime_type phpinfo phpversion phpcredits strnatcmp strnatcasecmp substr_count strspn strcspn strtok strtoupper strtolower strpos strrpos strrev hebrev hebrevc nl2br basename dirname pathinfo stripslashes stripcslashes strstr stristr strrchr str_shuffle str_word_count strcoll substr substr_replace quotemeta ucfirst ucwords strtr addslashes addcslashes rtrim str_replace str_repeat count_chars chunk_split trim ltrim strip_tags similar_text explode implode setlocale localeconv parse_str str_pad chop strchr sprintf printf vprintf vsprintf sscanf fscanf parse_url urlencode urldecode rawurlencode rawurldecode readlink linkinfo link unlink exec system escapeshellcmd escapeshellarg passthru shell_exec proc_open proc_close rand srand getrandmax mt_rand mt_srand mt_getrandmax base64_decode base64_encode abs ceil floor round is_finite is_nan is_infinite bindec hexdec octdec decbin decoct dechex base_convert number_format fmod ip2long long2ip getenv putenv getopt microtime gettimeofday getrusage uniqid quoted_printable_decode set_time_limit get_cfg_var magic_quotes_runtime set_magic_quotes_runtime get_magic_quotes_gpc get_magic_quotes_runtime import_request_variables error_log serialize unserialize memory_get_usage memory_get_peak_usage var_dump var_export debug_zval_dump print_r highlight_file show_source highlight_string ini_get ini_get_all ini_set ini_alter ini_restore get_include_path set_include_path restore_include_path setcookie header headers_sent connection_aborted connection_status ignore_user_abort parse_ini_file is_uploaded_file move_uploaded_file intval floatval doubleval strval gettype settype is_null is_resource is_bool is_long is_float is_int is_integer is_double is_real is_numeric is_string is_array is_object is_scalar ereg ereg_replace eregi eregi_replace split spliti join sql_regcase dl pclose popen readfile rewind rmdir umask fclose feof fgetc fgets fgetss fread fopen fpassthru ftruncate fstat fseek ftell fflush fwrite fputs mkdir rename copy tempnam tmpfile file file_get_contents file_put_contents stream_select stream_context_create stream_context_set_params stream_context_set_option stream_context_get_options stream_filter_prepend stream_filter_append fgetcsv flock get_meta_tags stream_set_write_buffer set_file_buffer set_socket_blocking stream_set_blocking socket_set_blocking stream_get_meta_data stream_register_wrapper stream_wrapper_register stream_set_timeout socket_set_timeout socket_get_status realpath fnmatch fsockopen pfsockopen pack unpack get_browser crypt opendir closedir chdir getcwd rewinddir readdir dir glob fileatime filectime filegroup fileinode filemtime fileowner fileperms filesize filetype file_exists is_writable is_writeable is_readable is_executable is_file is_dir is_link stat lstat chown touch clearstatcache mail ob_start ob_flush ob_clean ob_end_flush ob_end_clean ob_get_flush ob_get_clean ob_get_length ob_get_level ob_get_status ob_get_contents ob_implicit_flush ob_list_handlers ksort krsort natsort natcasesort asort arsort sort rsort usort uasort uksort shuffle array_walk count end prev next reset current key min max in_array array_search extract compact array_fill range array_multisort array_push array_pop array_shift array_unshift array_splice array_slice array_merge array_merge_recursive array_keys array_values array_count_values array_reverse array_reduce array_pad array_flip array_change_key_case array_rand array_unique array_intersect array_intersect_assoc array_diff array_diff_assoc array_sum array_filter array_map array_chunk array_key_exists array_intersect_key array_combine array_column pos sizeof key_exists assert assert_options version_compare ftok str_rot13 aggregate session_name session_module_name session_save_path session_id session_regenerate_id session_decode session_register session_unregister session_is_registered session_encode session_start session_destroy session_unset session_set_save_handler session_cache_limiter session_cache_expire session_set_cookie_params session_get_cookie_params session_write_close preg_match preg_match_all preg_replace preg_replace_callback preg_split preg_quote preg_grep overload ctype_alnum ctype_alpha ctype_cntrl ctype_digit ctype_lower ctype_graph ctype_print ctype_punct ctype_space ctype_upper ctype_xdigit virtual apache_request_headers apache_note apache_lookup_uri apache_child_terminate apache_setenv apache_response_headers apache_get_version getallheaders mysql_connect mysql_pconnect mysql_close mysql_select_db mysql_create_db mysql_drop_db mysql_query mysql_unbuffered_query mysql_db_query mysql_list_dbs mysql_list_tables mysql_list_fields mysql_list_processes mysql_error mysql_errno mysql_affected_rows mysql_insert_id mysql_result mysql_num_rows mysql_num_fields mysql_fetch_row mysql_fetch_array mysql_fetch_assoc mysql_fetch_object mysql_data_seek mysql_fetch_lengths mysql_fetch_field mysql_field_seek mysql_free_result mysql_field_name mysql_field_table mysql_field_len mysql_field_type mysql_field_flags mysql_escape_string mysql_real_escape_string mysql_stat mysql_thread_id mysql_client_encoding mysql_get_client_info mysql_get_host_info mysql_get_proto_info mysql_get_server_info mysql_info mysql mysql_fieldname mysql_fieldtable mysql_fieldlen mysql_fieldtype mysql_fieldflags mysql_selectdb mysql_createdb mysql_dropdb mysql_freeresult mysql_numfields mysql_numrows mysql_listdbs mysql_listtables mysql_listfields mysql_db_name mysql_dbname mysql_tablename mysql_table_name pg_connect pg_pconnect pg_close pg_connection_status pg_connection_busy pg_connection_reset pg_host pg_dbname pg_port pg_tty pg_options pg_ping pg_query pg_send_query pg_cancel_query pg_fetch_result pg_fetch_row pg_fetch_assoc pg_fetch_array pg_fetch_object pg_fetch_all pg_affected_rows pg_get_result pg_result_seek pg_result_status pg_free_result pg_last_oid pg_num_rows pg_num_fields pg_field_name pg_field_num pg_field_size pg_field_type pg_field_prtlen pg_field_is_null pg_get_notify pg_get_pid pg_result_error pg_last_error pg_last_notice pg_put_line pg_end_copy pg_copy_to pg_copy_from pg_trace pg_untrace pg_lo_create pg_lo_unlink pg_lo_open pg_lo_close pg_lo_read pg_lo_write pg_lo_read_all pg_lo_import pg_lo_export pg_lo_seek pg_lo_tell pg_escape_string pg_escape_bytea pg_unescape_bytea pg_client_encoding pg_set_client_encoding pg_meta_data pg_convert pg_insert pg_update pg_delete pg_select pg_exec pg_getlastoid pg_cmdtuples pg_errormessage pg_numrows pg_numfields pg_fieldname pg_fieldsize pg_fieldtype pg_fieldnum pg_fieldprtlen pg_fieldisnull pg_freeresult pg_result pg_loreadall pg_locreate pg_lounlink pg_loopen pg_loclose pg_loread pg_lowrite pg_loimport pg_loexport http_response_code get_declared_traits getimagesizefromstring socket_import_stream stream_set_chunk_size trait_exists header_register_callback class_uses session_status session_register_shutdown echo print global static exit array empty eval isset unset die include require include_once require_once json_decode json_encode json_last_error json_last_error_msg curl_close curl_copy_handle curl_errno curl_error curl_escape curl_exec curl_file_create curl_getinfo curl_init curl_multi_add_handle curl_multi_close curl_multi_exec curl_multi_getcontent curl_multi_info_read curl_multi_init curl_multi_remove_handle curl_multi_select curl_multi_setopt curl_multi_strerror curl_pause curl_reset curl_setopt_array curl_setopt curl_share_close curl_share_init curl_share_setopt curl_strerror curl_unescape curl_version mysqli_affected_rows mysqli_autocommit mysqli_change_user mysqli_character_set_name mysqli_close mysqli_commit mysqli_connect_errno mysqli_connect_error mysqli_connect mysqli_data_seek mysqli_debug mysqli_dump_debug_info mysqli_errno mysqli_error_list mysqli_error mysqli_fetch_all mysqli_fetch_array mysqli_fetch_assoc mysqli_fetch_field_direct mysqli_fetch_field mysqli_fetch_fields mysqli_fetch_lengths mysqli_fetch_object mysqli_fetch_row mysqli_field_count mysqli_field_seek mysqli_field_tell mysqli_free_result mysqli_get_charset mysqli_get_client_info mysqli_get_client_stats mysqli_get_client_version mysqli_get_connection_stats mysqli_get_host_info mysqli_get_proto_info mysqli_get_server_info mysqli_get_server_version mysqli_info mysqli_init mysqli_insert_id mysqli_kill mysqli_more_results mysqli_multi_query mysqli_next_result mysqli_num_fields mysqli_num_rows mysqli_options mysqli_ping mysqli_prepare mysqli_query mysqli_real_connect mysqli_real_escape_string mysqli_real_query mysqli_reap_async_query mysqli_refresh mysqli_rollback mysqli_select_db mysqli_set_charset mysqli_set_local_infile_default mysqli_set_local_infile_handler mysqli_sqlstate mysqli_ssl_set mysqli_stat mysqli_stmt_init mysqli_store_result mysqli_thread_id mysqli_thread_safe mysqli_use_result mysqli_warning_count\";\n\t\t  CodeMirror.registerHelper(\"hintWords\", \"php\", [phpKeywords, phpAtoms, phpBuiltin].join(\" \").split(\" \"));\n\t\t  CodeMirror.registerHelper(\"wordChars\", \"php\", /[\\w$]/);\n\n\t\t  var phpConfig = {\n\t\t    name: \"clike\",\n\t\t    helperType: \"php\",\n\t\t    keywords: keywords(phpKeywords),\n\t\t    blockKeywords: keywords(\"catch do else elseif for foreach if switch try while finally\"),\n\t\t    defKeywords: keywords(\"class enum function interface namespace trait\"),\n\t\t    atoms: keywords(phpAtoms),\n\t\t    builtin: keywords(phpBuiltin),\n\t\t    multiLineStrings: true,\n\t\t    hooks: {\n\t\t      \"$\": function(stream) {\n\t\t        stream.eatWhile(/[\\w\\$_]/);\n\t\t        return \"variable-2\";\n\t\t      },\n\t\t      \"<\": function(stream, state) {\n\t\t        var before;\n\t\t        if (before = stream.match(/^<<\\s*/)) {\n\t\t          var quoted = stream.eat(/['\"]/);\n\t\t          stream.eatWhile(/[\\w\\.]/);\n\t\t          var delim = stream.current().slice(before[0].length + (quoted ? 2 : 1));\n\t\t          if (quoted) stream.eat(quoted);\n\t\t          if (delim) {\n\t\t            (state.tokStack || (state.tokStack = [])).push(delim, 0);\n\t\t            state.tokenize = phpString(delim, quoted != \"'\");\n\t\t            return \"string\";\n\t\t          }\n\t\t        }\n\t\t        return false;\n\t\t      },\n\t\t      \"#\": function(stream) {\n\t\t        while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n\t\t        return \"comment\";\n\t\t      },\n\t\t      \"/\": function(stream) {\n\t\t        if (stream.eat(\"/\")) {\n\t\t          while (!stream.eol() && !stream.match(\"?>\", false)) stream.next();\n\t\t          return \"comment\";\n\t\t        }\n\t\t        return false;\n\t\t      },\n\t\t      '\"': function(_stream, state) {\n\t\t        (state.tokStack || (state.tokStack = [])).push('\"', 0);\n\t\t        state.tokenize = phpString('\"');\n\t\t        return \"string\";\n\t\t      },\n\t\t      \"{\": function(_stream, state) {\n\t\t        if (state.tokStack && state.tokStack.length)\n\t\t          state.tokStack[state.tokStack.length - 1]++;\n\t\t        return false;\n\t\t      },\n\t\t      \"}\": function(_stream, state) {\n\t\t        if (state.tokStack && state.tokStack.length > 0 &&\n\t\t            !--state.tokStack[state.tokStack.length - 1]) {\n\t\t          state.tokenize = phpString(state.tokStack[state.tokStack.length - 2]);\n\t\t        }\n\t\t        return false;\n\t\t      }\n\t\t    }\n\t\t  };\n\n\t\t  CodeMirror.defineMode(\"php\", function(config, parserConfig) {\n\t\t    var htmlMode = CodeMirror.getMode(config, (parserConfig && parserConfig.htmlMode) || \"text/html\");\n\t\t    var phpMode = CodeMirror.getMode(config, phpConfig);\n\n\t\t    function dispatch(stream, state) {\n\t\t      var isPHP = state.curMode == phpMode;\n\t\t      if (stream.sol() && state.pending && state.pending != '\"' && state.pending != \"'\") state.pending = null;\n\t\t      if (!isPHP) {\n\t\t        if (stream.match(/^<\\?\\w*/)) {\n\t\t          state.curMode = phpMode;\n\t\t          if (!state.php) state.php = CodeMirror.startState(phpMode, htmlMode.indent(state.html, \"\", \"\"));\n\t\t          state.curState = state.php;\n\t\t          return \"meta\";\n\t\t        }\n\t\t        if (state.pending == '\"' || state.pending == \"'\") {\n\t\t          while (!stream.eol() && stream.next() != state.pending) {}\n\t\t          var style = \"string\";\n\t\t        } else if (state.pending && stream.pos < state.pending.end) {\n\t\t          stream.pos = state.pending.end;\n\t\t          var style = state.pending.style;\n\t\t        } else {\n\t\t          var style = htmlMode.token(stream, state.curState);\n\t\t        }\n\t\t        if (state.pending) state.pending = null;\n\t\t        var cur = stream.current(), openPHP = cur.search(/<\\?/), m;\n\t\t        if (openPHP != -1) {\n\t\t          if (style == \"string\" && (m = cur.match(/[\\'\\\"]$/)) && !/\\?>/.test(cur)) state.pending = m[0];\n\t\t          else state.pending = {end: stream.pos, style: style};\n\t\t          stream.backUp(cur.length - openPHP);\n\t\t        }\n\t\t        return style;\n\t\t      } else if (isPHP && state.php.tokenize == null && stream.match(\"?>\")) {\n\t\t        state.curMode = htmlMode;\n\t\t        state.curState = state.html;\n\t\t        if (!state.php.context.prev) state.php = null;\n\t\t        return \"meta\";\n\t\t      } else {\n\t\t        return phpMode.token(stream, state.curState);\n\t\t      }\n\t\t    }\n\n\t\t    return {\n\t\t      startState: function() {\n\t\t        var html = CodeMirror.startState(htmlMode);\n\t\t        var php = parserConfig.startOpen ? CodeMirror.startState(phpMode) : null;\n\t\t        return {html: html,\n\t\t                php: php,\n\t\t                curMode: parserConfig.startOpen ? phpMode : htmlMode,\n\t\t                curState: parserConfig.startOpen ? php : html,\n\t\t                pending: null};\n\t\t      },\n\n\t\t      copyState: function(state) {\n\t\t        var html = state.html, htmlNew = CodeMirror.copyState(htmlMode, html),\n\t\t            php = state.php, phpNew = php && CodeMirror.copyState(phpMode, php), cur;\n\t\t        if (state.curMode == htmlMode) cur = htmlNew;\n\t\t        else cur = phpNew;\n\t\t        return {html: htmlNew, php: phpNew, curMode: state.curMode, curState: cur,\n\t\t                pending: state.pending};\n\t\t      },\n\n\t\t      token: dispatch,\n\n\t\t      indent: function(state, textAfter, line) {\n\t\t        if ((state.curMode != phpMode && /^\\s*<\\//.test(textAfter)) ||\n\t\t            (state.curMode == phpMode && /^\\?>/.test(textAfter)))\n\t\t          return htmlMode.indent(state.html, textAfter, line);\n\t\t        return state.curMode.indent(state.curState, textAfter, line);\n\t\t      },\n\n\t\t      blockCommentStart: \"/*\",\n\t\t      blockCommentEnd: \"*/\",\n\t\t      lineComment: \"//\",\n\n\t\t      innerMode: function(state) { return {state: state.curState, mode: state.curMode}; }\n\t\t    };\n\t\t  }, \"htmlmixed\", \"clike\");\n\n\t\t  CodeMirror.defineMIME(\"application/x-httpd-php\", \"php\");\n\t\t  CodeMirror.defineMIME(\"application/x-httpd-php-open\", {name: \"php\", startOpen: true});\n\t\t  CodeMirror.defineMIME(\"text/x-php\", phpConfig);\n\t\t}); \n\t} ());\n\treturn php.exports;\n}\n\nrequirePhp();\n\nrequireHtmlmixed();\n\nvar sass = {exports: {}};\n\nvar hasRequiredSass;\n\nfunction requireSass () {\n\tif (hasRequiredSass) return sass.exports;\n\thasRequiredSass = 1;\n\t(function (module, exports) {\n\t\t// CodeMirror, copyright (c) by Marijn Haverbeke and others\n\t\t// Distributed under an MIT license: https://codemirror.net/5/LICENSE\n\n\t\t(function(mod) {\n\t\t  mod(requireCodemirror(), requireCss());\n\t\t})(function(CodeMirror) {\n\n\t\tCodeMirror.defineMode(\"sass\", function(config) {\n\t\t  var cssMode = CodeMirror.mimeModes[\"text/css\"];\n\t\t  var propertyKeywords = cssMode.propertyKeywords || {},\n\t\t      colorKeywords = cssMode.colorKeywords || {},\n\t\t      valueKeywords = cssMode.valueKeywords || {},\n\t\t      fontProperties = cssMode.fontProperties || {};\n\n\t\t  function tokenRegexp(words) {\n\t\t    return new RegExp(\"^\" + words.join(\"|\"));\n\t\t  }\n\n\t\t  var keywords = [\"true\", \"false\", \"null\", \"auto\"];\n\t\t  var keywordsRegexp = new RegExp(\"^\" + keywords.join(\"|\"));\n\n\t\t  var operators = [\"\\\\(\", \"\\\\)\", \"=\", \">\", \"<\", \"==\", \">=\", \"<=\", \"\\\\+\", \"-\",\n\t\t                   \"\\\\!=\", \"/\", \"\\\\*\", \"%\", \"and\", \"or\", \"not\", \";\",\"\\\\{\",\"\\\\}\",\":\"];\n\t\t  var opRegexp = tokenRegexp(operators);\n\n\t\t  var pseudoElementsRegexp = /^::?[a-zA-Z_][\\w\\-]*/;\n\n\t\t  var word;\n\n\t\t  function isEndLine(stream) {\n\t\t    return !stream.peek() || stream.match(/\\s+$/, false);\n\t\t  }\n\n\t\t  function urlTokens(stream, state) {\n\t\t    var ch = stream.peek();\n\n\t\t    if (ch === \")\") {\n\t\t      stream.next();\n\t\t      state.tokenizer = tokenBase;\n\t\t      return \"operator\";\n\t\t    } else if (ch === \"(\") {\n\t\t      stream.next();\n\t\t      stream.eatSpace();\n\n\t\t      return \"operator\";\n\t\t    } else if (ch === \"'\" || ch === '\"') {\n\t\t      state.tokenizer = buildStringTokenizer(stream.next());\n\t\t      return \"string\";\n\t\t    } else {\n\t\t      state.tokenizer = buildStringTokenizer(\")\", false);\n\t\t      return \"string\";\n\t\t    }\n\t\t  }\n\t\t  function comment(indentation, multiLine) {\n\t\t    return function(stream, state) {\n\t\t      if (stream.sol() && stream.indentation() <= indentation) {\n\t\t        state.tokenizer = tokenBase;\n\t\t        return tokenBase(stream, state);\n\t\t      }\n\n\t\t      if (multiLine && stream.skipTo(\"*/\")) {\n\t\t        stream.next();\n\t\t        stream.next();\n\t\t        state.tokenizer = tokenBase;\n\t\t      } else {\n\t\t        stream.skipToEnd();\n\t\t      }\n\n\t\t      return \"comment\";\n\t\t    };\n\t\t  }\n\n\t\t  function buildStringTokenizer(quote, greedy) {\n\t\t    if (greedy == null) { greedy = true; }\n\n\t\t    function stringTokenizer(stream, state) {\n\t\t      var nextChar = stream.next();\n\t\t      var peekChar = stream.peek();\n\t\t      var previousChar = stream.string.charAt(stream.pos-2);\n\n\t\t      var endingString = ((nextChar !== \"\\\\\" && peekChar === quote) || (nextChar === quote && previousChar !== \"\\\\\"));\n\n\t\t      if (endingString) {\n\t\t        if (nextChar !== quote && greedy) { stream.next(); }\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        state.tokenizer = tokenBase;\n\t\t        return \"string\";\n\t\t      } else if (nextChar === \"#\" && peekChar === \"{\") {\n\t\t        state.tokenizer = buildInterpolationTokenizer(stringTokenizer);\n\t\t        stream.next();\n\t\t        return \"operator\";\n\t\t      } else {\n\t\t        return \"string\";\n\t\t      }\n\t\t    }\n\n\t\t    return stringTokenizer;\n\t\t  }\n\n\t\t  function buildInterpolationTokenizer(currentTokenizer) {\n\t\t    return function(stream, state) {\n\t\t      if (stream.peek() === \"}\") {\n\t\t        stream.next();\n\t\t        state.tokenizer = currentTokenizer;\n\t\t        return \"operator\";\n\t\t      } else {\n\t\t        return tokenBase(stream, state);\n\t\t      }\n\t\t    };\n\t\t  }\n\n\t\t  function indent(state) {\n\t\t    if (state.indentCount == 0) {\n\t\t      state.indentCount++;\n\t\t      var lastScopeOffset = state.scopes[0].offset;\n\t\t      var currentOffset = lastScopeOffset + config.indentUnit;\n\t\t      state.scopes.unshift({ offset:currentOffset });\n\t\t    }\n\t\t  }\n\n\t\t  function dedent(state) {\n\t\t    if (state.scopes.length == 1) return;\n\n\t\t    state.scopes.shift();\n\t\t  }\n\n\t\t  function tokenBase(stream, state) {\n\t\t    var ch = stream.peek();\n\n\t\t    // Comment\n\t\t    if (stream.match(\"/*\")) {\n\t\t      state.tokenizer = comment(stream.indentation(), true);\n\t\t      return state.tokenizer(stream, state);\n\t\t    }\n\t\t    if (stream.match(\"//\")) {\n\t\t      state.tokenizer = comment(stream.indentation(), false);\n\t\t      return state.tokenizer(stream, state);\n\t\t    }\n\n\t\t    // Interpolation\n\t\t    if (stream.match(\"#{\")) {\n\t\t      state.tokenizer = buildInterpolationTokenizer(tokenBase);\n\t\t      return \"operator\";\n\t\t    }\n\n\t\t    // Strings\n\t\t    if (ch === '\"' || ch === \"'\") {\n\t\t      stream.next();\n\t\t      state.tokenizer = buildStringTokenizer(ch);\n\t\t      return \"string\";\n\t\t    }\n\n\t\t    if(!state.cursorHalf){// state.cursorHalf === 0\n\t\t    // first half i.e. before : for key-value pairs\n\t\t    // including selectors\n\n\t\t      if (ch === \"-\") {\n\t\t        if (stream.match(/^-\\w+-/)) {\n\t\t          return \"meta\";\n\t\t        }\n\t\t      }\n\n\t\t      if (ch === \".\") {\n\t\t        stream.next();\n\t\t        if (stream.match(/^[\\w-]+/)) {\n\t\t          indent(state);\n\t\t          return \"qualifier\";\n\t\t        } else if (stream.peek() === \"#\") {\n\t\t          indent(state);\n\t\t          return \"tag\";\n\t\t        }\n\t\t      }\n\n\t\t      if (ch === \"#\") {\n\t\t        stream.next();\n\t\t        // ID selectors\n\t\t        if (stream.match(/^[\\w-]+/)) {\n\t\t          indent(state);\n\t\t          return \"builtin\";\n\t\t        }\n\t\t        if (stream.peek() === \"#\") {\n\t\t          indent(state);\n\t\t          return \"tag\";\n\t\t        }\n\t\t      }\n\n\t\t      // Variables\n\t\t      if (ch === \"$\") {\n\t\t        stream.next();\n\t\t        stream.eatWhile(/[\\w-]/);\n\t\t        return \"variable-2\";\n\t\t      }\n\n\t\t      // Numbers\n\t\t      if (stream.match(/^-?[0-9\\.]+/))\n\t\t        return \"number\";\n\n\t\t      // Units\n\t\t      if (stream.match(/^(px|em|in)\\b/))\n\t\t        return \"unit\";\n\n\t\t      if (stream.match(keywordsRegexp))\n\t\t        return \"keyword\";\n\n\t\t      if (stream.match(/^url/) && stream.peek() === \"(\") {\n\t\t        state.tokenizer = urlTokens;\n\t\t        return \"atom\";\n\t\t      }\n\n\t\t      if (ch === \"=\") {\n\t\t        // Match shortcut mixin definition\n\t\t        if (stream.match(/^=[\\w-]+/)) {\n\t\t          indent(state);\n\t\t          return \"meta\";\n\t\t        }\n\t\t      }\n\n\t\t      if (ch === \"+\") {\n\t\t        // Match shortcut mixin definition\n\t\t        if (stream.match(/^\\+[\\w-]+/)){\n\t\t          return \"variable-3\";\n\t\t        }\n\t\t      }\n\n\t\t      if(ch === \"@\"){\n\t\t        if(stream.match('@extend')){\n\t\t          if(!stream.match(/\\s*[\\w]/))\n\t\t            dedent(state);\n\t\t        }\n\t\t      }\n\n\n\t\t      // Indent Directives\n\t\t      if (stream.match(/^@(else if|if|media|else|for|each|while|mixin|function)/)) {\n\t\t        indent(state);\n\t\t        return \"def\";\n\t\t      }\n\n\t\t      // Other Directives\n\t\t      if (ch === \"@\") {\n\t\t        stream.next();\n\t\t        stream.eatWhile(/[\\w-]/);\n\t\t        return \"def\";\n\t\t      }\n\n\t\t      if (stream.eatWhile(/[\\w-]/)){\n\t\t        if(stream.match(/ *: *[\\w-\\+\\$#!\\(\"']/,false)){\n\t\t          word = stream.current().toLowerCase();\n\t\t          var prop = state.prevProp + \"-\" + word;\n\t\t          if (propertyKeywords.hasOwnProperty(prop)) {\n\t\t            return \"property\";\n\t\t          } else if (propertyKeywords.hasOwnProperty(word)) {\n\t\t            state.prevProp = word;\n\t\t            return \"property\";\n\t\t          } else if (fontProperties.hasOwnProperty(word)) {\n\t\t            return \"property\";\n\t\t          }\n\t\t          return \"tag\";\n\t\t        }\n\t\t        else if(stream.match(/ *:/,false)){\n\t\t          indent(state);\n\t\t          state.cursorHalf = 1;\n\t\t          state.prevProp = stream.current().toLowerCase();\n\t\t          return \"property\";\n\t\t        }\n\t\t        else if(stream.match(/ *,/,false)){\n\t\t          return \"tag\";\n\t\t        }\n\t\t        else {\n\t\t          indent(state);\n\t\t          return \"tag\";\n\t\t        }\n\t\t      }\n\n\t\t      if(ch === \":\"){\n\t\t        if (stream.match(pseudoElementsRegexp)){ // could be a pseudo-element\n\t\t          return \"variable-3\";\n\t\t        }\n\t\t        stream.next();\n\t\t        state.cursorHalf=1;\n\t\t        return \"operator\";\n\t\t      }\n\n\t\t    } // cursorHalf===0 ends here\n\t\t    else {\n\n\t\t      if (ch === \"#\") {\n\t\t        stream.next();\n\t\t        // Hex numbers\n\t\t        if (stream.match(/[0-9a-fA-F]{6}|[0-9a-fA-F]{3}/)){\n\t\t          if (isEndLine(stream)) {\n\t\t            state.cursorHalf = 0;\n\t\t          }\n\t\t          return \"number\";\n\t\t        }\n\t\t      }\n\n\t\t      // Numbers\n\t\t      if (stream.match(/^-?[0-9\\.]+/)){\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"number\";\n\t\t      }\n\n\t\t      // Units\n\t\t      if (stream.match(/^(px|em|in)\\b/)){\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"unit\";\n\t\t      }\n\n\t\t      if (stream.match(keywordsRegexp)){\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"keyword\";\n\t\t      }\n\n\t\t      if (stream.match(/^url/) && stream.peek() === \"(\") {\n\t\t        state.tokenizer = urlTokens;\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"atom\";\n\t\t      }\n\n\t\t      // Variables\n\t\t      if (ch === \"$\") {\n\t\t        stream.next();\n\t\t        stream.eatWhile(/[\\w-]/);\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"variable-2\";\n\t\t      }\n\n\t\t      // bang character for !important, !default, etc.\n\t\t      if (ch === \"!\") {\n\t\t        stream.next();\n\t\t        state.cursorHalf = 0;\n\t\t        return stream.match(/^[\\w]+/) ? \"keyword\": \"operator\";\n\t\t      }\n\n\t\t      if (stream.match(opRegexp)){\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        return \"operator\";\n\t\t      }\n\n\t\t      // attributes\n\t\t      if (stream.eatWhile(/[\\w-]/)) {\n\t\t        if (isEndLine(stream)) {\n\t\t          state.cursorHalf = 0;\n\t\t        }\n\t\t        word = stream.current().toLowerCase();\n\t\t        if (valueKeywords.hasOwnProperty(word)) {\n\t\t          return \"atom\";\n\t\t        } else if (colorKeywords.hasOwnProperty(word)) {\n\t\t          return \"keyword\";\n\t\t        } else if (propertyKeywords.hasOwnProperty(word)) {\n\t\t          state.prevProp = stream.current().toLowerCase();\n\t\t          return \"property\";\n\t\t        } else {\n\t\t          return \"tag\";\n\t\t        }\n\t\t      }\n\n\t\t      //stream.eatSpace();\n\t\t      if (isEndLine(stream)) {\n\t\t        state.cursorHalf = 0;\n\t\t        return null;\n\t\t      }\n\n\t\t    } // else ends here\n\n\t\t    if (stream.match(opRegexp))\n\t\t      return \"operator\";\n\n\t\t    // If we haven't returned by now, we move 1 character\n\t\t    // and return an error\n\t\t    stream.next();\n\t\t    return null;\n\t\t  }\n\n\t\t  function tokenLexer(stream, state) {\n\t\t    if (stream.sol()) state.indentCount = 0;\n\t\t    var style = state.tokenizer(stream, state);\n\t\t    var current = stream.current();\n\n\t\t    if (current === \"@return\" || current === \"}\"){\n\t\t      dedent(state);\n\t\t    }\n\n\t\t    if (style !== null) {\n\t\t      var startOfToken = stream.pos - current.length;\n\n\t\t      var withCurrentIndent = startOfToken + (config.indentUnit * state.indentCount);\n\n\t\t      var newScopes = [];\n\n\t\t      for (var i = 0; i < state.scopes.length; i++) {\n\t\t        var scope = state.scopes[i];\n\n\t\t        if (scope.offset <= withCurrentIndent)\n\t\t          newScopes.push(scope);\n\t\t      }\n\n\t\t      state.scopes = newScopes;\n\t\t    }\n\n\n\t\t    return style;\n\t\t  }\n\n\t\t  return {\n\t\t    startState: function() {\n\t\t      return {\n\t\t        tokenizer: tokenBase,\n\t\t        scopes: [{offset: 0, type: \"sass\"}],\n\t\t        indentCount: 0,\n\t\t        cursorHalf: 0,  // cursor half tells us if cursor lies after (1)\n\t\t                        // or before (0) colon (well... more or less)\n\t\t        definedVars: [],\n\t\t        definedMixins: []\n\t\t      };\n\t\t    },\n\t\t    token: function(stream, state) {\n\t\t      var style = tokenLexer(stream, state);\n\n\t\t      state.lastToken = { style: style, content: stream.current() };\n\n\t\t      return style;\n\t\t    },\n\n\t\t    indent: function(state) {\n\t\t      return state.scopes[0].offset;\n\t\t    },\n\n\t\t    blockCommentStart: \"/*\",\n\t\t    blockCommentEnd: \"*/\",\n\t\t    lineComment: \"//\",\n\t\t    fold: \"indent\"\n\t\t  };\n\t\t}, \"css\");\n\n\t\tCodeMirror.defineMIME(\"text/x-sass\", \"sass\");\n\n\t\t}); \n\t} ());\n\treturn sass.exports;\n}\n\nrequireSass();\n\nexport { CodeMirror as default };\n"],"names":["hasRequiredCodemirror","codemirror$1","exports","requireCodemirror","userAgent","navigator","platform","gecko","test","ie_upto10","ie_11up","exec","edge","ie","ie_version","document","documentMode","webkit","qtwebkit","chrome","chrome_version","presto","safari","vendor","mac_geMountainLion","phantom","ios","maxTouchPoints","android","mobile","mac","chromeOS","windows","presto_version","match","Number","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","range","rmClass","node","current","className","after","slice","index","length","removeChildren","e","count","childNodes","removeChild","firstChild","removeChildrenAndAdd","parent","appendChild","elt","tag","content","style","createElement","cssText","createTextNode","i","eltP","setAttribute","contains","child","nodeType","parentNode","host","activeElt","rootNode","activeElement","doc","ownerDocument","body","shadowRoot","addClass","joinClasses","a","b","as","split","createRange","start","end","endNode","r","setEnd","setStart","createTextRange","moveToElementText","collapse","moveEnd","moveStart","selectInput","select","cm","display","wrapper","root","element","getRootNode","win","defaultView","bind","f","args","Array","prototype","call","arguments","apply","copyObj","obj","target","overwrite","prop","hasOwnProperty","countColumn","string","tabSize","startIndex","startValue","search","n","nextTab","indexOf","selectionStart","selectionEnd","value","_e","Delayed","id","time","handler","this","onTimeout","array","self","Date","setTimeout","set","ms","clearTimeout","scrollerGap","Pass","toString","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","pos","col","skipped","Math","min","spaceStrs","spaceStr","push","lst","arr","map","out","insertSorted","score","priority","splice","nothing","createObj","base","props","inst","Object","create","nonASCIISingleCaseWordChar","isWordCharBasic","ch","toUpperCase","toLowerCase","isWordChar","helper","source","isEmpty","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","code","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","direction","outerType","len","types","i$1","prev","type","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","undefined","replace","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","m","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","line","text","noHandlers","on","emitter","addEventListener","attachEvent","_handlers","concat","getHandlers","off","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","zwspSupported","badBidiRects","dragAndDrop","div","zeroWidthElement","measure","offsetHeight","offsetWidth","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","l","nl","rt","hasSelection","window","getSelection","te","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","name","mode","dependencies","defineMIME","mime","spec","resolveMode","getMode","options","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","state","nstate","val","innerMode","info","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","getLine","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","height","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","String","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","eol","sol","peek","next","eat","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","substr","hideFirstChars","inner","lookAhead","oracle","baseToken","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","o","overlay","overlays","i_end","opaque","styles","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","save","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","saved","fromSaved","processLine","viewFrom","viewTo","nextLine","startAt","stream","callBlankLine","readToken","blankLine","token","copy","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","op","inThisOp","WeakSet","markedSpans","has","add","attachLine","markedSpansBefore","old","startCh","isInsert","nw","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","startsBefore","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","clearEmptySpans","newMarkers","gapMarkers","gap","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","p","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","found$1","findMaxLine","d","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","getOption","rest","addToken","buildToken","buildTokenBadBidi","insertLineContent","externalMeasured","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","title","startStyle","endStyle","css","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","spanStyle","spanEndStyle","spanStartStyle","nextChange","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","group","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","wrap","insertBefore","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","width","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","lineSpace","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","data","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","lineWrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","key","measureCharInner","bogus","rtop","rbottom","measureText","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageXOffset","documentElement","scrollLeft","pageScrollY","marginTop","pageYOffset","scrollTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","get","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","baseX","chAround","boxAround","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","e$1","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","customCursor","$customCursor","sel","ranges","primIndex","empty","head","drawSelectionCursor","showCursorWhenSelecting","drawSelectionRange","cursor","cursorHeight","getWrapperElement","charPos","defaultCharWidth","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","hasFocus","onBlur","ensureFocus","focus","onFocus","delayBlurEvent","delayingBlurEvent","draggingText","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","viewTop","oldHeight","mustScroll","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","gutterSpace","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","getCursor","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","markArrays","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","active","anchorNode","extend","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","nodeName","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","clipPath","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","chromeScrollHack","pointerEvents","pixelsPerUnit","deltaMode","deltaX","deltaY","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","setSelection","extendSelections","heads","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","replaceRange","assign","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","ok","copied","changeLine","handle","changeType","LeafChunk","BranchChunk","removeInner","insertInner","iterN","remaining","leaf","maybeSpill","me","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","addLineWidget","insertAt","aboveVisible","this$1$1","oldH","nextMarkerId","TextMarker","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","withOp","visual","dHeight","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","getValue","join","lineSeparator","setValue","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","lineCount","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","replaceSelection","dup","replaceSelections","newSel","undo","redo","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","CodeMirror","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","t","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","setSize","keyNames","fromCharCode","keyMap","normalizeKeyName","alt","ctrl","cmd","mod","normalizeKeyMap","keymap","keyname","keys","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","prep","targetTop","moveVisually","bidi","mv","getWrappedLineExtent","moveInStorageOrder","searchInVisualLine","getRes","res","nextCh","basic","pcDefault","emacsy","macDefault","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","extraKeys","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","getField","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","lastClick","lastDoubleClick","DOUBLECLICK_DELAY","PastClick","clickRepeat","now","compare","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","contained","behavior","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","preventScroll","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","leftPos","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","buttons","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","theme","Init","defaults","optionHandlers","defineOptions","deflt","notOnInit","defineOption","newBreaks","refresh","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","defineInitHook","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","setOption","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getTokenAt","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","scrollTo","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","astral","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","posToDOM","isInGutter","scan","badPos","bad","domTextBetween","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","textContent","nodeValue","domToPos","lineNode","locateNodeInLineView","textNode","topNode","curNode","previousSibling","dist$1","belongsToInput","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","contentEditable","updateFromDOM","readFromDOMSoon","forceCompositionEnd","label","removeAttribute","showMultipleSelections","curAnchor","curFocus","rng","rangeCount","getRangeAt","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","poll","pollSelection","pollInterval","pollContent","fromIndex","fromNode","toNode","toIndex","newText","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","TextareaInput","prevInput","pollingFast","resetting","fromTextArea","textarea","tabindex","placeholder","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","toTextArea","addLegacyProps","cmpPos","createField","prepareCopyCut","fastPoll","dispatchEvent","Event","_display","opts","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldScrollY","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","mouseup","extval","disabled","dontDelegate","method","defineExtension","func","defineDocExtension","version","factory","codemirrorExports","__esModule","hasRequiredJavascript","javascript","requireJavascript","config","parserConfig","statementIndent","jsonldMode","jsonld","jsonMode","json","trackScope","isTS","typescript","wordRE","wordCharacters","keywords","kw","A","B","C","D","operator","atom","isOperatorChar","isJsonldKeyword","readRegexp","escaped","inSet","ret","tp","cont","tokenBase","tokenize","tokenString","tokenComment","expressionAllowed","tokenQuasi","lexical","lastType","propertyIsEnumerable","quote","maybeEnd","brackets","findFatArrow","fatArrowAt","arrow","depth","sawSomething","bracket","atomicTypes","JSLexical","inScope","varname","localVars","cx","vars","parseJS","cc","marked","expression","statement","lex","pass","inList","register","block","newContext","registerVarScoped","Var","globalVars","isModifier","defaultVars","pushcontext","pushblockcontext","popcontext","pushlex","poplex","expect","wanted","exp","vardef","parenExpr","maybeexpression","maybeelse","functiondef","forspec","enumdef","typename","typeexpr","maybelabel","maybeCatchBinding","afterExport","afterImport","funarg","expressionInner","expressionNoComma","noComma","arrowBodyNoComma","arrowBody","commasep","maybeop","maybeoperatorNoComma","maybeoperatorComma","classExpression","arrayLiteral","contCommasep","objprop","quasi","maybeTarget","expr","property","continueQuasi","targetNoComma","maybeTypeArgs","_","getterSetter","afterprop","maybetype","what","sep","proceed","maybetypeOrIn","mayberettype","isKW","afterType","typeprops","typearg","maybeReturnType","quasiType","typeprop","functiondecl","continueQuasiType","typeparam","maybeTypeDefault","maybeAssign","vardefCont","eltpattern","proppattern","_type","forspec1","forspec2","classNameAfter","classBody","classfield","maybeFrom","exportField","importSpec","maybeMoreImports","maybeAs","enummember","isContinuedStatement","textAfter","basecolumn","firstChar","c","doubleIndentSwitch","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","closeBrackets","skipExpression","hasRequiredXml","xml","requireXml","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","setStyle","htmlMode","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","tagStart","inAttribute","stringStartCol","closure","isInAttribute","terminator","lower","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","isInText","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","hasRequiredCss","requireCss","keySet","inline","propertyKeywords","tokenHooks","documentTypes","mediaTypes","mediaFeatures","mediaValueKeywords","nonStandardPropertyKeywords","fontProperties","counterDescriptors","colorKeywords","valueKeywords","allowNested","supportsAtComponent","highlightNonStandardPropertyKeywords","tokenParenthesized","pushContext","states","popAndPass","wordAsValue","stateArg","atBlock","documentTypes_","mediaTypes_","mediaFeatures_","mediaValueKeywords_","propertyKeywords_","nonStandardPropertyKeywords_","colorKeywords_","valueKeywords_","allWords","tokenCComment","hasRequiredHtmlmixed","htmlmixed","requireHtmlmixed","defaultTags","script","maybeBackup","pat","attrRegexpCache","getAttrRegexp","regexp","getAttrValue","getTagRegexp","anchored","addTags","findMatchingMode","tagInfo","tagText","tags","configTags","configScript","scriptTypes","matches","html","htmlState","endTagA","endTag","localState","localMode","local","hasRequiredClike","hasRequiredPhp","clike","requireClike","typeBefore","prevToken","typeAtEndOfLine","isTopScope","words","curPunc","isDefKeyword","statementIndentUnit","dontAlignCalls","builtin","blockKeywords","defKeywords","atoms","hooks","multiLineStrings","indentStatements","indentSwitch","namespaceSeparator","isPunctuationChar","numberStart","number","isIdentifierChar","isReservedIdentifier","maybeEOL","typeFirstDefinitions","ctx","styleDefs","dontIndentStatements","hook","switchBlock","allmanIndentation","cKeywords","cppKeywords","objCKeywords","objCBuiltins","basicCTypes","basicObjCTypes","cTypes","identifier","objCTypes","cBlockKeywords","cDefKeywords","cppHook","pointerHook","cIsReservedIdentifier","cpp14Literal","cpp11StringHook","cpp11RawStringDelim","tokenRawString","cppLooksLikeConstructor","lastTwo","tokenAtString","delim","def","mimes","tokenTripleString","tokenNestedComment","tokenKotlinString","tripleString","pairs","triples","intendSwitch","stringTokenizer","tokenCeylonString","matchSequence","escapes","phpString","patterns","phpString_","tokStack","phpKeywords","phpAtoms","phpBuiltin","phpConfig","quoted","phpMode","dispatch","isPHP","curMode","pending","php","curState","openPHP","startOpen","htmlNew","phpNew","hasRequiredSass","cssMode","tokenRegexp","keywordsRegexp","opRegexp","pseudoElementsRegexp","isEndLine","urlTokens","tokenizer","buildStringTokenizer","comment","multiLine","greedy","nextChar","peekChar","previousChar","cursorHalf","buildInterpolationTokenizer","currentTokenizer","indentCount","currentOffset","scopes","dedent","prevProp","tokenLexer","withCurrentIndent","newScopes","scope","definedVars","definedMixins","lastToken"],"mappings":"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"}