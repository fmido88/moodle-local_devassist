{"version":3,"file":"editor.min.js","sources":["../src/editor.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * TODO describe module editor\n *\n * @module     local_devassist/editor\n * @copyright  2025 Mohammad Farouk <phun.for.physics@gmail.com>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\nimport CodeMirror from \"local_devassist/codemirror\";\nimport $ from \"jquery\";\n\nexport const init = function(mode = 'php') {\n    var textarea = $('textarea[name=\"code\"]');\n    if (textarea[0]) {\n\n        // eslint-disable-next-line no-console\n        console.log(mode);\n        switch (mode) {\n            case 'php':\n                mode = {name: \"php\", startOpen: true};\n                break;\n            case 'js':\n                mode = 'javascript';\n                break;\n            case 'mustache':\n                mode = 'php';\n                break;\n            default:\n        }\n\n        let phpCodeMirror = CodeMirror.fromTextArea(textarea[0], {\n            lineNumbers: true,\n            mode: mode,\n            tabSize: 4,\n            lineWrapping: true,\n            indentWithTabs: false,\n            spellcheck: true,\n            theme: \"vscode-dark\",\n        });\n        phpCodeMirror.setSize('100%', '500px');\n        phpCodeMirror.on('change', function(cm) {\n            cm.save();\n        });\n    }\n};"],"names":["mode","textarea","console","log","name","startOpen","phpCodeMirror","CodeMirror","fromTextArea","lineNumbers","tabSize","lineWrapping","indentWithTabs","spellcheck","theme","setSize","on","cm","save"],"mappings":";;;;;;;wLAyBoB,eAASA,4DAAO,UAC5BC,UAAW,mBAAE,4BACbA,SAAS,GAAI,QAGbC,QAAQC,IAAIH,MACJA,UACC,MACDA,KAAO,CAACI,KAAM,MAAOC,WAAW,aAE/B,KACDL,KAAO,uBAEN,WACDA,KAAO,UAKXM,cAAgBC,oBAAWC,aAAaP,SAAS,GAAI,CACrDQ,aAAa,EACbT,KAAMA,KACNU,QAAS,EACTC,cAAc,EACdC,gBAAgB,EAChBC,YAAY,EACZC,MAAO,gBAEXR,cAAcS,QAAQ,OAAQ,SAC9BT,cAAcU,GAAG,UAAU,SAASC,IAChCA,GAAGC"}